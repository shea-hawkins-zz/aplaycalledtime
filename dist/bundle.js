!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="/dist/",t(0)}([function(e,t,r){e.exports=r(338)},function(e,t,r){"use strict";var n=r(43),i=r(75),o=r(800),a=r(18),s=r(14),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=o.toSubscriber(e,t,r);if(n?i.add(this._subscribe(n.call(i))):i.add(this._subscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype.forEach=function(e,t,r){if(r||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?r=n.root.Rx.config.Promise:n.root.Promise&&(r=n.root.Promise)),!r)throw new Error("no Promise impl found");var i=this;return new r(function(r,n){i.subscribe(function(r){var i=a.tryCatch(e).call(t,r);i===s.errorObject&&n(s.errorObject.e)},n,r)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[i.SymbolShim.observable]=function(){return this},e.create=function(t){return new e(t)},e}();t.Observable=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(126),o=r(31),a=r(123),s=r(600),u=function(e){function t(r,n,i){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!r){this.destination=s.empty;break}if("object"==typeof r){r instanceof t?this.destination=r:(this.syncErrorThrowable=!0,this.destination=new c(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,r,n,i)}}return n(t,e),t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype[a.rxSubscriber]=function(){return this},t}(o.Subscription);t.Subscriber=u;var c=function(e){function t(t,r,n,o){e.call(this),this._parent=t;var a,s=this;i.isFunction(r)?a=r:r&&(s=r,a=r.next,n=r.error,o=r.complete),this._context=s,this._next=a,this._error=n,this._complete=o}return n(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parent;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parent;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){if(!this.isStopped){var e=this._parent;this._complete?e.syncErrorThrowable?(this.__tryOrSetError(e,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(r){throw this.unsubscribe(),r}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(n){return e.syncErrorValue=n,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parent;this._context=null,this._parent=null,e.unsubscribe()},t}(u)},function(e,t){"use strict";t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0},function(e,t,r){"use strict";e.exports=r(554)},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}e.exports=n},function(e,t){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var r=Object(e),n=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var a=Object(o);for(var s in a)n.call(a,s)&&(r[s]=a[s])}}return r}e.exports=r},function(e,t,r){"use strict";var n=r(37),i=n;e.exports=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(2),o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(i.Subscriber);t.OuterSubscriber=o},function(e,t,r){"use strict";function n(e,t,r,n){var l=new c.InnerSubscriber(e,r,n);if(!l.isUnsubscribed){if(t instanceof s.Observable)return t._isScalar?(l.next(t.value),void l.complete()):t.subscribe(l);if(o.isArray(t)){for(var h=0,p=t.length;p>h&&!l.isUnsubscribed;h++)l.next(t[h]);l.isUnsubscribed||l.complete()}else{if(a.isPromise(t))return t.then(function(e){l.isUnsubscribed||(l.next(e),l.complete())},function(e){return l.error(e)}).then(null,function(e){i.root.setTimeout(function(){throw e})}),l;if("function"==typeof t[u.SymbolShim.iterator]){for(var d=0,f=t;d<f.length;d++){var m=f[d];if(l.next(m),l.isUnsubscribed)break}l.isUnsubscribed||l.complete()}else if("function"==typeof t[u.SymbolShim.observable]){var v=t[u.SymbolShim.observable]();if("function"==typeof v.subscribe)return v.subscribe(new c.InnerSubscriber(e,r,n));l.error("invalid observable")}else l.error(new TypeError("unknown type returned"))}}}var i=r(43),o=r(51),a=r(194),s=r(1),u=r(75),c=r(599);t.subscribeToResult=n},function(e,t,r){"use strict";var n=r(15)["default"],i=r(454),o=r(467);o.injectNetworkLayer(new i("/graphql")),e.exports=n({},o,{DefaultNetworkLayer:i})},function(e,t,r){"use strict";function n(e,t,r){var n=!0;e:for(;n;){var o=e,a=t,s=r;n=!1,"object"!=typeof o||null===o?w(!1):void 0;var u=o.kind,c=L;if("Field"===u)c=z;else if("Fragment"===u)c=V;else if("FragmentReference"===u){c=V;var h=l.getFragment(o.fragment);if(h)return i(h,a,{},{isDeferred:!1,isContainerFragment:!0})}else if("Query"===u)c=F;else if("Mutation"===u)c=U;else if("Subscription"===u)c=B;else{if(o instanceof m){var h=o.getFragmentForRoute(a);if(h){e=h,t=a,r=s,n=!0,u=c=h=h=void 0;continue e}return null}if(o instanceof p){var h=o.getFragment(s),d=o.getVariables(a,s);return h?i(h,a,d,{isDeferred:o.isDeferred(),isContainerFragment:o.isContainerFragment()}):null}}return new c(o,a,s)}}function i(e,t,r,n){var i=t.name+":"+C(r)+":"+C(n),o=e.__cachedFragment__,a=e.__cacheKey__;return o&&a===i||(o=new V(e,t,r,n),e.__cachedFragment__=o,e.__cacheKey__=i),o}function o(e,t){for(var r=[],n=!0,i=0,o=0;o<t.length;o++){var a=t[o];a&&(r.push(a),n=n&&a===e[i++])}return n&&r.length===e.length?e:r}function a(e){if(!e.length)return"";var t=function(){var t={};return e.forEach(function(e){t[e.name]=e.value}),{v:C(t)}}();return"object"==typeof t?t.v:void 0}var s=r(3)["default"],u=r(16)["default"],c=r(15)["default"],l=(r(68)["default"],r(45)),h=r(20),p=r(104),d=r(54),f=r(13),m=r(246),v=r(259),g=r(150),y=r(247),b=r(487),_=r(492),x=r(493),w=r(5),E=r(107),S=r(160),C=r(256),M="if",A="unless",T="true",R="false",O="skip",P="include",D=0,I={isDeferred:!1,isContainerFragment:!1},N=[],k=[],L=function(){function e(t,r,n){s(this,e),"RelayQueryNode"===this.constructor.name?w(!1):void 0,this.__concreteNode__=t,this.__route__=r,this.__variables__=n,this.__calls__=null,this.__children__=null,this.__fieldMap__=null,this.__hasDeferredDescendant__=null,this.__hasValidatedConnectionCalls__=null,this.__serializationKey__=null,this.__storageKey__=null}return e.create=function(t,r,i){var o=n(t,r,i);return o instanceof e?void 0:w(!1),o},e.prototype.canHaveSubselections=function(){return!0},e.prototype.isGenerated=function(){return!1},e.prototype.isRefQueryDependency=function(){return!1},e.prototype.clone=function t(r){if(!this.canHaveSubselections())return 0!==r.length?w(!1):void 0,this;var n=this.getChildren(),i=o(n,r);if(!i.length)return null;if(i===n)return this;var t=e.create(this.__concreteNode__,this.__route__,this.__variables__);return t.__children__=i,t.__calls__=this.__calls__,t.__serializationKey__=this.__serializationKey__,t.__storageKey__=this.__storageKey__,t},e.prototype.getChildren=function(){var e=this,t=this.__children__;return t||!function(){var r=[],i=e.__concreteNode__.children;i&&i.forEach(function(t){if(null!=t){var i=n(t,e.__route__,e.__variables__);i&&i.isIncluded()&&r.push(i)}}),e.__children__=r,t=r}(),t},e.prototype.isIncluded=function(){return this.__concreteNode__.directives?this.getDirectives().every(function(e){return e.name===O?!e.args.some(function(e){return e.name===M&&!!e.value}):e.name===P?!e.args.some(function(e){return e.name===M&&!e.value}):!0}):!0},e.prototype.getDirectives=function(){var e=this,t=this.__concreteNode__.directives;return t?this.__concreteNode__.directives.map(function(t){return{args:g(t.args,e.__variables__),name:t.name}}):N},e.prototype.getField=function(e){return this.getFieldByStorageKey(e.getStorageKey())},e.prototype.getFieldByStorageKey=function(e){var t=this.__fieldMap__;if(!t){t={};for(var r,n=this.getChildren(),i=0;i<n.length;i++)r=n[i],r instanceof z&&(t[r.getStorageKey()]=r);this.__fieldMap__=t}return t[e]},e.prototype.getType=function(){return this.__concreteNode__.type},e.prototype.getRoute=function(){return this.__route__},e.prototype.getVariables=function(){return this.__variables__},e.prototype.hasDeferredDescendant=function r(){var r=this.__hasDeferredDescendant__;return null==r&&(r=this.canHaveSubselections()&&this.getChildren().some(function(e){return e.hasDeferredDescendant()}),this.__hasDeferredDescendant__=r),r},e.prototype.isAbstract=function(){throw new Error("RelayQueryNode: Abstract function cannot be called.")},e.prototype.isRequisite=function(){return!1},e.prototype.equals=function(e){var t=this.getChildren(),r=e.getChildren();return t===r||t.length===r.length&&t.every(function(e,t){return e.equals(r[t])})},e.prototype.isEquivalent=function(e){return this.__concreteNode__===e.__concreteNode__&&this.__route__===e.__route__&&S(this.__variables__,e.__variables__)},e.prototype.createNode=function(t){return e.create(t,this.__route__,this.__variables__)},e.prototype.getConcreteQueryNode=function(){return this.__concreteNode__},e}(),F=function(e){function t(r,n,i){s(this,t),e.call(this,r,n,i),this.__batchCall__=void 0,this.__id__=void 0,this.__identifyingArg__=void 0,this.__storageKey__=void 0,this.getID()}return u(t,e),t.build=function(e,r,n,i,o,a){var s=i?i.filter(function(e){return!!e}):[],u=l.getBatchCallVariable(n),c=void 0;u?c=u:Array.isArray(n)?c=n.map(l.createCallValue):n&&(c=l.createCallValue(n));var h=l.createQuery({fieldName:r,identifyingArgValue:c,metadata:o,name:e,type:a}),p=new t(h,d.get("$RelayQuery"),{});return p.__children__=s,p},t.create=function(e,r,n){var i=l.getQuery(e);return i?void 0:w(!1),new t(i,r,n)},t.prototype.canHaveSubselections=function(){return!0},t.prototype.getName=function(){var e=this.__concreteNode__.name;return e||(e=this.getID(),this.__concreteNode__.name=e),e},t.prototype.getID=function(){var e=this.__id__;return null==e&&(e="q"+D++,this.__id__=e),e},t.prototype.getBatchCall=function(){var e=this.__batchCall__;if(void 0===e){var t=this.__concreteNode__.calls;if(t){var r=t[0]&&t[0].value;null==r||Array.isArray(r)||"BatchCallVariable"!==r.kind||(e={refParamName:"ref_"+r.sourceQueryID,sourceQueryID:r.sourceQueryID,sourceQueryPath:r.jsonPath})}e=e||null,this.__batchCall__=e}return e},t.prototype.getCallsWithValues=function(){var e=this.__calls__;if(!e){var t=this.__concreteNode__.calls;e=t?g(t,this.__variables__):k,this.__calls__=e}return e},t.prototype.getFieldName=function(){return this.__concreteNode__.fieldName},t.prototype.getIdentifyingArg=function(){var e=this,t=this.__identifyingArg__;return t||!function(){var r=e.__concreteNode__.metadata,n=r.identifyingArgName;null!=n&&(t=e.getCallsWithValues().find(function(e){return e.name===n}),t&&null!=r.identifyingArgType&&(t.type=r.identifyingArgType),e.__identifyingArg__=t)}(),t},t.prototype.getStorageKey=function(){var e=this,t=this.__storageKey__;return t||!function(){var r=e.getCallsWithValues(),n=e.getIdentifyingArg();n&&(r=r.filter(function(e){return e!==n}));var i=z.build({fieldName:e.getFieldName(),calls:r,type:e.getType()});t=i.getStorageKey(),e.__storageKey__=t}(),t},t.prototype.hasDeferredDescendant=function(){return this.isDeferred()||e.prototype.hasDeferredDescendant.call(this)},t.prototype.isAbstract=function(){return!!this.__concreteNode__.metadata.isAbstract},t.prototype.isDeferred=function(){return!!this.__concreteNode__.isDeferred},t.prototype.isPlural=function(){return!!this.__concreteNode__.metadata.isPlural},t.prototype.equals=function(r){return this===r?!0:r instanceof t&&v(this.getBatchCall(),r.getBatchCall())&&this.getFieldName()===r.getFieldName()&&v(this.getCallsWithValues(),r.getCallsWithValues())?e.prototype.equals.call(this,r):!1},t}(L),j=function(e){function t(r,n,i){s(this,t),e.call(this,r,n,i),"RelayQueryOperation"===this.constructor.name?w(!1):void 0}return u(t,e),t.prototype.canHaveSubselections=function(){return!0},t.prototype.getName=function(){return this.__concreteNode__.name},t.prototype.getResponseType=function(){return this.__concreteNode__.responseType},t.prototype.getType=function(){return this.getResponseType()},t.prototype.getInputType=function(){var e=this.__concreteNode__.metadata.inputType;return e?void 0:w(!1),e},t.prototype.getCall=function(){var e=this.__calls__;if(!e){var t=this.__concreteNode__.calls;e=t?g(t,this.__variables__):k,this.__calls__=e}return e[0]},t.prototype.getCallVariableName=function(){if(!this.__callVariableName__){var e=this.__concreteNode__.calls,t=e&&l.getCallVariable(e[0].value);t?void 0:w(!1),this.__callVariableName__=t.callVariableName}return this.__callVariableName__},t.prototype.isAbstract=function(){return!1},t}(L),U=function(e){function t(){s(this,t),e.apply(this,arguments)}return u(t,e),t.build=function(e,r,n,i,o,a){var s=o?o.filter(function(e){return!!e}):[],u=l.createMutation({calls:[l.createCall(n,l.createCallVariable("input"))],metadata:a,name:e,responseType:r}),c=new t(u,d.get("$RelayQuery"),{input:i||""});return c.__children__=s,c},t.prototype.equals=function(r){return this===r?!0:r instanceof t&&v(this.getResponseType(),r.getResponseType())&&v(this.getCall(),r.getCall())?e.prototype.equals.call(this,r):!1},t}(j),B=function(e){function t(){s(this,t),e.apply(this,arguments)}return u(t,e),t.create=function(e,r,n){var i=l.getSubscription(e);return i?void 0:w(!1),new t(e,r,n)},t.prototype.getPublishedPayloadType=function(){return this.getResponseType()},t.prototype.equals=function(r){return this===r?!0:r instanceof t&&v(this.getPublishedPayloadType(),r.getPublishedPayloadType())&&v(this.getCall(),r.getCall())?e.prototype.equals.call(this,r):!1},t}(j),V=function(e){function t(r,n,i,o){s(this,t),e.call(this,r,n,i),this.__compositeHash__=null,this.__isCloned__=!1,this.__metadata__=o||I}return u(t,e),t.build=function(e,r,n,i){var o=n?n.filter(function(e){return!!e}):[],a=l.createFragment({name:e,type:r,metadata:i}),s=new t(a,d.get("$RelayQuery"),{},{isDeferred:!(!i||!i.isDeferred),isContainerFragment:!(!i||!i.isContainerFragment)});return s.__children__=o,s},t.create=function(e,t,r,n){var o=l.getFragment(e);return o?void 0:w(!1),i(o,t,r,n||I)},t.prototype.canHaveSubselections=function(){return!0},t.prototype.getDebugName=function(){return this.__concreteNode__.name},t.prototype.isCloned=function(){return this.__isCloned__},t.prototype.getConcreteNodeHash=function(){return x(this.__concreteNode__)},t.prototype.getCompositeHash=function(){var e=this.__compositeHash__;return e||(e=_(this.getConcreteNodeHash()+"."+this.__route__.name+"."+C(this.__variables__)),this.__compositeHash__=e),e},t.prototype.isAbstract=function(){return!!this.__concreteNode__.metadata.isAbstract},t.prototype.isDeferred=function(){return this.__metadata__.isDeferred},t.prototype.isPattern=function(){return!!this.__concreteNode__.metadata.pattern},t.prototype.isPlural=function(){var e=this.__concreteNode__.metadata;return!(!e.isPlural&&!e.plural)},t.prototype.cloneAsPlainFragment=function(){return i(this.__concreteNode__,this.__route__,this.__variables__,I)},t.prototype.isContainerFragment=function(){return this.__metadata__.isContainerFragment},t.prototype.hasDeferredDescendant=function(){return this.isDeferred()||e.prototype.hasDeferredDescendant.call(this)},t.prototype.clone=function r(n){var r=e.prototype.clone.call(this,n);return r!==this&&r instanceof t&&(r.__isCloned__=!0,r.__metadata__=c({},this.__metadata__)),r},t.prototype.equals=function(r){return this===r?!0:r instanceof t?this.getType()!==r.getType()?!1:e.prototype.equals.call(this,r):!1},t}(L),z=function(e){function t(r,n,i){s(this,t),e.call(this,r,n,i),this.__debugName__=void 0,this.__isRefQueryDependency__=!1,this.__rangeBehaviorKey__=void 0,this.__shallowHash__=void 0}return u(t,e),t.create=function(e,r,n){var i=l.getField(e);return i?void 0:w(!1),new t(i,r,n)},t.build=function(e){var r=e.alias,n=e.directives,i=e.calls,o=e.children,a=e.fieldName,s=e.metadata,u=e.type;return function(){var e=o?o.filter(function(e){return!!e}):[],c=l.createField({alias:r,calls:i?y(i):null,directives:n?b(n):null,fieldName:a,metadata:s,type:u}),h=new t(c,d.get("$RelayQuery"),{});return h.__children__=e,h}()},t.prototype.canHaveSubselections=function(){return!!this.__concreteNode__.metadata.canHaveSubselections},t.prototype.isAbstract=function(){return!!this.__concreteNode__.metadata.isAbstract},t.prototype.isFindable=function(){return!!this.__concreteNode__.metadata.isFindable},t.prototype.isGenerated=function(){return!!this.__concreteNode__.metadata.isGenerated},t.prototype.isConnection=function(){return!!this.__concreteNode__.metadata.isConnection},t.prototype.isConnectionWithoutNodeID=function(){return!!this.__concreteNode__.metadata.isConnectionWithoutNodeID},t.prototype.isPlural=function(){return!!this.__concreteNode__.metadata.isPlural},t.prototype.isRefQueryDependency=function(){return this.__isRefQueryDependency__},t.prototype.isRequisite=function(){return!!this.__concreteNode__.metadata.isRequisite},t.prototype.getDebugName=function(){var e=this,t=this.__debugName__;return t||!function(){t=e.getSchemaName();var r=void 0;e.getCallsWithValues().forEach(function(t){e._isCoreArg(t)&&(r=r||[],r.push(E(t)))}),r&&(t+=r.sort().join("")),e.__debugName__=t}(),t},t.prototype.getSchemaName=function(){return this.__concreteNode__.fieldName},t.prototype.getRangeBehaviorKey=function(){var e=this;this.isConnection()?void 0:w(!1);var t=this.__rangeBehaviorKey__;return null==t&&!function(){var r=[];e.getCallsWithValues().forEach(function(t){e._isCoreArg(t)&&r.push(E(t))}),t=r.sort().join("").slice(1),e.__rangeBehaviorKey__=t}(),t},t.prototype.getSerializationKey=function(){var e=this.__serializationKey__;return e||(e=_(this.getSchemaName()+this.getCallsWithValues().map(E).sort().join("")),this.__serializationKey__=e),e},t.prototype.getShallowHash=function(){var e=this.__shallowHash__;return e||(this.__shallowHash__=e=this.getSchemaName()+a(this.getCallsWithValues())),e},t.prototype.getStorageKey=function(){var e=this,t=this.__storageKey__;return t||(this.__storageKey__=t=this.getSchemaName()+a(this.getCallsWithValues().filter(function(t){return e._isCoreArg(t)}))),t},t.prototype.getApplicationName=function(){var e=this.__concreteNode__;return e.alias||e.fieldName},t.prototype.getInferredRootCallName=function(){return this.__concreteNode__.metadata.inferredRootCallName},t.prototype.getInferredPrimaryKey=function(){return this.__concreteNode__.metadata.inferredPrimaryKey},t.prototype.getCallsWithValues=function(){var e=this.__calls__;if(!e){var t=this.__concreteNode__.calls;e=t?g(t,this.__variables__):k,this.__calls__=e}return e},t.prototype.getCallType=function(e){var t=this.__concreteNode__.calls,r=t&&t.filter(function(t){return t.name===e})[0];return r?r.metadata.type:void 0},t.prototype.equals=function(r){return this===r?!0:r instanceof t&&this.getSchemaName()===r.getSchemaName()&&this.getApplicationName()===r.getApplicationName()&&v(this.getCallsWithValues(),r.getCallsWithValues())?e.prototype.equals.call(this,r):!1},t.prototype.cloneAsRefQueryDependency=function(){var e=new t(this.__concreteNode__,this.__route__,this.__variables__);return e.__children__=[],e.__isRefQueryDependency__=!0,e},t.prototype.cloneFieldWithCalls=function(e,r){if(this.canHaveSubselections()||(0!==e.length?w(!1):void 0),v(this.getCallsWithValues(),r)){var n=this.clone(e);return n}var i=o(this.getChildren(),e);if(!i.length)return null;var a=new t(this.__concreteNode__,this.__route__,this.__variables__);return a.__children__=i,a.__calls__=r,a},t.prototype._isCoreArg=function(e){return!(e.name===M&&String(e.value)===T||e.name===A&&String(e.value)===R||this.isConnection()&&h.isConnectionCall(e))},t}(L);f.instrumentMethods(L.prototype,{clone:"@RelayQueryNode.prototype.clone",equals:"@RelayQueryNode.prototype.equals",getChildren:"@RelayQueryNode.prototype.getChildren",getDirectives:"@RelayQueryNode.prototype.getDirectives",hasDeferredDescendant:"@RelayQueryNode.prototype.hasDeferredDescendant",getFieldByStorageKey:"@RelayQueryNode.prototype.getFieldByStorageKey"}),f.instrumentMethods(z.prototype,{getStorageKey:"@RelayQueryField.prototype.getStorageKey",getSerializationKey:"@RelayQueryField.prototype.getSerializationKey"}),e.exports={Field:z,Fragment:V,Mutation:U,Node:L,Operation:j,Root:F,Subscription:B}},function(e,t,r){"use strict";var n=r(158),i=r(28),o=r(519),a={"*":[]},s={"*":[]},u={},c={stop:n},l=function(e){return"@"!==e.charAt(0)},h={instrumentMethods:function(e,t){i(t,function(t,r){e[r]=h.instrument(t,e[r])})},instrument:function(e,t){if(!l(e))return t.attachHandler=n,t.detachHandler=n,t;a.hasOwnProperty(e)||(a[e]=[]);var r=a["*"],i=a[e],s=[],c=[],h=function d(){var n=c[c.length-1];n[0]?(n[0]--,r[n[0]](e,d)):n[1]?(n[1]--,i[n[1]](e,d)):n[2]?(n[2]--,s[n[2]](e,d)):n[5]=t.apply(n[3],n[4])},p=function(){var e=void 0;if(0===i.length&&0===s.length&&0==r.length)e=t.apply(this,arguments);else{c.push([r.length,i.length,s.length,this,arguments,u]),h();var n=c.pop();if(e=n[5],e===u)throw new Error("RelayProfiler: Handler did not invoke original function.")}return e};return p.attachHandler=function(e){s.push(e)},p.detachHandler=function(e){o(s,e)},p.displayName="(instrumented "+e+")",p},attachAggregateHandler:function(e,t){l(e)&&(a.hasOwnProperty(e)||(a[e]=[]),a[e].push(t))},detachAggregateHandler:function(e,t){l(e)&&a.hasOwnProperty(e)&&o(a[e],t)},profile:function(e,t){var r=s["*"].length>0,n=s.hasOwnProperty(e);if(n||r){var i=function(){for(var i=n&&r?s[e].concat(s["*"]):n?s[e]:s["*"],o=void 0,a=i.length-1;a>=0;a--){var u=i[a],c=u(e,t);o=o||[],o.unshift(c)}return{v:{stop:function(){o&&o.forEach(function(e){return e()})}}}}();if("object"==typeof i)return i.v}return c},attachProfileHandler:function(e,t){l(e)&&(s.hasOwnProperty(e)||(s[e]=[]),s[e].push(t))},detachProfileHandler:function(e,t){l(e)&&s.hasOwnProperty(e)&&o(s[e],t)}};e.exports=h},function(e,t){"use strict";t.errorObject={e:{}}},function(e,t,r){"use strict";var n=r(154)["default"];t["default"]=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.__esModule=!0},function(e,t,r){"use strict";var n=r(509)["default"],i=r(511)["default"];t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},t.__esModule=!0},function(e,t,r){"use strict";var n=r(158),i=n;e.exports=i},function(e,t,r){"use strict";function n(){try{return o.apply(this,arguments)}catch(e){return a.errorObject.e=e,a.errorObject}}function i(e){return o=e,n}var o,a=r(14);t.tryCatch=i},function(e,t){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=n},function(e,t,r){"use strict";e.exports=r(463)},function(e,t,r){"use strict";var n=r(15)["default"],i=r(24)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o={DATA_ID:"__dataID__",FILTER_CALLS:"__filterCalls__",FORCE_INDEX:"__forceIndex__",MUTATION_IDS:"__mutationIDs__",PATH:"__path__",RANGE:"__range__",RESOLVED_DEFERRED_FRAGMENTS:"__resolvedDeferredFragments__",RESOLVED_FRAGMENT_MAP:"__resolvedFragmentMap__",RESOLVED_FRAGMENT_MAP_GENERATION:"__resolvedFragmentMapGeneration__",STATUS:"__status__"},a={};i(o).forEach(function(e){a[o[e]]=!0});var s={MetadataKey:o,create:function(e){return{__dataID__:e}},createWithFields:function(e,t){return n({__dataID__:e},t)},isRecord:function(e){return"object"==typeof e&&null!=e&&!Array.isArray(e)&&"string"==typeof e.__dataID__},getDataID:function(e){return e.__dataID__},isClientID:function(e){return"client:"===e.substring(0,7)},isMetadataKey:function(e){return a.hasOwnProperty(e)}};e.exports=s},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){t="[react-router] "+t;for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;r>i;i++)n[i-2]=arguments[i]}t.__esModule=!0,t["default"]=i;var o=r(39);n(o);e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e,t,r,n,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=n},function(e,t,r){e.exports={"default":r(209),__esModule:!0}},function(e,t,r){"use strict";function n(e,t){for(var r=Math.min(e.length,t.length),n=0;r>n;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length===t.length?-1:r}function i(e){return e?e.nodeType===z?e.documentElement:e.firstChild:null}function o(e){var t=i(e);return t&&K.getID(t)}function a(e){var t=s(e);if(t)if(B.hasOwnProperty(t)){var r=B[t];r!==e&&(h(r,t)?L(!1):void 0,B[t]=e)}else B[t]=e;return t}function s(e){return e&&e.getAttribute&&e.getAttribute(U)||""}function u(e,t){var r=s(e);r!==t&&delete B[r],e.setAttribute(U,t),B[t]=e}function c(e){return B.hasOwnProperty(e)&&h(B[e],e)||(B[e]=K.findReactNodeByID(e)),B[e]}function l(e){var t=M.get(e)._rootNodeID;return S.isNullComponentID(t)?null:(B.hasOwnProperty(t)&&h(B[t],t)||(B[t]=K.findReactNodeByID(t)),B[t])}function h(e,t){if(e){s(e)!==t?L(!1):void 0;var r=K.findReactContainerForID(t);if(r&&N(r,e))return!0}return!1}function p(e){delete B[e]}function d(e){var t=B[e];return t&&h(t,e)?void(X=t):!1}function f(e){X=null,C.traverseAncestors(e,d);var t=X;return X=null,t}function m(e,t,r,n,i,o){w.useCreateElement&&(o=D({},o),r.nodeType===z?o[G]=r:o[G]=r.ownerDocument);var a=R.mountComponent(e,t,n,o);e._renderedComponent._topLevelWrapper=e,K._mountImageIntoNode(a,r,i,n)}function v(e,t,r,n,i){var o=P.ReactReconcileTransaction.getPooled(n);o.perform(m,null,e,t,r,o,n,i),P.ReactReconcileTransaction.release(o)}function g(e,t){for(R.unmountComponent(e),t.nodeType===z&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=o(e);return t?t!==C.getReactRootIDFromNodeID(t):!1}function b(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=s(e);if(t){var r,n=C.getReactRootIDFromNodeID(t),i=e;do if(r=s(i),i=i.parentNode,null==i)return null;while(r!==n);if(i===q[n])return e}}return null}var _=r(72),x=r(112),w=(r(42),r(283)),E=r(29),S=r(290),C=r(73),M=r(87),A=r(293),T=r(34),R=r(57),O=r(170),P=r(35),D=r(7),I=r(79),N=r(222),k=r(177),L=r(6),F=r(119),j=r(180),U=(r(182),r(8),_.ID_ATTRIBUTE_NAME),B={},V=1,z=9,H=11,G="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),W={},q={},Q=[],X=null,Y=function(){};Y.prototype.isReactComponent={},Y.prototype.render=function(){return this.props};var K={TopLevelWrapper:Y,_instancesByReactRootID:W,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,r,n){return K.scrollMonitor(r,function(){O.enqueueElementInternal(e,t),n&&O.enqueueCallbackInternal(e,n)}),e},_registerComponent:function(e,t){!t||t.nodeType!==V&&t.nodeType!==z&&t.nodeType!==H?L(!1):void 0,x.ensureScrollValueMonitoring();var r=K.registerContainer(t);return W[r]=e,r},_renderNewRootComponent:function(e,t,r,n){var i=k(e,null),o=K._registerComponent(i,t);return P.batchedUpdates(v,i,o,t,r,n),i},renderSubtreeIntoContainer:function(e,t,r,n){return null==e||null==e._reactInternalInstance?L(!1):void 0,K._renderSubtreeIntoContainer(e,t,r,n)},_renderSubtreeIntoContainer:function(e,t,r,n){E.isValidElement(t)?void 0:L(!1);var a=new E(Y,null,null,null,null,null,t),u=W[o(r)];if(u){var c=u._currentElement,l=c.props;if(j(l,t)){var h=u._renderedComponent.getPublicInstance(),p=n&&function(){n.call(h)};return K._updateRootComponent(u,a,r,p),h}K.unmountComponentAtNode(r)}var d=i(r),f=d&&!!s(d),m=y(r),v=f&&!u&&!m,g=K._renderNewRootComponent(a,r,v,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):I)._renderedComponent.getPublicInstance();return n&&n.call(g),g},render:function(e,t,r){return K._renderSubtreeIntoContainer(null,e,t,r)},registerContainer:function(e){var t=o(e);return t&&(t=C.getReactRootIDFromNodeID(t)),t||(t=C.createReactRootID()),q[t]=e,t},unmountComponentAtNode:function(e){!e||e.nodeType!==V&&e.nodeType!==z&&e.nodeType!==H?L(!1):void 0;var t=o(e),r=W[t];if(!r){var n=(y(e),s(e));n&&n===C.getReactRootIDFromNodeID(n);return!1}return P.batchedUpdates(g,r,e),delete W[t],delete q[t],!0},findReactContainerForID:function(e){var t=C.getReactRootIDFromNodeID(e),r=q[t];return r},findReactNodeByID:function(e){var t=K.findReactContainerForID(e);return K.findComponentRoot(t,e)},getFirstReactDOM:function(e){return b(e)},findComponentRoot:function(e,t){var r=Q,n=0,i=f(t)||e;for(r[0]=i.firstChild,r.length=1;n<r.length;){for(var o,a=r[n++];a;){var s=K.getID(a);s?t===s?o=a:C.isAncestorIDOf(s,t)&&(r.length=n=0,r.push(a.firstChild)):r.push(a.firstChild),a=a.nextSibling}if(o)return r.length=0,o}r.length=0,L(!1)},_mountImageIntoNode:function(e,t,r,o){if(!t||t.nodeType!==V&&t.nodeType!==z&&t.nodeType!==H?L(!1):void 0,r){var a=i(t);if(A.canReuseMarkup(e,a))return;var s=a.getAttribute(A.CHECKSUM_ATTR_NAME);a.removeAttribute(A.CHECKSUM_ATTR_NAME);var u=a.outerHTML;a.setAttribute(A.CHECKSUM_ATTR_NAME,s);var c=e,l=n(c,u);" (client) "+c.substring(l-20,l+20)+"\n (server) "+u.substring(l-20,l+20);
t.nodeType===z?L(!1):void 0}if(t.nodeType===z?L(!1):void 0,o.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else F(t,e)},ownerDocumentContextKey:G,getReactRootID:o,getID:a,setID:u,getNode:c,getNodeFromInstance:l,isValid:h,purgeID:p};T.measureMethods(K,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=K},function(e,t){var r=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},function(e,t,r){"use strict";e.exports=r(465)},function(e,t){"use strict";function r(e,t,r){for(var i in e)n.call(e,i)&&t.call(r,e[i],i,e)}var n=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,r){"use strict";var n=r(42),i=r(7),o=(r(117),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},s=function(e,t,r,n,i,a,s){var u={$$typeof:o,type:e,key:t,ref:r,props:s,_owner:a};return u};s.createElement=function(e,t,r){var i,o={},u=null,c=null,l=null,h=null;if(null!=t){c=void 0===t.ref?null:t.ref,u=void 0===t.key?null:""+t.key,l=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source;for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(o[i]=t[i])}var p=arguments.length-2;if(1===p)o.children=r;else if(p>1){for(var d=Array(p),f=0;p>f;f++)d[f]=arguments[f+2];o.children=d}if(e&&e.defaultProps){var m=e.defaultProps;for(i in m)"undefined"==typeof o[i]&&(o[i]=m[i])}return s(e,u,c,l,h,n.current,o)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceKey=function(e,t){var r=s(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return r},s.cloneAndReplaceProps=function(e,t){var r=s(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return r},s.cloneElement=function(e,t,r){var o,u=i({},e.props),c=e.key,l=e.ref,h=e._self,p=e._source,d=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,d=n.current),void 0!==t.key&&(c=""+t.key);for(o in t)t.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(u[o]=t[o])}var f=arguments.length-2;if(1===f)u.children=r;else if(f>1){for(var m=Array(f),v=0;f>v;v++)m[v]=arguments[v+2];u.children=m}return s(e.type,c,l,h,p,d,u)},s.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},e.exports=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=r(2),a=r(31),s=r(794),u=r(123),c=r(318),l=r(192),h=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r,this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasErrored=!1,this.dispatching=!1,this.hasCompleted=!1}return n(t,e),t.prototype.lift=function(e){var r=new t(this.destination||this,this);return r.operator=e,r},t.prototype.add=function(e){a.Subscription.prototype.add.call(this,e)},t.prototype.remove=function(e){a.Subscription.prototype.remove.call(this,e)},t.prototype.unsubscribe=function(){a.Subscription.prototype.unsubscribe.call(this)},t.prototype._subscribe=function(e){if(this.source)return this.source.subscribe(e);if(!e.isUnsubscribed){if(this.hasErrored)return e.error(this.errorValue);if(this.hasCompleted)return e.complete();this.throwIfUnsubscribed();var t=new s.SubjectSubscription(this,e);return this.observers.push(e),t}},t.prototype._unsubscribe=function(){this.source=null,this.isStopped=!0,this.observers=null,this.destination=null},t.prototype.next=function(e){this.throwIfUnsubscribed(),this.isStopped||(this.dispatching=!0,this._next(e),this.dispatching=!1,this.hasErrored?this._error(this.errorValue):this.hasCompleted&&this._complete())},t.prototype.error=function(e){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasErrored=!0,this.errorValue=e,this.dispatching||this._error(e))},t.prototype.complete=function(){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasCompleted=!0,this.dispatching||this._complete())},t.prototype.asObservable=function(){var e=new p(this);return e},t.prototype._next=function(e){this.destination?this.destination.next(e):this._finalNext(e)},t.prototype._finalNext=function(e){for(var t=-1,r=this.observers.slice(0),n=r.length;++t<n;)r[t].next(e)},t.prototype._error=function(e){this.destination?this.destination.error(e):this._finalError(e)},t.prototype._finalError=function(e){var t=-1,r=this.observers;if(this.observers=null,this.isUnsubscribed=!0,r)for(var n=r.length;++t<n;)r[t].error(e);this.isUnsubscribed=!1,this.unsubscribe()},t.prototype._complete=function(){this.destination?this.destination.complete():this._finalComplete()},t.prototype._finalComplete=function(){var e=-1,t=this.observers;if(this.observers=null,this.isUnsubscribed=!0,t)for(var r=t.length;++e<r;)t[e].complete();this.isUnsubscribed=!1,this.unsubscribe()},t.prototype.throwIfUnsubscribed=function(){this.isUnsubscribed&&c.throwError(new l.ObjectUnsubscribedError)},t.prototype[u.rxSubscriber]=function(){return new o.Subscriber(this)},t.create=function(e,r){return new t(e,r)},t}(i.Observable);t.Subject=h;var p=function(e){function t(t){e.call(this),this.source=t}return n(t,e),t}(i.Observable)},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(51),o=r(317),a=r(126),s=r(18),u=r(14),c=function(){function e(e){this.isUnsubscribed=!1,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var r=this,n=r._unsubscribe,c=r._subscriptions;if(this._subscriptions=null,a.isFunction(n)){var h=s.tryCatch(n).call(this);h===u.errorObject&&(t=!0,(e=e||[]).push(u.errorObject.e))}if(i.isArray(c))for(var p=-1,d=c.length;++p<d;){var f=c[p];if(o.isObject(f)){var h=s.tryCatch(f.unsubscribe).call(f);if(h===u.errorObject){t=!0,e=e||[];var m=u.errorObject.e;m instanceof l?e=e.concat(m.errors):e.push(m)}}}if(t)throw new l(e)}},e.prototype.add=function(t){if(t&&t!==this&&t!==e.EMPTY){var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.isUnsubscribed||"function"!=typeof r.unsubscribe)break;this.isUnsubscribed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("Unrecognized subscription "+t+" added to Subscription.")}}},e.prototype.remove=function(t){if(null!=t&&t!==this&&t!==e.EMPTY){var r=this._subscriptions;if(r){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}}},e.EMPTY=function(e){return e.isUnsubscribed=!0,e}(new e),e}();t.Subscription=c;var l=function(e){function t(t){e.call(this,"unsubscriptoin error(s)"),this.errors=t,this.name="UnsubscriptionError"}return n(t,e),t}(Error);t.UnsubscriptionError=l},function(e,t,r){"use strict";var n=r(792);t.asap=new n.AsapScheduler},function(e,t){var r=Object;e.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},function(e,t,r){"use strict";function n(e,t,r){return r}var i={enableMeasure:!1,storedMeasure:n,measureMethods:function(e,t,r){},measure:function(e,t,r){return r},injection:{injectMeasure:function(e){i.storedMeasure=e}}};e.exports=i},function(e,t,r){"use strict";function n(){M.ReactReconcileTransaction&&_?void 0:v(!1)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=M.ReactReconcileTransaction.getPooled(!1)}function o(e,t,r,i,o,a){n(),_.batchedUpdates(e,t,r,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length?v(!1):void 0,g.sort(a);for(var r=0;t>r;r++){var n=g[r],i=n._pendingCallbacks;if(n._pendingCallbacks=null,d.performUpdateIfNecessary(n,e.reconcileTransaction),i)for(var o=0;o<i.length;o++)e.callbackQueue.enqueue(i[o],n.getPublicInstance())}}function u(e){return n(),_.isBatchingUpdates?void g.push(e):void _.batchedUpdates(u,e)}function c(e,t){_.isBatchingUpdates?void 0:v(!1),y.enqueue(e,t),b=!0}var l=r(164),h=r(48),p=r(34),d=r(57),f=r(116),m=r(7),v=r(6),g=[],y=l.getPooled(),b=!1,_=null,x={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),S()):g.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[x,w];m(i.prototype,f.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,M.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,r){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,r)}}),h.addPoolingTo(i);var S=function(){for(;g.length||b;){if(g.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(b){b=!1;var t=y;y=l.getPooled(),t.notifyAll(),l.release(t)}}};S=p.measure("ReactUpdates","flushBatchedUpdates",S);var C={injectReconcileTransaction:function(e){e?void 0:v(!1),M.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:v(!1),"function"!=typeof e.batchedUpdates?v(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?v(!1):void 0,_=e}},M={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:S,injection:C,asap:c};e.exports=M},function(e,t,r){var n=r(372)("wks"),i=r(140),o=r(95).Symbol;e.exports=function(e){return n[e]||(n[e]=o&&o[e]||(o||i)("Symbol."+e))}},function(e,t){"use strict";function r(e){return function(){return e}}function n(){}n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";e.exports=r(422)},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=r},function(e,t,r){"use strict";var n=r(99),i=n({bubbled:null,captured:null}),o=n({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};e.exports=a},function(e,t){"use strict";var r={current:null};e.exports=r},function(e,t,r){(function(e,r){"use strict";var n={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};t.root=n[typeof self]&&self||n[typeof window]&&window;var i=(n[typeof t]&&t&&!t.nodeType&&t,n[typeof e]&&e&&!e.nodeType&&e,n[typeof r]&&r);!i||i.global!==i&&i.window!==i||(t.root=i)}).call(t,r(808)(e),function(){return this}())},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";function n(e,t){return"object"==typeof e&&null!==e&&e.kind===t}var i=(r(68)["default"],r(27)),o=r(5),a=[],s=[],u=[],c={},l={createBatchCallVariable:function(e,t){return{kind:"BatchCallVariable",sourceQueryID:e,jsonPath:t}},createCall:function(e,t,r){return{kind:"Call",name:e,metadata:{type:r||null},value:t}},createCallValue:function(e){return{kind:"CallValue",callValue:e}},createCallVariable:function(e){return{kind:"CallVariable",callVariableName:e}},createDirective:function(e,t){return{args:t,kind:"Directive",name:e}},createDirectiveArgument:function(e,t){return{name:e,value:t}},createField:function(e){var t=e.metadata||c;return{alias:e.alias,calls:e.calls||a,children:e.children||s,directives:e.directives||u,fieldName:e.fieldName,kind:"Field",metadata:{canHaveSubselections:!!t.canHaveSubselections,inferredRootCallName:t.inferredRootCallName,inferredPrimaryKey:t.inferredPrimaryKey,isConnection:!!t.isConnection,isFindable:!!t.isFindable,isGenerated:!!t.isGenerated,isPlural:!!t.isPlural,isRequisite:!!t.isRequisite,isAbstract:!!t.isAbstract},type:e.type}},createFragment:function(e){var t=e.metadata||c;return{children:e.children||s,directives:e.directives||u,kind:"Fragment",metadata:{isAbstract:!!t.isAbstract,pattern:!!t.pattern,plural:!!t.plural},name:e.name,type:e.type}},createFragmentReference:function(e){return{kind:"FragmentReference",fragment:e}},createMutation:function(e){var t=e.metadata||c;return{calls:e.calls||a,children:e.children||s,directives:e.directives||u,kind:"Mutation",metadata:{inputType:t.inputType},name:e.name,responseType:e.responseType}},createQuery:function(e){var t=e.metadata||c,r=[],n=t.identifyingArgName;return null==n&&i.isNodeRootCall(e.fieldName)&&(n=i.ID),null!=n&&(null==e.identifyingArgValue?o(!1):void 0,r=[l.createCall(n,e.identifyingArgValue)]),{calls:r,children:e.children||s,directives:e.directives||u,fieldName:e.fieldName,isDeferred:!(!e.isDeferred&&!t.isDeferred),kind:"Query",metadata:{identifyingArgName:n,identifyingArgType:t.identifyingArgType,isAbstract:!!t.isAbstract,isPlural:!!t.isPlural},name:e.name,type:e.type}},createSubscription:function(e){var t=e.metadata||c;return{calls:e.calls||a,children:e.children||s,directives:e.directives||u,kind:"Subscription",metadata:{inputType:t.inputType},name:e.name,responseType:e.responseType}},getBatchCallVariable:function(e){return n(e,"BatchCallVariable")?e:void 0},getCallVariable:function(e){return n(e,"CallVariable")?e:void 0},getField:function(e){return n(e,"Field")?e:void 0},getFragment:function(e){return n(e,"Fragment")?e:void 0},getFragmentReference:function(e){return n(e,"FragmentReference")?e:void 0},getMutation:function(e){return n(e,"Mutation")?e:void 0},getQuery:function(e){return n(e,"Query")?e:void 0},getSubscription:function(e){return n(e,"Subscription")?e:void 0}};e.exports=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return null==e||d["default"].isValidElement(e)}function o(e){return i(e)||Array.isArray(e)&&e.every(i)}function a(e,t,r){e=e||"UnknownComponent";for(var n in t)if(t.hasOwnProperty(n)){var i=t[n](r,n,e);i instanceof Error}}function s(e,t){return h({},e,t)}function u(e){var t=e.type,r=s(t.defaultProps,e.props);if(t.propTypes&&a(t.displayName||t.name,t.propTypes,r),r.children){var n=c(r.children,r);n.length&&(r.childRoutes=n),delete r.children}return r}function c(e,t){var r=[];return d["default"].Children.forEach(e,function(e){if(d["default"].isValidElement(e))if(e.type.createRouteFromReactElement){var n=e.type.createRouteFromReactElement(e,t);n&&r.push(n)}else r.push(u(e))}),r}function l(e){return o(e)?e=c(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.isReactChildren=o,t.createRouteFromReactElement=u,t.createRoutesFromReactChildren=c,t.createRoutes=l;var p=r(4),d=n(p),f=r(22);n(f)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(531),o=n(i);t.Router=o["default"];var a=r(267),s=n(a);t.Link=s["default"];var u=r(525),c=n(u);t.IndexLink=c["default"];var l=r(526),h=n(l);t.IndexRedirect=h["default"];var p=r(527),d=n(p);t.IndexRoute=d["default"];var f=r(268),m=n(f);t.Redirect=m["default"];var v=r(529),g=n(v);t.Route=g["default"];var y=r(524),b=n(y);t.History=b["default"];var _=r(528),x=n(_);t.Lifecycle=x["default"];var w=r(530),E=n(w);t.RouteContext=E["default"];var S=r(541),C=n(S);t.useRoutes=C["default"];var M=r(46);t.createRoutes=M.createRoutes;var A=r(162),T=n(A);t.RouterContext=T["default"];var R=r(532),O=n(R);t.RoutingContext=O["default"];var P=r(56),D=n(P);t.PropTypes=D["default"];var I=r(539),N=n(I);t.match=N["default"];var k=r(274),L=n(k);t.useRouterHistory=L["default"];var F=r(71);t.formatPattern=F.formatPattern;var j=r(534),U=n(j);t.browserHistory=U["default"];var B=r(537),V=n(B);t.hashHistory=V["default"];var z=r(270),H=n(z);t.createMemoryHistory=H["default"]},function(e,t,r){"use strict";var n=r(6),i=function(e){var t=this;if(t.instancePool.length){var r=t.instancePool.pop();return t.call(r,e),r}return new t(e)},o=function(e,t){var r=this;if(r.instancePool.length){var n=r.instancePool.pop();return r.call(n,e,t),n}return new r(e,t)},a=function(e,t,r){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,e,t,r),i}return new n(e,t,r)},s=function(e,t,r,n){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,r,n),o}return new i(e,t,r,n)},u=function(e,t,r,n,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,r,n,i),a}return new o(e,t,r,n,i)},c=function(e){var t=this;e instanceof t?void 0:n(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,h=i,p=function(e,t){var r=e;return r.instancePool=[],r.getPooled=t||h,r.poolSize||(r.poolSize=l),r.release=c,r},d={addPoolingTo:p,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};e.exports=d},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=r(185),a=r(50),s=r(59),u=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=e[e.length-1];s.isScheduler(n)?e.pop():n=null;var i=e.length;return i>1?new t(e,n):1===i?new o.ScalarObservable(e[0],n):new a.EmptyObservable(n)},t.dispatch=function(e){var t=e.array,r=e.index,n=e.count,i=e.subscriber;return r>=n?void i.complete():(i.next(t[r]),void(i.isUnsubscribed||(e.index=r+1,this.schedule(e))))},t.prototype._subscribe=function(e){var r=0,n=this.array,i=n.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:n,index:r,count:i,subscriber:e});for(var a=0;i>a&&!e.isUnsubscribed;a++)e.next(n[a]);e.complete()},t}(i.Observable);t.ArrayObservable=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=function(e){function t(t){e.call(this),this.scheduler=t}return n(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){var t=e.subscriber;t.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;return r?r.schedule(t.dispatch,0,{subscriber:e}):void e.complete()},t}(i.Observable);t.EmptyObservable=o},function(e,t){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(183),o=n(i),a={toggleNewSubject:new o["default"].Subject,toggleGoalUpdateSubject:new o["default"].Subject,toggleGoalShowSubject:new o["default"].Subject,toggleGoldShowSubject:new o["default"].Subject};t["default"]={subjects:a,toggleNew:function(){return a.toggleNewSubject.next()},toggleGoalUpdate:function(){return a.toggleGoalUpdateSubject.next()},toggleGoalShow:function(){return a.toggleGoalShowSubject.next()},toggleGoldShow:function(){return a.toggleGoldShowSubject.next()}},e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.match(/^https?:\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}function o(e){var t=i(e),r="",n="",o=t.indexOf("#");-1!==o&&(n=t.substring(o),t=t.substring(0,o));var a=t.indexOf("?");return-1!==a&&(r=t.substring(a),t=t.substring(0,a)),""===t&&(t="/"),{pathname:t,search:r,hash:n}}t.__esModule=!0,t.extractPath=i,t.parsePath=o;var a=r(39);n(a)},function(e,t,r){"use strict";var n=r(3)["default"],i=function(){function e(t){n(this,e),Object.defineProperty(this,"name",{enumerable:!0,value:t,writable:!1})}return e.get=function(t){return o[t]||(o[t]=new e(t))},e}(),o={};e.exports=i},function(e,t,r){"use strict";var n=r(3)["default"],i=r(12),o=function(){function e(){n(this,e)}return e.prototype.visit=function(e,t){return e instanceof i.Field?this.visitField(e,t):e instanceof i.Fragment?this.visitFragment(e,t):e instanceof i.Root?this.visitRoot(e,t):void 0},e.prototype.traverse=function(e,t){return e.canHaveSubselections()&&this.traverseChildren(e,t,function(e){this.visit(e,t)},this),e},e.prototype.traverseChildren=function(e,t,r,n){for(var i=e.getChildren(),o=0;o<i.length;o++)r.call(n,i[o],o,i)},e.prototype.visitField=function(e,t){return this.traverse(e,t)},e.prototype.visitFragment=function(e,t){return this.traverse(e,t)},e.prototype.visitRoot=function(e,t){return this.traverse(e,t)},e}();e.exports=o},function(e,t,r){"use strict";function n(e,t,r){return e[t]?new Error("<"+r+'> should not have a "'+t+'" prop'):void 0}t.__esModule=!0,t.falsy=n;var i=r(4),o=i.PropTypes.func,a=i.PropTypes.object,s=i.PropTypes.arrayOf,u=i.PropTypes.oneOfType,c=i.PropTypes.element,l=i.PropTypes.shape,h=i.PropTypes.string,p=l({listen:o.isRequired,pushState:o.isRequired,replaceState:o.isRequired,go:o.isRequired});t.history=p;var d=l({pathname:h.isRequired,search:h.isRequired,state:a,action:h.isRequired,key:h});t.location=d;var f=u([o,h]);t.component=f;var m=u([f,a]);t.components=m;var v=u([a,c]);t.route=v;var g=u([v,s(v)]);t.routes=g,t["default"]={falsy:n,history:p,location:d,component:f,components:m,route:v}},function(e,t,r){"use strict";function n(){i.attachRefs(this,this._currentElement)}var i=r(573),o={mountComponent:function(e,t,r,i){var o=e.mountComponent(t,r,i);return e._currentElement&&null!=e._currentElement.ref&&r.getReactMountReady().enqueue(n,e),o},unmountComponent:function(e){i.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,r,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,r,o),s&&e._currentElement&&null!=e._currentElement.ref&&r.getReactMountReady().enqueue(n,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};e.exports=o},function(e,t,r){"use strict";function n(e,t,r,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=r;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(r):"target"===o?this.target=n:this[o]=r[o]}var u=null!=r.defaultPrevented?r.defaultPrevented:r.returnValue===!1;u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var i=r(48),o=r(7),a=r(37),s=(r(8),{type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});o(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),n.Interface=s,n.augmentClass=function(e,t){var r=this,n=Object.create(r.prototype);o(n,e.prototype),e.prototype=n,e.prototype.constructor=e,e.Interface=o({},r.Interface,t),e.augmentClass=r.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(n,i.fourArgumentPooler),e.exports=n},function(e,t){"use strict";function r(e){return e&&"function"==typeof e.schedule}t.isScheduler=r},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,r){var n=r(359);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(95),i=r(26),o=r(61),a="prototype",s=function(e,t,r){var u,c,l,h=e&s.F,p=e&s.G,d=e&s.S,f=e&s.P,m=e&s.B,v=e&s.W,g=p?i:i[t]||(i[t]={}),y=p?n:d?n[t]:(n[t]||{})[a];p&&(r=t);for(u in r)c=!h&&y&&u in y,c&&u in g||(l=c?y[u]:r[u],g[u]=p&&"function"!=typeof y[u]?r[u]:m&&c?o(l,n):v&&y[u]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(l):f&&"function"==typeof l?o(Function.call,l):l,f&&((g[a]||(g[a]={}))[u]=l))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},function(e,t,r){var n=r(33),i=r(217);e.exports=r(93)?function(e,t,r){return n.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){e.exports={}},function(e,t){"use strict";t.__esModule=!0;var r="PUSH";t.PUSH=r;var n="REPLACE";t.REPLACE=n;var i="POP";t.POP=i,t["default"]={PUSH:r,REPLACE:n,POP:i}},function(e,t,r){"use strict";function n(){}function i(e){try{return e.then}catch(t){return g=t,y}}function o(e,t){try{return e(t)}catch(r){return g=r,y}}function a(e,t,r){try{e(t,r)}catch(n){return g=n,y}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==n&&m(e,this)}function u(e,t,r){return new e.constructor(function(i,o){var a=new s(n);a.then(i,o),c(e,new f(t,r,a))})}function c(e,t){for(;3===e._81;)e=e._65;return s._10&&s._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void l(e,t)}function l(e,t){v(function(){var r=1===e._81?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._81?h(t.promise,e._65):p(t.promise,e._65));var n=o(r,e._65);n===y?p(t.promise,g):h(t.promise,n)})}function h(e,t){if(t===e)return p(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var r=i(t);if(r===y)return p(e,g);if(r===e.then&&t instanceof s)return e._81=3,e._65=t,void d(e);if("function"==typeof r)return void m(r.bind(t),e)}e._81=1,e._65=t,d(e)}function p(e,t){e._81=2,e._65=t,s._97&&s._97(e,t),d(e)}function d(e){if(1===e._45&&(c(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)c(e,e._54[t]);e._54=null}}function f(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function m(e,t){var r=!1,n=a(e,function(e){r||(r=!0,h(t,e))},function(e){r||(r=!0,p(t,e))});r||n!==y||(r=!0,p(t,g))}var v=r(198),g=null,y={};e.exports=s,s._10=null,s._97=null,s._61=n,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var r=new s(n);return c(this,new f(e,t,r)),r}},function(e,t,r){"use strict";function n(e){var t=e.getBatchCall();t&&u(!1);var r;return e.getChildren().forEach(function(e){e instanceof a.Fragment?(r?u(!1):void 0,r=e):e instanceof a.Field&&(e.isGenerated()?void 0:u(!1))}),r}var i=r(3)["default"],o=r(108)["default"],a=r(12),s=r(21),u=r(5),c=r(160),l=function(){function e(t,r){i(this,e);var n=Array.isArray(t),o=r.isPlural();n!==o?u(!1):void 0,this._dataIDOrIDs=t,this._fragment=r}return e.createForRoot=function(t,r){var i=n(r);if(!i)return null;var a=i.getConcreteNodeHash(),c=r.getStorageKey(),l=r.getIdentifyingArg(),h=l&&l.value||null;if(Array.isArray(h)){var p=i;return h.map(function(r){var n=t.getDataID(c,r);return n?s.createWithFields(n,o({},a,new e([n],p))):null})}"string"!=typeof h&&null!=h?u(!1):void 0;var d=t.getDataID(c,h);return d?o({},a,new e(d,i)):null},e.prototype.getDataID=function(){return Array.isArray(this._dataIDOrIDs)?u(!1):void 0,this._dataIDOrIDs},e.prototype.getDataIDs=function(){return Array.isArray(this._dataIDOrIDs)?void 0:u(!1),this._dataIDOrIDs},e.prototype.getFragment=function(){return this._fragment},e.prototype.equals=function(e){return c(this._dataIDOrIDs,e._dataIDOrIDs)&&this._fragment.isEquivalent(e._fragment)},e.prototype.toString=function(){return"RelayFragmentPointer(ids: "+JSON.stringify(this._dataIDOrIDs)+", fragment: `"+this.getFragment().getDebugName()+", params: "+JSON.stringify(this._fragment.getVariables())+")"},e}();e.exports=l},function(e,t,r){e.exports={"default":r(357),__esModule:!0}},function(e,t,r){"use strict";var n=r(257)["default"];t["default"]=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return n(e)},t.__esModule=!0},function(e,t,r){"use strict";function n(e){a.then(e)["catch"](i)}function i(e){setTimeout(function(){throw e},0)}var o=r(38),a=o.resolve();e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){return i(e).replace(/\/+/g,"/+")}function a(e){for(var t="",r=[],n=[],i=void 0,a=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;i=s.exec(e);)i.index!==a&&(n.push(e.slice(a,i.index)),t+=o(e.slice(a,i.index))),i[1]?(t+="([^/?#]+)",r.push(i[1])):"**"===i[0]?(t+="([\\s\\S]*)",r.push("splat")):"*"===i[0]?(t+="([\\s\\S]*?)",r.push("splat")):"("===i[0]?t+="(?:":")"===i[0]&&(t+=")?"),n.push(i[0]),a=s.lastIndex;return a!==e.length&&(n.push(e.slice(a,e.length)),t+=o(e.slice(a,e.length))),{pattern:e,regexpSource:t,paramNames:r,tokens:n}}function s(e){return e in f||(f[e]=a(e)),f[e]}function u(e,t){"/"!==e.charAt(0)&&(e="/"+e),"/"!==t.charAt(0)&&(t="/"+t);var r=s(e),n=r.regexpSource,i=r.paramNames,o=r.tokens;n+="/*";var a="*"!==o[o.length-1];a&&(n+="([\\s\\S]*?)");var u=t.match(new RegExp("^"+n+"$","i")),c=void 0,l=void 0;if(null!=u){if(a){c=u.pop();var h=u[0].substr(0,u[0].length-c.length);if(c&&"/"!==h.charAt(h.length-1))return{remainingPathname:null,paramNames:i,paramValues:null}}else c="";l=u.slice(1).map(function(e){return null!=e?decodeURIComponent(e):e})}else c=l=null;return{remainingPathname:c,paramNames:i,paramValues:l}}function c(e){return s(e).paramNames}function l(e,t){var r=u(e,t),n=r.paramNames,i=r.paramValues;return null!=i?n.reduce(function(e,t,r){return e[t]=i[r],e},{}):null}function h(e,t){t=t||{};for(var r=s(e),n=r.tokens,i=0,o="",a=0,u=void 0,c=void 0,l=void 0,h=0,p=n.length;p>h;++h)u=n[h],"*"===u||"**"===u?(l=Array.isArray(t.splat)?t.splat[a++]:t.splat,null!=l||i>0?void 0:d["default"](!1),null!=l&&(o+=encodeURI(l))):"("===u?i+=1:")"===u?i-=1:":"===u.charAt(0)?(c=u.substring(1),l=t[c],null!=l||i>0?void 0:d["default"](!1),null!=l&&(o+=encodeURIComponent(l))):o+=u;return o.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=s,t.matchPattern=u,t.getParamNames=c,t.getParams=l,t.formatPattern=h;var p=r(23),d=n(p),f={}},function(e,t,r){"use strict";function n(e,t){return(e&t)===t}var i=r(6),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,
HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=o,r=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var h in r){s.properties.hasOwnProperty(h)?i(!1):void 0;var p=h.toLowerCase(),d=r[h],f={attributeName:p,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseAttribute:n(d,t.MUST_USE_ATTRIBUTE),mustUseProperty:n(d,t.MUST_USE_PROPERTY),hasSideEffects:n(d,t.HAS_SIDE_EFFECTS),hasBooleanValue:n(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:n(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:n(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:n(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.mustUseAttribute&&f.mustUseProperty?i(!1):void 0,!f.mustUseProperty&&f.hasSideEffects?i(!1):void 0,f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:i(!1),u.hasOwnProperty(h)){var m=u[h];f.attributeName=m}a.hasOwnProperty(h)&&(f.attributeNamespace=a[h]),c.hasOwnProperty(h)&&(f.propertyName=c[h]),l.hasOwnProperty(h)&&(f.mutationMethod=l[h]),s.properties[h]=f}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var r=s._isCustomAttributeFunctions[t];if(r(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var r,n=a[e];return n||(a[e]=n={}),t in n||(r=document.createElement(e),n[t]=r[t]),n[t]},injection:o};e.exports=s},function(e,t,r){"use strict";function n(e){return d+e.toString(36)}function i(e,t){return e.charAt(t)===d||t===e.length}function o(e){return""===e||e.charAt(0)===d&&e.charAt(e.length-1)!==d}function a(e,t){return 0===t.indexOf(e)&&i(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(d)):""}function u(e,t){if(o(e)&&o(t)?void 0:p(!1),a(e,t)?void 0:p(!1),e===t)return e;var r,n=e.length+f;for(r=n;r<t.length&&!i(t,r);r++);return t.substr(0,r)}function c(e,t){var r=Math.min(e.length,t.length);if(0===r)return"";for(var n=0,a=0;r>=a;a++)if(i(e,a)&&i(t,a))n=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,n);return o(s)?void 0:p(!1),s}function l(e,t,r,n,i,o){e=e||"",t=t||"",e===t?p(!1):void 0;var c=a(t,e);c||a(e,t)?void 0:p(!1);for(var l=0,h=c?s:u,d=e;;d=h(d,t)){var f;if(i&&d===e||o&&d===t||(f=r(d,c,n)),f===!1||d===t)break;l++<m?void 0:p(!1)}}var h=r(298),p=r(6),d=".",f=d.length,m=1e4,v={createReactRootID:function(){return n(h.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===d&&e.length>1){var t=e.indexOf(d,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,r,n,i){var o=c(e,t);o!==e&&l(e,o,r,n,!1,!0),o!==t&&l(o,t,r,i,!0,!1)},traverseTwoPhase:function(e,t,r){e&&(l("",e,t,r,!0,!1),l(e,"",t,r,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,r){e&&(l("",e,t,r,!0,!0),l(e,"",t,r,!0,!0))},traverseAncestors:function(e,t,r){l("",e,t,r,!0,!1)},getFirstCommonAncestorID:c,_getNextDescendantID:u,isAncestorIDOf:a,SEPARATOR:d};e.exports=v},function(e,t,r){"use strict";function n(e){var t;return t="function"==typeof e?e:function(){return e},new i.ConnectableObservable(this,t)}var i=r(305);t.multicast=n},function(e,t,r){"use strict";function n(e){var t=o(e);return s(t,e),u(t),i(t),t}function i(e){e["for"]||(e["for"]=a)}function o(e){return e.Symbol||(e.Symbol=function(e){return"@@Symbol("+e+"):"+l++}),e.Symbol}function a(e){return"@@"+e}function s(e,t){if(!e.iterator)if("function"==typeof e["for"])e.iterator=e["for"]("iterator");else if(t.Set&&"function"==typeof(new t.Set)["@@iterator"])e.iterator="@@iterator";else if(t.Map)for(var r=Object.getOwnPropertyNames(t.Map.prototype),n=0;n<r.length;++n){var i=r[n];if("entries"!==i&&"size"!==i&&t.Map.prototype[i]===t.Map.prototype.entries){e.iterator=i;break}}else e.iterator="@@iterator"}function u(e){e.observable||("function"==typeof e["for"]?e.observable=e["for"]("observable"):e.observable="@@observable")}var c=r(43);t.polyfillSymbol=n,t.ensureFor=i;var l=0;t.ensureSymbol=o,t.symbolForPolyfill=a,t.ensureIterator=s,t.ensureObservable=u,t.SymbolShim=n(c.root)},function(t,r,n){var i,i;(function(r,n){!function(e){t.exports=e()}(function(){var t;return function o(e,t,r){function n(s,u){if(!t[s]){if(!e[s]){var c="function"==typeof i&&i;if(!u&&c)return i(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=t[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return n(r?r:t)},h,h.exports,o,e,t,r)}return t[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(e,t,r){"use strict";t.exports={createLink:function(e,t){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=e,n.rel="stylesheet";for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];n.setAttribute("data-"+i,o)}r.appendChild(n)},createStyle:function(e,t){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];n.setAttribute("data-"+i,o)}n.sheet?(n.innerHTML=e,n.sheet.cssText=e,r.appendChild(n)):n.styleSheet?(r.appendChild(n),n.styleSheet.cssText=e):(n.appendChild(document.createTextNode(e)),r.appendChild(n))}}},{}],2:[function(e,t,r){function n(){l=!1,s.length?c=s.concat(c):h=-1,c.length&&i()}function i(){if(!l){var e=setTimeout(n);l=!0;for(var t=c.length;t;){for(s=c,c=[];++h<t;)s&&s[h].run();h=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u=t.exports={},c=[],l=!1,h=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],3:[function(e,t,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,n),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(t){}}function s(){var e;try{e=r.storage.debug}catch(t){}return e}function u(){try{return window.localStorage}catch(e){}}r=t.exports=e("./debug"),r.log=o,r.formatArgs=i,r.save=a,r.load=s,r.useColors=n,r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){return JSON.stringify(e)},r.enable(s())},{"./debug":4}],4:[function(e,t,r){function n(){return r.colors[l++%r.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=r.useColors()),null==e.color&&e.useColors&&(e.color=n());var a=Array.prototype.slice.call(arguments);a[0]=r.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,n){if("%%"===t)return t;s++;var i=r.formatters[n];if("function"==typeof i){var o=a[s];t=i.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof r.formatArgs&&(a=r.formatArgs.apply(e,a));var u=i.log||r.log||console.log.bind(console);u.apply(e,a)}t.enabled=!1,i.enabled=!0;var o=r.enabled(e)?i:t;return o.namespace=e,o}function o(e){r.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,i=0;n>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function a(){r.enable("")}function s(e){var t,n;for(t=0,n=r.skips.length;n>t;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;n>t;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}r=t.exports=i,r.coerce=u,r.disable=a,r.enable=o,r.enabled=s,r.humanize=e("ms"),r.names=[],r.skips=[],r.formatters={};var c,l=0},{ms:5}],5:[function(e,t,r){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*h;case"days":case"day":case"d":return r*l;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*u;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,l,"day")||a(e,c,"hour")||a(e,u,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,r){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var s=1e3,u=60*s,c=60*u,l=24*c,h=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?o(e):i(e)}},{}],6:[function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function i(e,t,r){var n=t[r];if(void 0!==n&&null!==n){if(s.call(e,r)&&(void 0===e[r]||null===e[r]))throw new TypeError("Cannot convert undefined or null to object ("+r+")");s.call(e,r)&&a(n)?e[r]=o(Object(e[r]),t[r]):e[r]=n}}function o(e,t){if(e===t)return e;t=Object(t);for(var r in t)s.call(t,r)&&i(e,t,r);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),o=0;o<n.length;o++)u.call(t,n[o])&&i(e,t,n[o]);return e}var a=e("is-obj"),s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=function(e){e=n(e);for(var t=1;t<arguments.length;t++)o(e,arguments[t]);return e}},{"is-obj":7}],7:[function(e,t,r){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},{}],8:[function(t,r,n){/*! (C) WebReflection Mit Style License */
!function(t,r,n,i){"use strict";function o(e,t){for(var r=0,n=e.length;n>r;r++)g(e[r],t)}function a(e){for(var t,r=0,n=e.length;n>r;r++)t=e[r],S(t,B[u(t)])}function s(e){return function(t){ie(t)&&(g(t,e),o(t.querySelectorAll(V),e))}}function u(e){var t=se.call(e,"is"),r=e.nodeName.toUpperCase(),n=H.call(U,t?L+t.toUpperCase():k+r);return t&&n>-1&&!c(r,t)?-1:n}function c(e,t){return-1<V.indexOf(e+'[is="'+t+'"]')}function l(e){var t=e.currentTarget,r=e.attrChange,n=e.attrName,i=e.target;ge&&(!i||i===t)&&t.attributeChangedCallback&&"style"!==n&&e.prevValue!==e.newValue&&t.attributeChangedCallback(n,r===e[R]?null:e.prevValue,r===e[P]?null:e.newValue)}function h(e){var t=s(e);return function(e){y.push(t,e.target)}}function p(e){ve&&(ve=!1,e.currentTarget.removeEventListener(I,p)),o((e.target||r).querySelectorAll(V),e.detail===A?A:M),ne&&m()}function d(e,t){var r=this;ue.call(r,e,t),b.call(r,{target:r})}function f(e,t){ee(e,t),w?w.observe(e,he):(me&&(e.setAttribute=d,e[C]=x(e),e.addEventListener(N,b)),e.addEventListener(D,l)),e.createdCallback&&ge&&(e.created=!0,e.createdCallback(),e.created=!1)}function m(){for(var e,t=0,r=oe.length;r>t;t++)e=oe[t],z.contains(e)||(r--,oe.splice(t--,1),g(e,A))}function v(e){throw new Error("A "+e+" type is already registered")}function g(e,t){var r,n=u(e);n>-1&&(E(e,B[n]),n=0,t!==M||e[M]?t===A&&!e[A]&&(e[M]=!1,e[A]=!0,n=1):(e[A]=!1,e[M]=!0,n=1,ne&&H.call(oe,e)<0&&oe.push(e)),n&&(r=e[t+"Callback"])&&r.call(e))}if(!(i in r)){var y,b,_,x,w,E,S,C="__"+i+(1e5*Math.random()>>0),M="attached",A="detached",T="extends",R="ADDITION",O="MODIFICATION",P="REMOVAL",D="DOMAttrModified",I="DOMContentLoaded",N="DOMSubtreeModified",k="<",L="=",F=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,j=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],U=[],B=[],V="",z=r.documentElement,H=U.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},G=n.prototype,W=G.hasOwnProperty,q=G.isPrototypeOf,Q=n.defineProperty,X=n.getOwnPropertyDescriptor,Y=n.getOwnPropertyNames,K=n.getPrototypeOf,Z=n.setPrototypeOf,J=!!n.__proto__,$=n.create||function ye(e){return e?(ye.prototype=e,new ye):this},ee=Z||(J?function(e,t){return e.__proto__=t,e}:Y&&X?function(){function e(e,t){for(var r,n=Y(t),i=0,o=n.length;o>i;i++)r=n[i],W.call(e,r)||Q(e,r,X(t,r))}return function(t,r){do e(t,r);while((r=K(r))&&!q.call(r,t));return t}}():function(e,t){for(var r in t)e[r]=t[r];return e}),te=t.MutationObserver||t.WebKitMutationObserver,re=(t.HTMLElement||t.Element||t.Node).prototype,ne=!q.call(re,z),ie=ne?function(e){return 1===e.nodeType}:function(e){return q.call(re,e)},oe=ne&&[],ae=re.cloneNode,se=re.getAttribute,ue=re.setAttribute,ce=re.removeAttribute,le=r.createElement,he=te&&{attributes:!0,characterData:!0,attributeOldValue:!0},pe=te||function(e){me=!1,z.removeEventListener(D,pe)},de=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,10)},fe=!1,me=!0,ve=!0,ge=!0;Z||J?(E=function(e,t){q.call(t,e)||f(e,t)},S=f):(E=function(e,t){e[C]||(e[C]=n(!0),f(e,t))},S=E),ne?(me=!1,function(){var t=X(re,"addEventListener"),r=t.value,n=function(e){var t=new CustomEvent(D,{bubbles:!0});t.attrName=e,t.prevValue=se.call(this,e),t.newValue=null,t[P]=t.attrChange=2,ce.call(this,e),this.dispatchEvent(t)},i=function(t,r){var n=this.hasAttribute(t),i=n&&se.call(this,t);e=new CustomEvent(D,{bubbles:!0}),ue.call(this,t,r),e.attrName=t,e.prevValue=n?i:null,e.newValue=r,n?e[O]=e.attrChange=1:e[R]=e.attrChange=0,this.dispatchEvent(e)},o=function(e){var t,r=e.currentTarget,n=r[C],i=e.propertyName;n.hasOwnProperty(i)&&(n=n[i],t=new CustomEvent(D,{bubbles:!0}),t.attrName=n.name,t.prevValue=n.value||null,t.newValue=n.value=r[i]||null,null==t.prevValue?t[R]=t.attrChange=0:t[O]=t.attrChange=1,r.dispatchEvent(t))};t.value=function(e,t,a){e===D&&this.attributeChangedCallback&&this.setAttribute!==i&&(this[C]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=n,r.call(this,"propertychange",o)),r.call(this,e,t,a)},Q(re,"addEventListener",t)}()):te||(z.addEventListener(D,pe),z.setAttribute(C,1),z.removeAttribute(C),me&&(b=function(e){var t,r,n,i=this;if(i===e.target){t=i[C],i[C]=r=x(i);for(n in r){if(!(n in t))return _(0,i,n,t[n],r[n],R);if(r[n]!==t[n])return _(1,i,n,t[n],r[n],O)}for(n in t)if(!(n in r))return _(2,i,n,t[n],r[n],P)}},_=function(e,t,r,n,i,o){var a={attrChange:e,currentTarget:t,attrName:r,prevValue:n,newValue:i};a[o]=e,l(a)},x=function(e){for(var t,r,n={},i=e.attributes,o=0,a=i.length;a>o;o++)t=i[o],r=t.name,"setAttribute"!==r&&(n[r]=t.value);return n})),r[i]=function(e,t){if(n=e.toUpperCase(),fe||(fe=!0,te?(w=function(e,t){function r(e,t){for(var r=0,n=e.length;n>r;t(e[r++]));}return new te(function(n){for(var i,o,a,s=0,u=n.length;u>s;s++)i=n[s],"childList"===i.type?(r(i.addedNodes,e),r(i.removedNodes,t)):(o=i.target,ge&&o.attributeChangedCallback&&"style"!==i.attributeName&&(a=se.call(o,i.attributeName),a!==i.oldValue&&o.attributeChangedCallback(i.attributeName,i.oldValue,a)))})}(s(M),s(A)),w.observe(r,{childList:!0,subtree:!0})):(y=[],de(function g(){for(;y.length;)y.shift().call(null,y.shift());de(g)}),r.addEventListener("DOMNodeInserted",h(M)),r.addEventListener("DOMNodeRemoved",h(A))),r.addEventListener(I,p),r.addEventListener("readystatechange",p),r.createElement=function(e,t){var n=le.apply(r,arguments),i=""+e,o=H.call(U,(t?L:k)+(t||i).toUpperCase()),a=o>-1;return t&&(n.setAttribute("is",t=t.toLowerCase()),a&&(a=c(i.toUpperCase(),t))),ge=!r.createElement.innerHTMLHelper,a&&S(n,B[o]),n},re.cloneNode=function(e){var t=ae.call(this,!!e),r=u(t);return r>-1&&S(t,B[r]),e&&a(t.querySelectorAll(V)),t}),-2<H.call(U,L+n)+H.call(U,k+n)&&v(e),!F.test(n)||-1<H.call(j,n))throw new Error("The type "+e+" is invalid");var n,i,l=function(){return f?r.createElement(m,n):r.createElement(m)},d=t||G,f=W.call(d,T),m=f?t[T].toUpperCase():n;return f&&-1<H.call(U,k+m)&&v(m),i=U.push((f?L:k)+n)-1,V=V.concat(V.length?",":"",f?m+'[is="'+e.toLowerCase()+'"]':m),l.prototype=B[i]=W.call(d,"prototype")?d.prototype:$(re),o(r.querySelectorAll(V),M),l}}}(window,document,Object,"registerElement")},{}],9:[function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(e,t){for(var r,a,s=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)i.call(r,c)&&(s[c]=r[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var l=0;l<a.length;l++)o.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s}},{}],10:[function(e,t,n){(function(e){var r=e.performance||{},n=function(){for(var e=["now","webkitNow","msNow","mozNow","oNow"];e.length;){var t=e.shift();if(t in r)return r[t].bind(r)}var n=Date.now||function(){return(new Date).getTime()},i=(r.timing||{}).navigationStart||n();return function(){return n()-i}}();n.performanceNow=r.now,n.noConflict=function(){r.now=n.performanceNow},n.conflict=function(){r.now=n},n.conflict(),t.exports=n}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,r){!function(e){function r(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,r(a,this),r(s,this))}function o(e){var t=this;return null===this._state?void this._deferreds.push(e):void p(function(){var r=t._state?e.onFulfilled:e.onRejected;if(null===r)return void(t._state?e.resolve:e.reject)(t._value);var n;try{n=r(t._value)}catch(i){return void e.reject(i)}e.resolve(n)})}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(r(t,e),r(a,this),r(s,this))}this._state=!0,this._value=e,u.call(this)}catch(n){s.call(this,n)}}function s(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds.length;t>e;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,r,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n}function l(e,t,r){var n=!1;try{e(function(e){n||(n=!0,t(e))},function(e){n||(n=!0,r(e))})}catch(i){if(n)return;n=!0,r(i)}}var h=setTimeout,p="function"==typeof n&&n||function(e){h(e,1)},d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var r=this;return new i(function(n,i){o.call(r,new c(e,t,n,i))})},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&d(arguments[0])?arguments[0]:arguments);return new i(function(t,r){function n(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){n(o,e)},r)}e[o]=a,0===--i&&t(e)}catch(u){r(u)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)n(o,e[o])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,r){r(e)})},i.race=function(e){return new i(function(t,r){for(var n=0,i=e.length;i>n;n++)e[n].then(t,r)})},i._setImmediateFn=function(e){p=e},"undefined"!=typeof t&&t.exports?t.exports=i:e.Promise||(e.Promise=i)}(this)},{}],12:[function(e,t,r){"use strict";function n(e,t,r){function n(){s.id=o(n),a()-i>=e&&(t.call(r),i=a())}var i=a(),s=Object.create(null);return s.id=o(n),s}function i(e){o.cancel(e.id)}var o=e("raf"),a=e("time-now");r=t.exports=n,r.clear=i},{raf:13,"time-now":14}],13:[function(e,t,r){function n(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),n=setTimeout(e,r);return i=t,n}r=t.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||n;var i=(new Date).getTime(),o=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;r.cancel=function(e){o.call(window,e)}},{}],14:[function(e,t,r){"use strict";t.exports=function(){var e=window&&window.performance;return e&&e.now?e.now.bind(e):function(){return(new Date).getTime()}}()},{}],15:[function(e,t,r){function n(e){var t=function(e){return e.trim()},r={};return i(e).map(t).filter(Boolean).forEach(function(e){var t=e.indexOf(":"),n=e.substr(0,t).trim(),i=e.substr(t+1).trim();r[n]=i}),r}function i(e){for(var t,r=[],n=0,i=";",o=/url\([^\)]+$/,a="";n<e.length;)t=e.indexOf(i,n),-1===t&&(t=e.length),a+=e.substring(n,t),o.test(a)?(a+=";",n=t+1):(r.push(a),a="",n=t+1);return r}function o(e){return Object.keys(e).map(function(t){return t+":"+e[t]}).join(";")}function a(e){return o(n(e))}t.exports.parse=n,t.exports.stringify=o,t.exports.normalize=a},{}],16:[function(e,t,r){THREE.VRControls=function(e,t){function r(e){for(var r=0;r<e.length;r++)e[r]instanceof PositionSensorVRDevice&&i.push(e[r]);0===i.length&&t&&t("PositionSensorVRDevice not available")}var n=this,i=[];navigator.getVRDevices&&navigator.getVRDevices().then(r),this.scale=1,this.update=function(){for(var t=0;t<i.length;t++){var r=i[t],o=r.getState();null!==o.orientation&&e.quaternion.copy(o.orientation),null!==o.position&&e.position.copy(o.position).multiplyScalar(n.scale)}},this.resetSensor=function(){for(var e=0;e<i.length;e++){var t=i[e];void 0!==t.resetSensor?t.resetSensor():void 0!==t.zeroSensor&&t.zeroSensor()}},this.zeroSensor=function(){console.warn("THREE.VRControls: .zeroSensor() is now .resetSensor()."),this.resetSensor()},this.dispose=function(){i=[]}}},{}],17:[function(e,t,r){THREE.VREffect=function(e,t){function r(e){for(var r=0;r<e.length;r++)if(e[r]instanceof HMDVRDevice){a=e[r];break}void 0===a&&t&&t("HMD not available")}function n(e){var t=2/(e.leftTan+e.rightTan),r=(e.leftTan-e.rightTan)*t*.5,n=2/(e.upTan+e.downTan),i=(e.upTan-e.downTan)*n*.5;return{scale:[t,n],offset:[r,i]}}function i(e,t,r,i){t=void 0===t?!0:t,r=void 0===r?.01:r,i=void 0===i?1e4:i;var o=t?-1:1,a=new THREE.Matrix4,s=a.elements,u=n(e);return s[0]=u.scale[0],s[1]=0,s[2]=u.offset[0]*o,s[3]=0,s[4]=0,s[5]=u.scale[1],s[6]=-u.offset[1]*o,s[7]=0,s[8]=0,s[9]=0,s[10]=i/(r-i)*-o,s[11]=i*r/(r-i),s[12]=0,s[13]=0,s[14]=o,s[15]=0,a.transpose(),a}function o(e,t,r,n){var o=Math.PI/180,a={upTan:Math.tan(e.upDegrees*o),downTan:Math.tan(e.downDegrees*o),leftTan:Math.tan(e.leftDegrees*o),rightTan:Math.tan(e.rightDegrees*o)};return i(a,t,r,n)}var a,s,u,c,l;navigator.getVRDevices&&navigator.getVRDevices().then(r),this.scale=1,this.setSize=function(t,r){e.setSize(t,r)};var h=!1,p=e.domElement,d=p.mozRequestFullScreen?"mozfullscreenchange":"webkitfullscreenchange";document.addEventListener(d,function(e){h=document.mozFullScreenElement||document.webkitFullscreenElement},!1),this.setFullScreen=function(e){void 0!==a&&h!==e&&(p.mozRequestFullScreen?p.mozRequestFullScreen({vrDisplay:a}):p.webkitRequestFullscreen&&p.webkitRequestFullscreen({vrDisplay:a}))};var f=new THREE.PerspectiveCamera;f.layers.enable(1);var m=new THREE.PerspectiveCamera;m.layers.enable(2),this.render=function(t,r){if(a){var n=a.getEyeParameters("left"),i=a.getEyeParameters("right");s=n.eyeTranslation,c=i.eyeTranslation,u=n.recommendedFieldOfView,l=i.recommendedFieldOfView,Array.isArray(t)&&(console.warn("THREE.VREffect.render() no longer supports arrays. Use object.layers instead."),t=t[0]);var h=e.getSize();return e.setScissorTest(!0),e.clear(),null===r.parent&&r.updateMatrixWorld(),f.projectionMatrix=o(u,!0,r.near,r.far),m.projectionMatrix=o(l,!0,r.near,r.far),r.matrixWorld.decompose(f.position,f.quaternion,f.scale),r.matrixWorld.decompose(m.position,m.quaternion,m.scale),f.translateX(s.x*this.scale),m.translateX(c.x*this.scale),e.setViewport(0,0,h.width/2,h.height),e.setScissor(0,0,h.width/2,h.height),e.render(t,f),e.setViewport(h.width/2,0,h.width/2,h.height),e.setScissor(h.width/2,0,h.width/2,h.height),e.render(t,m),void e.setScissorTest(!1)}e.render(t,r)}}},{}],18:[function(e,t,r){THREE.ColladaLoader=function(){function e(e,r,n,i){var o=0;if(document.implementation&&document.implementation.createDocument){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState?(0===a.status||200===a.status)&&(a.response?(je=r,t(a.response,void 0,e)):i?i():console.error("ColladaLoader: Empty or non-existing file ("+e+")")):3===a.readyState&&n&&(0===o&&(o=a.getResponseHeader("Content-Length")),n({total:o,loaded:a.responseText.length}))},a.open("GET",e,!0),a.send(null)}else alert("Don't know how to parse XML!")}function t(e,t,r){if(Le=(new DOMParser).parseFromString(e,"text/xml"),t=t||je,void 0!==r){var u=r.split("/");u.pop(),Ie=(u.length<1?".":u.join("/"))+"/"}n(),_e(),Be=i("library_images image",M,"image"),Ge=i("library_materials material",q,"material"),We=i("library_effects effect",Z,"effect"),He=i("library_geometries geometry",L,"geometry"),qe=i("library_cameras camera",ne,"camera"),Qe=i("library_lights light",oe,"light"),ze=i("library_controllers controller",A,"controller"),Ve=i("library_animations animation",$,"animation"),Pe=i("library_visual_scenes visual_scene",O,"visual_scene"),De=i("library_kinematics_models kinematics_model",se,"kinematics_model"),Ne=[],ke=[],Ae=o(),Fe=new THREE.Group;for(var c=0;c<Ae.nodes.length;c++)Fe.add(g(Ae.nodes[c]));Fe.scale.multiplyScalar(Ke),s(),Te=a(),v();var l={scene:Fe,morphs:Ne,skins:ke,animations:Re,kinematics:Oe,dae:{images:Be,materials:Ge,cameras:qe,lights:Qe,effects:We,geometries:He,controllers:ze,animations:Ve,visualScenes:Pe,visualScene:Ae,scene:Ae,kinematicsModels:De,kinematicsModel:Te}};return t&&t(l),l}function r(e){Xe=e}function n(){var e=Le.querySelectorAll("asset"),t=e[0];if(t&&t.childNodes)for(var r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];switch(n.nodeName){case"unit":var i=n.getAttribute("meter");i&&(Ke=parseFloat(i));break;case"up_axis":Ze=n.textContent.charAt(0)}}}function i(e,t,r){for(var n=Le.querySelectorAll(e),i={},o=0,a=n.length,s=0;a>s;s++){var u=n[s],c=(new t).parse(u);c.id&&0!==c.id.length||(c.id=r+o++),i[c.id]=c}return i}function o(){var e=Le.querySelectorAll("scene instance_visual_scene")[0];if(e){var t=e.getAttribute("url").replace(/^#/,"");return Pe[t.length>0?t:"visual_scene0"]}return null}function a(){var e=Le.querySelectorAll("instance_kinematics_model")[0];if(e){var t=e.getAttribute("url").replace(/^#/,"");return De[t.length>0?t:"kinematics_model0"]}return null}function s(){Re=[],u(Fe)}function u(e){var t=Ae.getChildById(e.colladaId,!0),r=null;if(t&&t.keys){r={fps:60,hierarchy:[{node:t,keys:t.keys,sids:t.sids}],node:e,name:"animation_"+e.name,length:0},Re.push(r);for(var n=0,i=t.keys.length;i>n;n++)r.length=Math.max(r.length,t.keys[n].time)}else r={hierarchy:[{keys:[],sids:[]}]};for(var n=0,i=e.children.length;i>n;n++)for(var o=u(e.children[n]),a=0,s=o.hierarchy.length;s>a;a++)r.hierarchy.push({keys:[],sids:[]});return r}function c(){var e,t=1e6,r=-t,n=0;for(var i in Ve){var o=Ve[i];e=e||o.id;for(var a=0;a<o.sampler.length;a++){var s=o.sampler[a];s.create(),t=Math.min(t,s.startTime),r=Math.max(r,s.endTime),n=Math.max(n,s.input.length)}}return{start:t,end:r,frames:n,ID:e}}function l(e,t){var r=t instanceof I?ze[t.url]:t;if(!r||!r.morph)return void console.log("could not find morph controller!");for(var n=r.morph,i=0;i<n.targets.length;i++){var o=n.targets[i],a=He[o];if(a.mesh&&a.mesh.primitives&&a.mesh.primitives.length){var s=a.mesh.primitives[0].geometry;s.vertices.length===e.vertices.length&&e.morphTargets.push({name:"target_1",vertices:s.vertices})}}e.morphTargets.push({name:"target_Z",vertices:e.vertices})}function h(e,t,r,n){if(e.world=e.world||new THREE.Matrix4,e.localworld=e.localworld||new THREE.Matrix4,e.world.copy(e.matrix),e.localworld.copy(e.matrix),e.channels&&e.channels.length){var i=e.channels[0],o=i.sampler.output[r];o instanceof THREE.Matrix4&&(e.world.copy(o),e.localworld.copy(o),0===r&&e.matrix.copy(o))}n&&e.world.multiplyMatrices(n,e.world),t.push(e);for(var a=0;a<e.nodes.length;a++)h(e.nodes[a],t,r,e.world)}function p(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=-1;if("JOINT"==n.type){for(var o=0;o<t.joints.length;o++)if(n.sid===t.joints[o]){i=o;break}if(i>=0){var a=t.invBindMatrices[i];n.invBindMatrix=a,n.skinningMatrix=new THREE.Matrix4,n.skinningMatrix.multiplyMatrices(n.world,a),n.animatrix=new THREE.Matrix4,n.animatrix.copy(n.localworld),n.weights=[];for(var o=0;o<t.weights.length;o++)for(var s=0;s<t.weights[o].length;s++){var u=t.weights[o][s];u.joint===i&&n.weights.push(u)}}else console.warn("ColladaLoader: Could not find joint '"+n.sid+"'."),n.skinningMatrix=new THREE.Matrix4,n.weights=[]}}}function d(e){var t=[],r=function(e,t,n){var i={};i.name=t.sid,i.parent=e,i.matrix=t.matrix;var o=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];i.matrix.decompose(o[0],o[1],o[2]),i.pos=[o[0].x,o[0].y,o[0].z],i.scl=[o[2].x,o[2].y,o[2].z],i.rotq=[o[1].x,o[1].y,o[1].z,o[1].w],n.push(i);for(var a in t.nodes)r(t.sid,t.nodes[a],n)};return r(-1,e,t),t}function f(e,t,r){var n=[];h(t,n,-1),p(n,r.skin);for(var i=new THREE.Vector3,o=[],a=0;a<e.vertices.length;a++)o.push(new THREE.Vector3);for(a=0;a<n.length;a++)if("JOINT"==n[a].type)for(var s=0;s<n[a].weights.length;s++){var u=n[a].weights[s],c=u.index,l=u.weight,d=e.vertices[c],f=o[c];i.x=d.x,i.y=d.y,i.z=d.z,i.applyMatrix4(n[a].skinningMatrix),f.x+=i.x*l,f.y+=i.y*l,f.z+=i.z*l}for(var a=0;a<e.vertices.length;a++)e.vertices[a]=o[a]}function m(e,t,r){var n=ze[t.url];if(r=void 0!==r?r:40,!n||!n.skin)return void console.log("ColladaLoader: Could not find skin controller.");if(!t.skeleton||!t.skeleton.length)return void console.log("ColladaLoader: Could not find the skeleton for the skin. ");for(var i=c(),o=Ae.getChildById(t.skeleton[0],!0)||Ae.getChildBySid(t.skeleton[0],!0),a=d(o),s=n.skin.joints,u=[],l=0;l<s.length;l++)for(var m=0;m<a.length;m++)a[m].name===s[l]&&(u[l]=a[m]);for(var l=0;l<u.length;l++)for(var m=0;m<u.length;m++)u[l].parent===u[m].name&&(u[l].parent=m);var l,m,v;new THREE.Vector3;for(l=0;l<e.vertices.length;l++)e.vertices[l].applyMatrix4(n.skin.bindShapeMatrix);for(var g=[],y=[],b=n.skin.weights,l=0;l<b.length;l++){var _=new THREE.Vector4(b[l][0]?b[l][0].joint:0,b[l][1]?b[l][1].joint:0,b[l][2]?b[l][2].joint:0,b[l][3]?b[l][3].joint:0),v=new THREE.Vector4(b[l][0]?b[l][0].weight:0,b[l][1]?b[l][1].weight:0,b[l][2]?b[l][2].weight:0,b[l][3]?b[l][3].weight:0);g.push(_),y.push(v)}e.skinIndices=g,e.skinWeights=y,e.bones=u;for(var x={name:i.ID,fps:30,length:i.frames/30,hierarchy:[]},m=0;m<u.length;m++)x.hierarchy.push({parent:u[m].parent,name:u[m].name,keys:[]});for(console.log("ColladaLoader:",i.ID+" has "+u.length+" bones."),f(e,o,n),r=0;r<i.frames;r++){var w=[];h(o,w,r),p(w,n.skin);for(var l=0;l<w.length;l++)for(var m=0;m<x.hierarchy.length;m++)if(x.hierarchy[m].name===w[l].sid){var E={};E.time=r/30,E.matrix=w[l].animatrix,0===r&&(w[l].matrix=E.matrix);var S=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];E.matrix.decompose(S[0],S[1],S[2]),E.pos=[S[0].x,S[0].y,S[0].z],E.scl=[S[2].x,S[2].y,S[2].z],E.rot=S[1],x.hierarchy[m].keys.push(E)}e.animation=x}}function v(){if(Te&&0===Te.joints.length)return void(Oe=void 0);var e={},t=function(t,r){var n=r.getAttribute("id"),i=Ae.getChildById(n,!0),o=Te.joints[t];Fe.traverse(function(r){r.colladaId==n&&(e[t]={node:r,transforms:i.transforms,joint:o,position:o.zeroPosition})})};Oe={joints:Te&&Te.joints,getJointValue:function(t){var r=e[t];return r?r.position:void console.log("getJointValue: joint "+t+" doesn't exist")},setJointValue:function(t,r){var i=e[t];if(i){var o=i.joint;if(r>o.limits.max||r<o.limits.min)console.log("setJointValue: joint "+t+" value "+r+" outside of limits (min: "+o.limits.min+", max: "+o.limits.max+")");else if(o["static"])console.log("setJointValue: joint "+t+" is static");else{var a=i.node,s=o.axis,u=i.transforms,c=new THREE.Matrix4;for(n=0;n<u.length;n++){var l=u[n];if(l.sid&&-1!==l.sid.indexOf("joint"+t))switch(o.type){case"revolute":c.multiply(h.makeRotationAxis(s,THREE.Math.degToRad(r)));break;case"prismatic":c.multiply(h.makeTranslation(s.x*r,s.y*r,s.z*r));break;default:console.warn("setJointValue: unknown joint type: "+o.type)}else{var h=new THREE.Matrix4;switch(l.type){case"matrix":c.multiply(l.obj);break;case"translate":c.multiply(h.makeTranslation(l.obj.x,l.obj.y,l.obj.z));break;case"rotate":c.multiply(h.makeRotationAxis(l.obj,l.angle))}}}var p=c.elements,d=Array.prototype.slice.call(p),f=[d[0],d[4],d[8],d[12],d[1],d[5],d[9],d[13],d[2],d[6],d[10],d[14],d[3],d[7],d[11],d[15]];a.matrix.set.apply(a.matrix,f),a.matrix.decompose(a.position,a.quaternion,a.scale)}}else console.log("setJointValue: joint "+t+" doesn't exist")}};var r=Le.querySelector("scene instance_kinematics_scene");if(r)for(var n=0;n<r.childNodes.length;n++){var i=r.childNodes[n];if(1==i.nodeType)switch(i.nodeName){case"bind_joint_axis":var o=i.getAttribute("target").split("/").pop(),a=i.querySelector("axis param").textContent,s=parseInt(a.split("joint").pop().split(".")[0]),u=Le.querySelector('[sid="'+o+'"]');if(u){var c=u.parentElement;t(s,c)}}}}function g(e,t){var r,n,i,o,a=new THREE.Object3D,s=!1;for(i=0;i<e.controllers.length;i++){var u=ze[e.controllers[i].url];switch(u.type){case"skin":if(He[u.skin.source]){var c=new k;c.url=u.skin.source,c.instance_material=e.controllers[i].instance_material,e.geometries.push(c),s=!0,r=e.controllers[i]}else if(ze[u.skin.source]){var h=ze[u.skin.source];if(n=h,h.morph&&He[h.morph.source]){var c=new k;c.url=h.morph.source,c.instance_material=e.controllers[i].instance_material,e.geometries.push(c)}}break;case"morph":if(He[u.morph.source]){var c=new k;c.url=u.morph.source,c.instance_material=e.controllers[i].instance_material,e.geometries.push(c),n=e.controllers[i]}console.log("ColladaLoader: Morph-controller partially supported.")}}var p={};for(i=0;i<e.geometries.length;i++){var d,f=e.geometries[i],v=f.instance_material,y=He[f.url],b={},_=[],x=0;if(y){if(!y.mesh||!y.mesh.primitives)continue;if(0===a.name.length&&(a.name=y.id),v)for(o=0;o<v.length;o++){var w=v[o],E=Ge[w.target],S=E.instance_effect.url,C=We[S].shader,M=C.material;if(y.doubleSided){if(!(w.symbol in p)){var A=M.clone();A.side=THREE.DoubleSide,p[w.symbol]=A}M=p[w.symbol]}M.opacity=M.opacity?M.opacity:1,b[w.symbol]=x,_.push(M),d=M,d.name=null===E.name||""===E.name?E.id:E.name,x++}var T,R=d||new THREE.MeshLambertMaterial({color:14540253,side:y.doubleSided?THREE.DoubleSide:THREE.FrontSide}),O=y.mesh.geometry3js;x>1&&(R=new THREE.MultiMaterial(_)),void 0!==r?(m(O,r),O.morphTargets.length>0?(R.morphTargets=!0,R.skinning=!1):(R.morphTargets=!1,R.skinning=!0),T=new THREE.SkinnedMesh(O,R,!1),T.name="skin_"+ke.length,ke.push(T)):void 0!==n?(l(O,n),R.morphTargets=!0,T=new THREE.Mesh(O,R),T.name="morph_"+Ne.length,Ne.push(T)):T=O.isLineStrip===!0?new THREE.Line(O):new THREE.Mesh(O,R),a.add(T)}}for(i=0;i<e.cameras.length;i++){var P=e.cameras[i],D=qe[P.url],I=new THREE.PerspectiveCamera(D.yfov,parseFloat(D.aspect_ratio),parseFloat(D.znear),parseFloat(D.zfar));a.add(I)}for(i=0;i<e.lights.length;i++){var N=null,L=e.lights[i],F=Qe[L.url];if(F&&F.technique){var j,U=F.color.getHex(),B=F.intensity,V=F.distance,z=F.falloff_angle;switch(F.technique){case"directional":N=new THREE.DirectionalLight(U,B,V),N.position.set(0,0,1);break;case"point":N=new THREE.PointLight(U,B,V);break;case"spot":N=new THREE.SpotLight(U,B,V,z,j),N.position.set(0,0,1);break;case"ambient":N=new THREE.AmbientLight(U)}}N&&a.add(N)}if(a.name=e.name||e.id||"",a.colladaId=e.id||"",a.layer=e.layer||"",a.matrix=e.matrix,a.matrix.decompose(a.position,a.quaternion,a.scale),Ye.centerGeometry&&a.geometry){var H=a.geometry.center();H.multiply(a.scale),H.applyQuaternion(a.quaternion),a.position.sub(H)}for(i=0;i<e.nodes.length;i++)a.add(g(e.nodes[i],e));return a}function y(e){for(var t=Le.querySelectorAll("library_nodes node"),r=0;r<t.length;r++){var n=t[r].attributes.getNamedItem("id");if(n&&n.value===e)return t[r]}}function b(e){var t=[],r=1e6,n=-1e6;for(var i in Ve)for(var o=Ve[i],a=0;a<o.channel.length;a++){var s=o.channel[a],u=o.sampler[a],i=s.target.split("/")[0];i==e.id&&(u.create(),s.sampler=u,r=Math.min(r,u.startTime),n=Math.max(n,u.endTime),t.push(s))}return t.length&&(e.startTime=r,e.endTime=n),t}function _(e){if(e.channels&&e.channels.length){for(var t=[],r=[],n=0,i=e.channels.length;i>n;n++){var o,a=e.channels[n],s=a.fullSid,u=a.sampler,c=u.input,l=e.getTransformBySid(a.sid);if(a.arrIndices){o=[];for(var h=0,p=a.arrIndices.length;p>h;h++)o[h]=Ce(a.arrIndices[h])}else o=Me(a.member);if(l){-1===r.indexOf(s)&&r.push(s);for(var h=0,p=c.length;p>h;h++){var d=c[h],f=u.getData(l.type,h,o),m=x(t,d);if(!m){m=new re(d);var v=w(t,d);t.splice(-1===v?t.length:v,0,m)}m.addTarget(s,l,o,f)}}else console.log('Could not find transform "'+a.sid+'" in node '+e.id)}for(var n=0;n<r.length;n++)for(var g=r[n],h=0;h<t.length;h++){var m=t[h];m.hasTarget(g)||E(t,m,h,g)}e.keys=t,e.sids=r}}function x(e,t){for(var r=null,n=0,i=e.length;i>n&&null===r;n++){var o=e[n];if(o.time===t)r=o;else if(o.time>t)break}return r}function w(e,t){for(var r=-1,n=0,i=e.length;i>n&&-1===r;n++){var o=e[n];o.time>=t&&(r=n)}return r}function E(e,t,r,n){var i=C(e,n,r?r-1:0),o=S(e,n,r+1);if(i&&o){var a,s=(t.time-i.time)/(o.time-i.time),u=i.getTarget(n),c=o.getTarget(n).data,l=u.data;if("matrix"===u.type)a=l;else if(l.length){a=[];for(var h=0;h<l.length;++h)a[h]=l[h]+(c[h]-l[h])*s}else a=l+(c-l)*s;t.addTarget(n,u.transform,u.member,a)}}function S(e,t,r){for(;r<e.length;r++){var n=e[r];if(n.hasTarget(t))return n}return null}function C(e,t,r){for(r=r>=0?r:r+e.length;r>=0;r--){var n=e[r];if(n.hasTarget(t))return n}return null}function M(){this.id="",this.init_from=""}function A(){this.id="",this.name="",this.type="",this.skin=null,this.morph=null}function T(){this.method=null,this.source=null,this.targets=null,this.weights=null}function R(){this.source="",this.bindShapeMatrix=null,this.invBindMatrices=[],this.joints=[],this.weights=[]}function O(){this.id="",this.name="",this.nodes=[],this.scene=new THREE.Group}function P(){this.id="",this.name="",this.sid="",this.nodes=[],this.controllers=[],this.transforms=[],this.geometries=[],this.channels=[],this.matrix=new THREE.Matrix4}function D(){this.sid="",this.type="",this.data=[],this.obj=null}function I(){this.url="",this.skeleton=[],this.instance_material=[]}function N(){this.symbol="",this.target=""}function k(){this.url="",this.instance_material=[]}function L(){this.id="",this.mesh=null}function F(e){this.geometry=e.id,this.primitives=[],this.vertices=null,this.geometry3js=null}function j(){this.material="",this.count=0,this.inputs=[],this.vcount=null,this.p=[],this.geometry=new THREE.Geometry}function U(){j.call(this),this.vcount=[]}function B(){j.call(this),this.vcount=1}function V(){j.call(this),this.vcount=3}function z(){this.source="",this.count=0,this.stride=0,this.params=[]}function H(){this.input={}}function G(){this.semantic="",this.offset=0,this.source="",this.set=0}function W(e){this.id=e,this.type=null}function q(){this.id="",this.name="",this.instance_effect=null}function Q(){this.color=new THREE.Color,this.color.setRGB(Math.random(),Math.random(),Math.random()),this.color.a=1,this.texture=null,this.texcoord=null,this.texOpts=null}function X(e,t){this.type=e,this.effect=t,this.material=null}function Y(e){this.effect=e,this.init_from=null,this.format=null}function K(e){this.effect=e,this.source=null,this.wrap_s=null,this.wrap_t=null,this.minfilter=null,this.magfilter=null,this.mipfilter=null}function Z(){this.id="",this.name="",this.shader=null,this.surface={},this.sampler={}}function J(){this.url=""}function $(){this.id="",this.name="",this.source={},this.sampler=[],this.channel=[]}function ee(e){this.animation=e,this.source="",this.target="",this.fullSid=null,this.sid=null,this.dotSyntax=null,this.arrSyntax=null,this.arrIndices=null,this.member=null}function te(e){this.id="",this.animation=e,this.inputs=[],this.input=null,this.output=null,this.strideOut=null,this.interpolation=null,this.startTime=null,this.endTime=null,this.duration=0}function re(e){this.targets=[],this.time=e}function ne(){this.id="",this.name="",this.technique=""}function ie(){this.url=""}function oe(){this.id="",this.name="",this.technique=""}function ae(){this.url=""}function se(){this.id="",this.name="",this.joints=[],this.links=[]}function ue(){this.sid="",this.name="",this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type="",this["static"]=!1,this.zeroPosition=0,this.middlePosition=0}function ce(){this.sid="",this.name="",this.transforms=[],this.attachments=[]}function le(){this.joint="",this.transforms=[],this.links=[]}function he(e){var t=e.getAttribute("id");return void 0!=Ue[t]?Ue[t]:(Ue[t]=new W(t).parse(e),Ue[t])}function pe(e){for(var t=me(e),r=[],n=0,i=t.length;i>n;n++)r.push("true"===t[n]||"1"===t[n]?!0:!1);return r}function de(e){for(var t=me(e),r=[],n=0,i=t.length;i>n;n++)r.push(parseFloat(t[n]));return r}function fe(e){for(var t=me(e),r=[],n=0,i=t.length;i>n;n++)r.push(parseInt(t[n],10));return r}function me(e){return e.length>0?ve(e).split(/\s+/):[]}function ve(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function ge(e,t,r){return e.hasAttribute(t)?parseInt(e.getAttribute(t),10):r}function ye(e,t){var r=new THREE.ImageLoader;r.load(t,function(t){e.image=t,e.needsUpdate=!0})}function be(e,t){e.doubleSided=!1;var r=t.querySelectorAll("extra double_sided")[0];r&&r&&1===parseInt(r.textContent,10)&&(e.doubleSided=!0)}function _e(){if(Ye.convertUpAxis!==!0||Ze===Ye.upAxis)Je=null;else switch(Ze){case"X":Je="Y"===Ye.upAxis?"XtoY":"XtoZ";break;case"Y":Je="X"===Ye.upAxis?"YtoX":"YtoZ";break;case"Z":Je="X"===Ye.upAxis?"ZtoX":"ZtoY"}}function xe(e,t){if(Ye.convertUpAxis===!0&&Ze!==Ye.upAxis)switch(Je){
case"XtoY":var r=e[0];e[0]=t*e[1],e[1]=r;break;case"XtoZ":var r=e[2];e[2]=e[1],e[1]=e[0],e[0]=r;break;case"YtoX":var r=e[0];e[0]=e[1],e[1]=t*r;break;case"YtoZ":var r=e[1];e[1]=t*e[2],e[2]=r;break;case"ZtoX":var r=e[0];e[0]=e[1],e[1]=e[2],e[2]=r;break;case"ZtoY":var r=e[1];e[1]=e[2],e[2]=t*r}}function we(e,t){if(Ye.convertUpAxis!==!0||Ze===Ye.upAxis)return t;switch(e){case"X":t="XtoY"===Je?-1*t:t;break;case"Y":t="YtoZ"===Je||"YtoX"===Je?-1*t:t;break;case"Z":t="ZtoY"===Je?-1*t:t}return t}function Ee(e,t){var r=[e[t],e[t+1],e[t+2]];return xe(r,-1),new THREE.Vector3(r[0],r[1],r[2])}function Se(e){if(Ye.convertUpAxis){var t=[e[0],e[4],e[8]];xe(t,-1),e[0]=t[0],e[4]=t[1],e[8]=t[2],t=[e[1],e[5],e[9]],xe(t,-1),e[1]=t[0],e[5]=t[1],e[9]=t[2],t=[e[2],e[6],e[10]],xe(t,-1),e[2]=t[0],e[6]=t[1],e[10]=t[2],t=[e[0],e[1],e[2]],xe(t,-1),e[0]=t[0],e[1]=t[1],e[2]=t[2],t=[e[4],e[5],e[6]],xe(t,-1),e[4]=t[0],e[5]=t[1],e[6]=t[2],t=[e[8],e[9],e[10]],xe(t,-1),e[8]=t[0],e[9]=t[1],e[10]=t[2],t=[e[3],e[7],e[11]],xe(t,-1),e[3]=t[0],e[7]=t[1],e[11]=t[2]}return(new THREE.Matrix4).set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Ce(e){if(e>-1&&3>e){var t=["X","Y","Z"],r={X:0,Y:1,Z:2};e=Me(t[e]),e=r[e]}return e}function Me(e){if(Ye.convertUpAxis)switch(e){case"X":switch(Je){case"XtoY":case"XtoZ":case"YtoX":e="Y";break;case"ZtoX":e="Z"}break;case"Y":switch(Je){case"XtoY":case"YtoX":case"ZtoX":e="X";break;case"XtoZ":case"YtoZ":case"ZtoY":e="Z"}break;case"Z":switch(Je){case"XtoZ":e="X";break;case"YtoZ":case"ZtoX":case"ZtoY":e="Y"}}return e}var Ae,Te,Re,Oe,Pe,De,Ie,Ne,ke,Le=null,Fe=null,je=null,Ue={},Be={},Ve={},ze={},He={},Ge={},We={},qe={},Qe={},Xe=THREE.SmoothShading,Ye={centerGeometry:!1,convertUpAxis:!1,subdivideFaces:!0,upAxis:"Y",defaultEnvMap:null},Ke=1,Ze="Y",Je=null;return M.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];"init_from"===r.nodeName&&(this.init_from=r.textContent)}return this},A.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.type="none";for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];switch(r.nodeName){case"skin":this.skin=(new R).parse(r),this.type=r.nodeName;break;case"morph":this.morph=(new T).parse(r),this.type=r.nodeName}}return this},T.prototype.parse=function(e){var t,r={},n=[];for(this.method=e.getAttribute("method"),this.source=e.getAttribute("source").replace(/^#/,""),t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"source":var o=(new W).parse(i);r[o.id]=o;break;case"targets":n=this.parseInputs(i);break;default:console.log(i.nodeName)}}for(t=0;t<n.length;t++){var a=n[t],o=r[a.source];switch(a.semantic){case"MORPH_TARGET":this.targets=o.read();break;case"MORPH_WEIGHT":this.weights=o.read()}}return this},T.prototype.parseInputs=function(e){for(var t=[],r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1==n.nodeType)switch(n.nodeName){case"input":t.push((new G).parse(n))}}return t},R.prototype.parse=function(e){var t,r,n={};this.source=e.getAttribute("source").replace(/^#/,""),this.invBindMatrices=[],this.joints=[],this.weights=[];for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes[i];if(1==o.nodeType)switch(o.nodeName){case"bind_shape_matrix":var a=de(o.textContent);this.bindShapeMatrix=Se(a);break;case"source":var s=(new W).parse(o);n[s.id]=s;break;case"joints":t=o;break;case"vertex_weights":r=o;break;default:console.log(o.nodeName)}}return this.parseJoints(t,n),this.parseWeights(r,n),this},R.prototype.parseJoints=function(e,t){for(var r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1==n.nodeType)switch(n.nodeName){case"input":var i=(new G).parse(n),o=t[i.source];"JOINT"===i.semantic?this.joints=o.read():"INV_BIND_MATRIX"===i.semantic&&(this.invBindMatrices=o.read())}}},R.prototype.parseWeights=function(e,t){for(var r,n,i=[],o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if(1==a.nodeType)switch(a.nodeName){case"input":i.push((new G).parse(a));break;case"v":r=fe(a.textContent);break;case"vcount":n=fe(a.textContent)}}for(var s=0,o=0;o<n.length;o++){for(var u=n[o],c=[],l=0;u>l;l++){for(var h={},p=0;p<i.length;p++){var d=i[p],f=r[s+d.offset];switch(d.semantic){case"JOINT":h.joint=f;break;case"WEIGHT":h.weight=t[d.source].data[f]}}c.push(h),s+=i.length}for(var l=0;l<c.length;l++)c[l].index=o;this.weights.push(c)}},O.prototype.getChildById=function(e,t){for(var r=0;r<this.nodes.length;r++){var n=this.nodes[r].getChildById(e,t);if(n)return n}return null},O.prototype.getChildBySid=function(e,t){for(var r=0;r<this.nodes.length;r++){var n=this.nodes[r].getChildBySid(e,t);if(n)return n}return null},O.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.nodes=[];for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"node":this.nodes.push((new P).parse(r))}}return this},P.prototype.getChannelForTransform=function(e){for(var t=0;t<this.channels.length;t++){var r,n,i=this.channels[t],o=i.target.split("/"),a=(o.shift(),o.shift()),s=a.indexOf(".")>=0,u=a.indexOf("(")>=0;if(s)o=a.split("."),a=o.shift(),n=o.shift();else if(u){r=a.split("("),a=r.shift();for(var c=0;c<r.length;c++)r[c]=parseInt(r[c].replace(/\)/,""))}if(a===e)return i.info={sid:a,dotSyntax:s,arrSyntax:u,arrIndices:r},i}return null},P.prototype.getChildById=function(e,t){if(this.id===e)return this;if(t)for(var r=0;r<this.nodes.length;r++){var n=this.nodes[r].getChildById(e,t);if(n)return n}return null},P.prototype.getChildBySid=function(e,t){if(this.sid===e)return this;if(t)for(var r=0;r<this.nodes.length;r++){var n=this.nodes[r].getChildBySid(e,t);if(n)return n}return null},P.prototype.getTransformBySid=function(e){for(var t=0;t<this.transforms.length;t++)if(this.transforms[t].sid===e)return this.transforms[t];return null},P.prototype.parse=function(e){var t;this.id=e.getAttribute("id"),this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.type=e.getAttribute("type"),this.layer=e.getAttribute("layer"),this.type="JOINT"===this.type?this.type:"NODE",this.nodes=[],this.transforms=[],this.geometries=[],this.cameras=[],this.lights=[],this.controllers=[],this.matrix=new THREE.Matrix4;for(var r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1==n.nodeType)switch(n.nodeName){case"node":this.nodes.push((new P).parse(n));break;case"instance_camera":this.cameras.push((new ie).parse(n));break;case"instance_controller":this.controllers.push((new I).parse(n));break;case"instance_geometry":this.geometries.push((new k).parse(n));break;case"instance_light":this.lights.push((new ae).parse(n));break;case"instance_node":t=n.getAttribute("url").replace(/^#/,"");var i=y(t);i&&this.nodes.push((new P).parse(i));break;case"rotate":case"translate":case"scale":case"matrix":case"lookat":case"skew":this.transforms.push((new D).parse(n));break;case"extra":break;default:console.log(n.nodeName)}}return this.channels=b(this),_(this),this.updateMatrix(),this},P.prototype.updateMatrix=function(){this.matrix.identity();for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(this.matrix)},D.prototype.parse=function(e){return this.sid=e.getAttribute("sid"),this.type=e.nodeName,this.data=de(e.textContent),this.convert(),this},D.prototype.convert=function(){switch(this.type){case"matrix":this.obj=Se(this.data);break;case"rotate":this.angle=THREE.Math.degToRad(this.data[3]);case"translate":xe(this.data,-1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;case"scale":xe(this.data,1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;default:console.log("Can not convert Transform of type "+this.type)}},D.prototype.apply=function(){var e=new THREE.Matrix4;return function(t){switch(this.type){case"matrix":t.multiply(this.obj);break;case"translate":t.multiply(e.makeTranslation(this.obj.x,this.obj.y,this.obj.z));break;case"rotate":t.multiply(e.makeRotationAxis(this.obj,this.angle));break;case"scale":t.scale(this.obj)}}}(),D.prototype.update=function(e,t){var r=["X","Y","Z","ANGLE"];switch(this.type){case"matrix":if(t)if(1===t.length)switch(t[0]){case 0:this.obj.n11=e[0],this.obj.n21=e[1],this.obj.n31=e[2],this.obj.n41=e[3];break;case 1:this.obj.n12=e[0],this.obj.n22=e[1],this.obj.n32=e[2],this.obj.n42=e[3];break;case 2:this.obj.n13=e[0],this.obj.n23=e[1],this.obj.n33=e[2],this.obj.n43=e[3];break;case 3:this.obj.n14=e[0],this.obj.n24=e[1],this.obj.n34=e[2],this.obj.n44=e[3]}else if(2===t.length){var n="n"+(t[0]+1)+(t[1]+1);this.obj[n]=e}else console.log("Incorrect addressing of matrix in transform.");else this.obj.copy(e);break;case"translate":case"scale":switch("[object Array]"===Object.prototype.toString.call(t)&&(t=r[t[0]]),t){case"X":this.obj.x=e;break;case"Y":this.obj.y=e;break;case"Z":this.obj.z=e;break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2]}break;case"rotate":switch("[object Array]"===Object.prototype.toString.call(t)&&(t=r[t[0]]),t){case"X":this.obj.x=e;break;case"Y":this.obj.y=e;break;case"Z":this.obj.z=e;break;case"ANGLE":this.angle=THREE.Math.degToRad(e);break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2],this.angle=THREE.Math.degToRad(e[3])}}},I.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,""),this.skeleton=[],this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1===r.nodeType)switch(r.nodeName){case"skeleton":this.skeleton.push(r.textContent.replace(/^#/,""));break;case"bind_material":for(var n=r.querySelectorAll("instance_material"),i=0;i<n.length;i++){var o=n[i];this.instance_material.push((new N).parse(o))}break;case"extra":}}return this},N.prototype.parse=function(e){return this.symbol=e.getAttribute("symbol"),this.target=e.getAttribute("target").replace(/^#/,""),this},k.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,""),this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType&&"bind_material"===r.nodeName){for(var n=r.querySelectorAll("instance_material"),i=0;i<n.length;i++){var o=n[i];this.instance_material.push((new N).parse(o))}break}}return this},L.prototype.parse=function(e){this.id=e.getAttribute("id"),be(this,e);for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];switch(r.nodeName){case"mesh":this.mesh=new F(this).parse(r);break;case"extra":}}return this},F.prototype.parse=function(e){this.primitives=[];for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];switch(r.nodeName){case"source":he(r);break;case"vertices":this.vertices=(new H).parse(r);break;case"linestrips":this.primitives.push((new B).parse(r));break;case"triangles":this.primitives.push((new V).parse(r));break;case"polygons":this.primitives.push((new j).parse(r));break;case"polylist":this.primitives.push((new U).parse(r))}}if(this.geometry3js=new THREE.Geometry,null===this.vertices)return this;for(var n=Ue[this.vertices.input.POSITION.source].data,t=0;t<n.length;t+=3)this.geometry3js.vertices.push(Ee(n,t).clone());for(var t=0;t<this.primitives.length;t++){var i=this.primitives[t];i.setVertices(this.vertices),this.handlePrimitive(i,this.geometry3js)}return this.geometry3js.calcNormals&&(this.geometry3js.computeVertexNormals(),delete this.geometry3js.calcNormals),this},F.prototype.handlePrimitive=function(e,t){if(e instanceof B)return void(t.isLineStrip=!0);var r,n,i,o,a,s,u,c=e.p,l=e.inputs,h=0,p=3,d=0,f=[];for(r=0;r<l.length;r++){i=l[r];var m=i.offset+1;switch(d=m>d?m:d,i.semantic){case"TEXCOORD":f.push(i.set)}}for(var v=0;v<c.length;++v)for(var g=c[v],y=0;y<g.length;){var b=[],_=[],x=null,w=[];for(p=e.vcount?e.vcount.length?e.vcount[h++]:e.vcount:g.length/d,r=0;p>r;r++)for(n=0;n<l.length;n++)switch(i=l[n],s=Ue[i.source],o=g[y+r*d+i.offset],u=s.accessor.params.length,a=o*u,i.semantic){case"VERTEX":b.push(o);break;case"NORMAL":_.push(Ee(s.data,a));break;case"TEXCOORD":x=x||{},void 0===x[i.set]&&(x[i.set]=[]),x[i.set].push(new THREE.Vector2(s.data[a],s.data[a+1]));break;case"COLOR":w.push((new THREE.Color).setRGB(s.data[a],s.data[a+1],s.data[a+2]))}if(0===_.length)if(i=this.vertices.input.NORMAL){s=Ue[i.source],u=s.accessor.params.length;for(var E=0,S=b.length;S>E;E++)_.push(Ee(s.data,b[E]*u))}else t.calcNormals=!0;if(!x&&(x={},i=this.vertices.input.TEXCOORD)){f.push(i.set),s=Ue[i.source],u=s.accessor.params.length;for(var E=0,S=b.length;S>E;E++)a=b[E]*u,void 0===x[i.set]&&(x[i.set]=[]),x[i.set].push(new THREE.Vector2(s.data[a],1-s.data[a+1]))}if(0===w.length&&(i=this.vertices.input.COLOR)){s=Ue[i.source],u=s.accessor.params.length;for(var E=0,S=b.length;S>E;E++)a=b[E]*u,w.push((new THREE.Color).setRGB(s.data[a],s.data[a+1],s.data[a+2]))}var C,M,A=null,T=[];if(3===p)T.push(new THREE.Face3(b[0],b[1],b[2],_,w.length?w:new THREE.Color));else if(4===p)T.push(new THREE.Face3(b[0],b[1],b[3],_.length?[_[0].clone(),_[1].clone(),_[3].clone()]:[],w.length?[w[0],w[1],w[3]]:new THREE.Color)),T.push(new THREE.Face3(b[1],b[2],b[3],_.length?[_[1].clone(),_[2].clone(),_[3].clone()]:[],w.length?[w[1],w[2],w[3]]:new THREE.Color));else if(p>4&&Ye.subdivideFaces){var R=w.length?w:new THREE.Color;for(n=1;p-1>n;)T.push(new THREE.Face3(b[0],b[n],b[n+1],_.length?[_[0].clone(),_[n++].clone(),_[n].clone()]:[],R))}if(T.length)for(var E=0,S=T.length;S>E;E++)for(A=T[E],A.daeMaterial=e.material,t.faces.push(A),n=0;n<f.length;n++)C=x[f[n]],M=p>4?[C[0],C[E+1],C[E+2]]:4===p?0===E?[C[0],C[1],C[3]]:[C[1].clone(),C[2],C[3].clone()]:[C[0],C[1],C[2]],void 0===t.faceVertexUvs[n]&&(t.faceVertexUvs[n]=[]),t.faceVertexUvs[n].push(M);else console.log("dropped face with vcount "+p+" for geometry with id: "+t.id);y+=d*p}},j.prototype.setVertices=function(e){for(var t=0;t<this.inputs.length;t++)this.inputs[t].source===e.id&&(this.inputs[t].source=e.input.POSITION.source)},j.prototype.parse=function(e){this.material=e.getAttribute("material"),this.count=ge(e,"count",0);for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];switch(r.nodeName){case"input":this.inputs.push((new G).parse(e.childNodes[t]));break;case"vcount":this.vcount=fe(r.textContent);break;case"p":this.p.push(fe(r.textContent));break;case"ph":console.warn("polygon holes not yet supported!")}}return this},U.prototype=Object.create(j.prototype),U.prototype.constructor=U,B.prototype=Object.create(j.prototype),B.prototype.constructor=B,V.prototype=Object.create(j.prototype),V.prototype.constructor=V,z.prototype.parse=function(e){this.params=[],this.source=e.getAttribute("source"),this.count=ge(e,"count",0),this.stride=ge(e,"stride",0);for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if("param"===r.nodeName){var n={};n.name=r.getAttribute("name"),n.type=r.getAttribute("type"),this.params.push(n)}}return this},H.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++)if("input"===e.childNodes[t].nodeName){var r=(new G).parse(e.childNodes[t]);this.input[r.semantic]=r}return this},G.prototype.parse=function(e){return this.semantic=e.getAttribute("semantic"),this.source=e.getAttribute("source").replace(/^#/,""),this.set=ge(e,"set",-1),this.offset=ge(e,"offset",0),"TEXCOORD"===this.semantic&&this.set<0&&(this.set=0),this},W.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];switch(r.nodeName){case"bool_array":this.data=pe(r.textContent),this.type=r.nodeName;break;case"float_array":this.data=de(r.textContent),this.type=r.nodeName;break;case"int_array":this.data=fe(r.textContent),this.type=r.nodeName;break;case"IDREF_array":case"Name_array":this.data=me(r.textContent),this.type=r.nodeName;break;case"technique_common":for(var n=0;n<r.childNodes.length;n++)if("accessor"===r.childNodes[n].nodeName){this.accessor=(new z).parse(r.childNodes[n]);break}}}return this},W.prototype.read=function(){var e=[],t=this.accessor.params[0];switch(t.type){case"IDREF":case"Name":case"name":case"float":return this.data;case"float4x4":for(var r=0;r<this.data.length;r+=16){var n=this.data.slice(r,r+16),i=Se(n);e.push(i)}break;default:console.log("ColladaLoader: Source: Read dont know how to read "+t.type+".")}return e},q.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++)if("instance_effect"===e.childNodes[t].nodeName){this.instance_effect=(new J).parse(e.childNodes[t]);break}return this},Q.prototype.isColor=function(){return null===this.texture},Q.prototype.isTexture=function(){return null!=this.texture},Q.prototype.parse=function(e){"transparent"===e.nodeName&&(this.opaque=e.getAttribute("opaque"));for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"color":var n=de(r.textContent);this.color=new THREE.Color,this.color.setRGB(n[0],n[1],n[2]),this.color.a=n[3];break;case"texture":this.texture=r.getAttribute("texture"),this.texcoord=r.getAttribute("texcoord"),this.texOpts={offsetU:0,offsetV:0,repeatU:1,repeatV:1,wrapU:1,wrapV:1},this.parseTexture(r)}}return this},Q.prototype.parseTexture=function(e){if(!e.childNodes)return this;e.childNodes[1]&&"extra"===e.childNodes[1].nodeName&&(e=e.childNodes[1],e.childNodes[1]&&"technique"===e.childNodes[1].nodeName&&(e=e.childNodes[1]));for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];switch(r.nodeName){case"offsetU":case"offsetV":case"repeatU":case"repeatV":this.texOpts[r.nodeName]=parseFloat(r.textContent);break;case"wrapU":case"wrapV":"TRUE"===r.textContent.toUpperCase()?this.texOpts[r.nodeName]=1:this.texOpts[r.nodeName]=parseInt(r.textContent);break;default:this.texOpts[r.nodeName]=r.textContent}}return this},X.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"emission":case"diffuse":case"specular":case"transparent":this[r.nodeName]=(new Q).parse(r);break;case"bump":var n=r.getAttribute("bumptype");n?"heightfield"===n.toLowerCase()?this.bump=(new Q).parse(r):"normalmap"===n.toLowerCase()?this.normal=(new Q).parse(r):(console.error("Shader.prototype.parse: Invalid value for attribute 'bumptype' ("+n+") - valid bumptypes are 'HEIGHTFIELD' and 'NORMALMAP' - defaulting to 'HEIGHTFIELD'"),this.bump=(new Q).parse(r)):(console.warn("Shader.prototype.parse: Attribute 'bumptype' missing from bump node - defaulting to 'HEIGHTFIELD'"),this.bump=(new Q).parse(r));break;case"shininess":case"reflectivity":case"index_of_refraction":case"transparency":var i=r.querySelectorAll("float");i.length>0&&(this[r.nodeName]=parseFloat(i[0].textContent))}}return this.create(),this},X.prototype.create=function(){var e={},t=!1;if(void 0!==this.transparency&&void 0!==this.transparent){var r=(this.transparent,(this.transparent.color.r+this.transparent.color.g+this.transparent.color.b)/3*this.transparency);r>0&&(t=!0,e.transparent=!0,e.opacity=1-r)}var n={diffuse:"map",ambient:"lightMap",specular:"specularMap",emission:"emissionMap",bump:"bumpMap",normal:"normalMap"};for(var i in this)switch(i){case"ambient":case"emission":case"diffuse":case"specular":case"bump":case"normal":var o=this[i];if(o instanceof Q)if(o.isTexture()){var a=o.texture,s=this.effect.sampler[a];if(void 0!==s&&void 0!==s.source){var u=this.effect.surface[s.source];if(void 0!==u){var c=Be[u.init_from];if(c){var l,h=Ie+c.init_from,p=THREE.Loader.Handlers.get(h);null!==p?l=p.load(h):(l=new THREE.Texture,ye(l,h)),l.wrapS=o.texOpts.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,l.wrapT=o.texOpts.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,l.offset.x=o.texOpts.offsetU,l.offset.y=o.texOpts.offsetV,l.repeat.x=o.texOpts.repeatU,l.repeat.y=o.texOpts.repeatV,e[n[i]]=l,"emission"===i&&(e.emissive=16777215)}}}}else"diffuse"!==i&&t||("emission"===i?e.emissive=o.color.getHex():e[i]=o.color.getHex());break;case"shininess":e[i]=this[i];break;case"reflectivity":e[i]=this[i],e[i]>0&&(e.envMap=Ye.defaultEnvMap),e.combine=THREE.MixOperation;break;case"index_of_refraction":e.refractionRatio=this[i],1!==this[i]&&(e.envMap=Ye.defaultEnvMap);break;case"transparency":}switch(e.shading=Xe,e.side=this.effect.doubleSided?THREE.DoubleSide:THREE.FrontSide,void 0!==e.diffuse&&(e.color=e.diffuse,delete e.diffuse),this.type){case"constant":void 0!=e.emissive&&(e.color=e.emissive),this.material=new THREE.MeshBasicMaterial(e);break;case"phong":case"blinn":this.material=new THREE.MeshPhongMaterial(e);break;case"lambert":default:this.material=new THREE.MeshLambertMaterial(e)}return this.material},Y.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"init_from":this.init_from=r.textContent;break;case"format":this.format=r.textContent;break;default:console.log("unhandled Surface prop: "+r.nodeName)}}return this},K.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"source":this.source=r.textContent;break;case"minfilter":this.minfilter=r.textContent;break;case"magfilter":this.magfilter=r.textContent;break;case"mipfilter":this.mipfilter=r.textContent;break;case"wrap_s":this.wrap_s=r.textContent;break;case"wrap_t":this.wrap_t=r.textContent;break;default:console.log("unhandled Sampler2D prop: "+r.nodeName)}}return this},Z.prototype.create=function(){return null===this.shader?null:void 0},Z.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),be(this,e),this.shader=null;for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"profile_COMMON":this.parseTechnique(this.parseProfileCOMMON(r))}}return this},Z.prototype.parseNewparam=function(e){for(var t=e.getAttribute("sid"),r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1==n.nodeType)switch(n.nodeName){case"surface":this.surface[t]=new Y(this).parse(n);break;case"sampler2D":this.sampler[t]=new K(this).parse(n);break;case"extra":break;default:console.log(n.nodeName)}}},Z.prototype.parseProfileCOMMON=function(e){for(var t,r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1==n.nodeType)switch(n.nodeName){case"profile_COMMON":this.parseProfileCOMMON(n);break;case"technique":t=n;break;case"newparam":this.parseNewparam(n);break;case"image":var i=(new M).parse(n);Be[i.id]=i;break;case"extra":break;default:console.log(n.nodeName)}}return t},Z.prototype.parseTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"constant":case"lambert":case"blinn":case"phong":this.shader=new X(r.nodeName,this).parse(r);break;case"extra":this.parseExtra(r)}}},Z.prototype.parseExtra=function(e){for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"technique":this.parseExtraTechnique(r)}}},Z.prototype.parseExtraTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"bump":this.shader.parse(e)}}},J.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},$.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.source={};for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"animation":var n=(new $).parse(r);for(var i in n.source)this.source[i]=n.source[i];for(var o=0;o<n.channel.length;o++)this.channel.push(n.channel[o]),this.sampler.push(n.sampler[o]);break;case"source":var i=(new W).parse(r);this.source[i.id]=i;break;case"sampler":this.sampler.push(new te(this).parse(r));break;case"channel":this.channel.push(new ee(this).parse(r))}}return this},ee.prototype.parse=function(e){this.source=e.getAttribute("source").replace(/^#/,""),this.target=e.getAttribute("target");var t=this.target.split("/"),r=(t.shift(),t.shift()),n=r.indexOf(".")>=0,i=r.indexOf("(")>=0;if(n)t=r.split("."),this.sid=t.shift(),this.member=t.shift();else if(i){var o=r.split("(");this.sid=o.shift();for(var a=0;a<o.length;a++)o[a]=parseInt(o[a].replace(/\)/,""));this.arrIndices=o}else this.sid=r;return this.fullSid=r,this.dotSyntax=n,this.arrSyntax=i,this},te.prototype.parse=function(e){this.id=e.getAttribute("id"),this.inputs=[];for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"input":this.inputs.push((new G).parse(r))}}return this},te.prototype.create=function(){for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e],r=this.animation.source[t.source];switch(t.semantic){case"INPUT":this.input=r.read();break;case"OUTPUT":this.output=r.read(),this.strideOut=r.accessor.stride;break;case"INTERPOLATION":this.interpolation=r.read();break;case"IN_TANGENT":break;case"OUT_TANGENT":break;default:console.log(t.semantic)}}if(this.startTime=0,this.endTime=0,this.duration=0,this.input.length){this.startTime=1e8,this.endTime=-1e8;for(var e=0;e<this.input.length;e++)this.startTime=Math.min(this.startTime,this.input[e]),this.endTime=Math.max(this.endTime,this.input[e]);this.duration=this.endTime-this.startTime}},te.prototype.getData=function(e,t,r){var n;if("matrix"===e&&16===this.strideOut)n=this.output[t];else if(this.strideOut>1){n=[],t*=this.strideOut;for(var i=0;i<this.strideOut;++i)n[i]=this.output[t+i];if(3===this.strideOut)switch(e){case"rotate":case"translate":xe(n,-1);break;case"scale":xe(n,1)}else 4===this.strideOut&&"matrix"===e&&xe(n,-1)}else n=this.output[t],r&&"translate"===e&&(n=we(r,n));return n},re.prototype.addTarget=function(e,t,r,n){this.targets.push({sid:e,member:r,transform:t,data:n})},re.prototype.apply=function(e){for(var t=0;t<this.targets.length;++t){var r=this.targets[t];e&&r.sid!==e||r.transform.update(r.data,r.member)}},re.prototype.getTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return this.targets[t];return null},re.prototype.hasTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return!0;return!1},re.prototype.interpolate=function(e,t){for(var r=0,n=this.targets.length;n>r;r++){var i,o=this.targets[r],a=e.getTarget(o.sid);if("matrix"!==o.transform.type&&a){var s=(t-this.time)/(e.time-this.time),u=a.data,c=o.data;if(0>s&&(s=0),s>1&&(s=1),c.length){i=[];for(var l=0;l<c.length;++l)i[l]=c[l]+(u[l]-c[l])*s}else i=c+(u-c)*s}else i=o.data;o.transform.update(i,o.member)}},ne.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"optics":this.parseOptics(r)}}return this},ne.prototype.parseOptics=function(e){for(var t=0;t<e.childNodes.length;t++)if("technique_common"===e.childNodes[t].nodeName)for(var r=e.childNodes[t],n=0;n<r.childNodes.length;n++)if(this.technique=r.childNodes[n].nodeName,"perspective"===this.technique)for(var i=r.childNodes[n],o=0;o<i.childNodes.length;o++){var a=i.childNodes[o];switch(a.nodeName){case"yfov":this.yfov=a.textContent;break;case"xfov":this.xfov=a.textContent;break;case"znear":this.znear=a.textContent;break;case"zfar":this.zfar=a.textContent;break;case"aspect_ratio":this.aspect_ratio=a.textContent}}else if("orthographic"===this.technique)for(var s=r.childNodes[n],o=0;o<s.childNodes.length;o++){var a=s.childNodes[o];switch(a.nodeName){case"xmag":this.xmag=a.textContent;break;case"ymag":this.ymag=a.textContent;break;case"znear":this.znear=a.textContent;break;case"zfar":this.zfar=a.textContent;break;case"aspect_ratio":this.aspect_ratio=a.textContent}}return this},ie.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},oe.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"technique_common":this.parseCommon(r);break;case"technique":this.parseTechnique(r)}}return this},oe.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++)switch(e.childNodes[t].nodeName){case"directional":case"point":case"spot":case"ambient":this.technique=e.childNodes[t].nodeName;for(var r=e.childNodes[t],n=0;n<r.childNodes.length;n++){var i=r.childNodes[n];switch(i.nodeName){case"color":var o=de(i.textContent);this.color=new THREE.Color(0),this.color.setRGB(o[0],o[1],o[2]),this.color.a=o[3];break;case"falloff_angle":this.falloff_angle=parseFloat(i.textContent);break;case"quadratic_attenuation":var a=parseFloat(i.textContent);this.distance=a?Math.sqrt(1/a):0}}}return this},oe.prototype.parseTechnique=function(e){this.profile=e.getAttribute("profile");for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];switch(r.nodeName){case"intensity":this.intensity=parseFloat(r.textContent)}}return this},ae.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},se.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.joints=[],this.links=[];for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"technique_common":this.parseCommon(r)}}return this},se.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(e.childNodes[t].nodeName){case"joint":this.joints.push((new ue).parse(r));break;case"link":this.links.push((new ce).parse(r))}}return this},ue.prototype.parse=function(e){this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type="",this["static"]=!1,this.zeroPosition=0,this.middlePosition=0;var t=e.querySelector("axis"),r=de(t.textContent);this.axis=Ee(r,0);var n=e.querySelector("limits min")?parseFloat(e.querySelector("limits min").textContent):-360,i=e.querySelector("limits max")?parseFloat(e.querySelector("limits max").textContent):360;this.limits={min:n,max:i};for(var o=["prismatic","revolute"],a=0;a<o.length;a++){var s=o[a],u=e.querySelector(s);u&&(this.type=s)}return this.limits.min>=this.limits.max&&(this["static"]=!0),this.middlePosition=(this.limits.min+this.limits.max)/2,this},ce.prototype.parse=function(e){this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.transforms=[],this.attachments=[];for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"attachment_full":this.attachments.push((new le).parse(r));break;case"rotate":case"translate":case"matrix":this.transforms.push((new D).parse(r))}}return this},le.prototype.parse=function(e){this.joint=e.getAttribute("joint").split("/").pop(),this.links=[];for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(1==r.nodeType)switch(r.nodeName){case"link":this.links.push((new ce).parse(r));break;case"rotate":case"translate":case"matrix":this.transforms.push((new D).parse(r))}}return this},{load:e,parse:t,setPreferredShading:r,applySkin:m,geometries:He,options:Ye}}},{}],19:[function(e,t,r){THREE.MTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(e,t,r,n){var i=this,o=new THREE.XHRLoader(this.manager);o.setPath(this.path),o.load(e,function(e){t(i.parse(e))},r,n)},setPath:function(e){this.path=e},setBaseUrl:function(e){this.baseUrl=e},setCrossOrigin:function(e){this.crossOrigin=e},setMaterialOptions:function(e){this.materialOptions=e},parse:function(e){for(var t=e.split("\n"),r={},n=/\s+/,i={},o=0;o<t.length;o++){var a=t[o];if(a=a.trim(),0!==a.length&&"#"!==a.charAt(0)){var s=a.indexOf(" "),u=s>=0?a.substring(0,s):a;u=u.toLowerCase();var c=s>=0?a.substring(s+1):"";if(c=c.trim(),"newmtl"===u)r={name:c},i[c]=r;else if(r)if("ka"===u||"kd"===u||"ks"===u){var l=c.split(n,3);r[u]=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2])]}else r[u]=c}}var h=new THREE.MTLLoader.MaterialCreator(this.baseUrl,this.materialOptions);return h.setCrossOrigin(this.crossOrigin),h.setManager(this.manager),h.setMaterials(i),h}},THREE.MTLLoader.MaterialCreator=function(e,t){
this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var r in e){var n=e[r],i={};t[r]=i;for(var o in n){var a=!0,s=n[o],u=o.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[1]&&(a=!1)}a&&(i[u]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){var t=this.materialsInfo[e],r={name:e,side:this.side};for(var n in t){var i=t[n];if(""!==i)switch(n.toLowerCase()){case"kd":r.color=(new THREE.Color).fromArray(i);break;case"ks":r.specular=(new THREE.Color).fromArray(i);break;case"map_kd":r.map=this.loadTexture(this.baseUrl+i),r.map.wrapS=this.wrap,r.map.wrapT=this.wrap;break;case"ns":r.shininess=parseFloat(i);break;case"d":1>i&&(r.opacity=i,r.transparent=!0);break;case"Tr":i>0&&(r.opacity=1-i,r.transparent=!0);break;case"map_bump":case"bump":if(r.bumpMap)break;r.bumpMap=this.loadTexture(this.baseUrl+i),r.bumpMap.wrapS=this.wrap,r.bumpMap.wrapT=this.wrap}}return this.materials[e]=new THREE.MeshPhongMaterial(r),this.materials[e]},loadTexture:function(e,t,r,n,i){var o,a=THREE.Loader.Handlers.get(e),s=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===a&&(a=new THREE.TextureLoader(s)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin),o=a.load(e,r,n,i),void 0!==t&&(o.mapping=t),o}},THREE.EventDispatcher.prototype.apply(THREE.MTLLoader.prototype)},{}],20:[function(e,t,r){THREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,r,n){var i=this,o=new THREE.XHRLoader(i.manager);o.setPath(this.path),o.load(e,function(e){t(i.parse(e))},r,n)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},parse:function(e){function t(e){var t={vertices:[],normals:[],uvs:[]},r={name:"",smooth:!0};c={name:e,geometry:t,material:r},l.push(c)}function r(e){var t=parseInt(e);return 3*(t>=0?t-1:t+p.length/3)}function n(e){var t=parseInt(e);return 3*(t>=0?t-1:t+d.length/3)}function i(e){var t=parseInt(e);return 2*(t>=0?t-1:t+f.length/2)}function o(e,t,r){c.geometry.vertices.push(p[e],p[e+1],p[e+2],p[t],p[t+1],p[t+2],p[r],p[r+1],p[r+2])}function a(e,t,r){c.geometry.normals.push(d[e],d[e+1],d[e+2],d[t],d[t+1],d[t+2],d[r],d[r+1],d[r+2])}function s(e,t,r){c.geometry.uvs.push(f[e],f[e+1],f[t],f[t+1],f[r],f[r+1])}function u(e,t,u,c,l,h,p,d,f,m,v,g){var y,b=r(e),_=r(t),x=r(u);void 0===c?o(b,_,x):(y=r(c),o(b,_,y),o(_,x,y)),void 0!==l&&(b=i(l),_=i(h),x=i(p),void 0===c?s(b,_,x):(y=i(d),s(b,_,y),s(_,x,y))),void 0!==f&&(b=n(f),_=n(m),x=n(v),void 0===c?a(b,_,x):(y=n(g),a(b,_,y),a(_,x,y)))}console.time("OBJLoader");var c,l=[],h=!1,p=[],d=[],f=[];t("");for(var m=/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,v=/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,g=/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,y=/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,b=/^f\s+((-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+))(?:\s+((-?\d+)\/(-?\d+)))?/,_=/^f\s+((-?\d+)\/(-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+)\/(-?\d+))(?:\s+((-?\d+)\/(-?\d+)\/(-?\d+)))?/,x=/^f\s+((-?\d+)\/\/(-?\d+))\s+((-?\d+)\/\/(-?\d+))\s+((-?\d+)\/\/(-?\d+))(?:\s+((-?\d+)\/\/(-?\d+)))?/,w=/^[og]\s+(.+)/,E=/^s\s+([01]|on|off)/,S=e.split("\n"),C=0;C<S.length;C++){var M=S[C];M=M.trim();var A;if(0!==M.length&&"#"!==M.charAt(0))if(null!==(A=m.exec(M)))p.push(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));else if(null!==(A=v.exec(M)))d.push(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));else if(null!==(A=g.exec(M)))f.push(parseFloat(A[1]),parseFloat(A[2]));else if(null!==(A=y.exec(M)))u(A[1],A[2],A[3],A[4]);else if(null!==(A=b.exec(M)))u(A[2],A[5],A[8],A[11],A[3],A[6],A[9],A[12]);else if(null!==(A=_.exec(M)))u(A[2],A[6],A[10],A[14],A[3],A[7],A[11],A[15],A[4],A[8],A[12],A[16]);else if(null!==(A=x.exec(M)))u(A[2],A[5],A[8],A[11],void 0,void 0,void 0,void 0,A[3],A[6],A[9],A[12]);else if(null!==(A=w.exec(M))){var T=A[1].trim();h===!1?(h=!0,c.name=T):t(T)}else if(/^usemtl /.test(M))c.material.name=M.substring(7).trim();else if(/^mtllib /.test(M));else{if(null===(A=E.exec(M)))throw new Error("Unexpected line: "+M);c.material.smooth="1"===A[1]||"on"===A[1]}}for(var R=new THREE.Group,C=0,O=l.length;O>C;C++){c=l[C];var P=c.geometry,D=new THREE.BufferGeometry;D.addAttribute("position",new THREE.BufferAttribute(new Float32Array(P.vertices),3)),P.normals.length>0?D.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(P.normals),3)):D.computeVertexNormals(),P.uvs.length>0&&D.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(P.uvs),2));var I;null!==this.materials&&(I=this.materials.create(c.material.name)),I||(I=new THREE.MeshPhongMaterial,I.name=c.material.name),I.shading=c.material.smooth?THREE.SmoothShading:THREE.FlatShading;var N=new THREE.Mesh(D,I);N.name=c.name,R.add(N)}return console.timeEnd("OBJLoader"),R}}},{}],21:[function(e,r,n){var i={REVISION:"74"};"function"==typeof t&&t.amd?t("three",i):"undefined"!=typeof n&&"undefined"!=typeof r&&(r.exports=i),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(e){return 0>e?-1:e>0?1:+e}),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),void 0===Object.assign&&Object.defineProperty(Object,"assign",{writable:!0,configurable:!0,value:function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1,n=arguments.length;r!==n;++r){var i=arguments[r];if(void 0!==i&&null!==i){i=Object(i);for(var o=Object.keys(i),a=0,s=o.length;a!==s;++a){var u=o[a],c=Object.getOwnPropertyDescriptor(i,u);void 0!==c&&c.enumerable&&(t[u]=i[u])}}}return t}}),i.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},i.CullFaceNone=0,i.CullFaceBack=1,i.CullFaceFront=2,i.CullFaceFrontBack=3,i.FrontFaceDirectionCW=0,i.FrontFaceDirectionCCW=1,i.BasicShadowMap=0,i.PCFShadowMap=1,i.PCFSoftShadowMap=2,i.FrontSide=0,i.BackSide=1,i.DoubleSide=2,i.FlatShading=1,i.SmoothShading=2,i.NoColors=0,i.FaceColors=1,i.VertexColors=2,i.NoBlending=0,i.NormalBlending=1,i.AdditiveBlending=2,i.SubtractiveBlending=3,i.MultiplyBlending=4,i.CustomBlending=5,i.AddEquation=100,i.SubtractEquation=101,i.ReverseSubtractEquation=102,i.MinEquation=103,i.MaxEquation=104,i.ZeroFactor=200,i.OneFactor=201,i.SrcColorFactor=202,i.OneMinusSrcColorFactor=203,i.SrcAlphaFactor=204,i.OneMinusSrcAlphaFactor=205,i.DstAlphaFactor=206,i.OneMinusDstAlphaFactor=207,i.DstColorFactor=208,i.OneMinusDstColorFactor=209,i.SrcAlphaSaturateFactor=210,i.NeverDepth=0,i.AlwaysDepth=1,i.LessDepth=2,i.LessEqualDepth=3,i.EqualDepth=4,i.GreaterEqualDepth=5,i.GreaterDepth=6,i.NotEqualDepth=7,i.MultiplyOperation=0,i.MixOperation=1,i.AddOperation=2,i.UVMapping=300,i.CubeReflectionMapping=301,i.CubeRefractionMapping=302,i.EquirectangularReflectionMapping=303,i.EquirectangularRefractionMapping=304,i.SphericalReflectionMapping=305,i.RepeatWrapping=1e3,i.ClampToEdgeWrapping=1001,i.MirroredRepeatWrapping=1002,i.NearestFilter=1003,i.NearestMipMapNearestFilter=1004,i.NearestMipMapLinearFilter=1005,i.LinearFilter=1006,i.LinearMipMapNearestFilter=1007,i.LinearMipMapLinearFilter=1008,i.UnsignedByteType=1009,i.ByteType=1010,i.ShortType=1011,i.UnsignedShortType=1012,i.IntType=1013,i.UnsignedIntType=1014,i.FloatType=1015,i.HalfFloatType=1025,i.UnsignedShort4444Type=1016,i.UnsignedShort5551Type=1017,i.UnsignedShort565Type=1018,i.AlphaFormat=1019,i.RGBFormat=1020,i.RGBAFormat=1021,i.LuminanceFormat=1022,i.LuminanceAlphaFormat=1023,i.RGBEFormat=i.RGBAFormat,i.RGB_S3TC_DXT1_Format=2001,i.RGBA_S3TC_DXT1_Format=2002,i.RGBA_S3TC_DXT3_Format=2003,i.RGBA_S3TC_DXT5_Format=2004,i.RGB_PVRTC_4BPPV1_Format=2100,i.RGB_PVRTC_2BPPV1_Format=2101,i.RGBA_PVRTC_4BPPV1_Format=2102,i.RGBA_PVRTC_2BPPV1_Format=2103,i.RGB_ETC1_Format=2151,i.LoopOnce=2200,i.LoopRepeat=2201,i.LoopPingPong=2202,i.InterpolateDiscrete=2300,i.InterpolateLinear=2301,i.InterpolateSmooth=2302,i.ZeroCurvatureEnding=2400,i.ZeroSlopeEnding=2401,i.WrapAroundEnding=2402,i.TrianglesDrawMode=0,i.TriangleStripDrawMode=1,i.TriangleFanDrawMode=2,i.Color=function(e){return 3===arguments.length?this.fromArray(arguments):this.set(e)},i.Color.prototype={constructor:i.Color,r:1,g:1,b:1,set:function(e){return e instanceof i.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){this.r=e,this.g=e,this.b=e},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(){function e(e,t,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+6*(t-e)*(2/3-r):e}return function(t,r,n){if(t=i.Math.euclideanModulo(t,1),r=i.Math.clamp(r,0,1),n=i.Math.clamp(n,0,1),0===r)this.r=this.g=this.b=n;else{var o=.5>=n?n*(1+r):n+r-n*r,a=2*n-o;this.r=e(a,o,t+1/3),this.g=e(a,o,t),this.b=e(a,o,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n,o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var s=parseFloat(n[1])/360,u=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(s,u,c)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=r[1],h=l.length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(e&&e.length>0){var l=i.ColorKeywords[e];void 0!==l?this.setHex(l):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},convertGammaToLinear:function(){var e=this.r,t=this.g,r=this.b;return this.r=e*e,this.g=t*t,this.b=r*r,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,r,n=e||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(u+s)/2;if(u===s)t=0,r=0;else{var l=s-u;switch(r=.5>=c?l/(s+u):l/(2-s-u),s){case i:t=(o-a)/l+(a>o?6:0);break;case o:t=(a-i)/l+2;break;case a:t=(i-o)/l+4}t/=6}return n.h=t,n.s=r,n.l=c,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){var n=this.getHSL();return n.h+=e,n.s+=t,n.l+=r,this.setHSL(n.h,n.s,n.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},i.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},i.Quaternion=function(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0!==n?n:1},i.Quaternion.prototype={constructor:i.Quaternion,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(e instanceof i.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=Math.cos(e._x/2),n=Math.cos(e._y/2),o=Math.cos(e._z/2),a=Math.sin(e._x/2),s=Math.sin(e._y/2),u=Math.sin(e._z/2),c=e.order;return"XYZ"===c?(this._x=a*n*o+r*s*u,this._y=r*s*o-a*n*u,this._z=r*n*u+a*s*o,this._w=r*n*o-a*s*u):"YXZ"===c?(this._x=a*n*o+r*s*u,this._y=r*s*o-a*n*u,this._z=r*n*u-a*s*o,this._w=r*n*o+a*s*u):"ZXY"===c?(this._x=a*n*o-r*s*u,this._y=r*s*o+a*n*u,this._z=r*n*u+a*s*o,this._w=r*n*o-a*s*u):"ZYX"===c?(this._x=a*n*o-r*s*u,this._y=r*s*o+a*n*u,this._z=r*n*u-a*s*o,this._w=r*n*o+a*s*u):"YZX"===c?(this._x=a*n*o+r*s*u,this._y=r*s*o+a*n*u,this._z=r*n*u-a*s*o,this._w=r*n*o-a*s*u):"XZY"===c&&(this._x=a*n*o-r*s*u,this._y=r*s*o-a*n*u,this._z=r*n*u+a*s*o,this._w=r*n*o+a*s*u),t!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,r=e.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],u=r[9],c=r[2],l=r[6],h=r[10],p=n+s+h;return p>0?(t=.5/Math.sqrt(p+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):n>s&&n>h?(t=2*Math.sqrt(1+n-s-h),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>h?(t=2*Math.sqrt(1+s-n-h),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Math.sqrt(1+h-n-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t,r=1e-6;return function(n,o){return void 0===e&&(e=new i.Vector3),t=n.dot(o)+1,r>t?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,o),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var r=e._x,n=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=r*c+o*a+n*u-i*s,this._y=n*c+o*s+i*a-r*u,this._z=i*c+o*u+r*s-n*a,this._w=o*c-r*a-n*s-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*e._w+r*e._x+n*e._y+i*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(r+this._x),this._y=.5*(n+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),c=Math.sin((1-t)*u)/s,l=Math.sin(t*u)/s;return this._w=o*c+this._w*l,this._x=r*c+this._x*l,this._y=n*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},Object.assign(i.Quaternion,{slerp:function(e,t,r,n){return r.copy(e).slerp(t,n)},slerpFlat:function(e,t,r,n,i,o,a){var s=r[n+0],u=r[n+1],c=r[n+2],l=r[n+3],h=i[o+0],p=i[o+1],d=i[o+2],f=i[o+3];if(l!==f||s!==h||u!==p||c!==d){var m=1-a,v=s*h+u*p+c*d+l*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,v*g);m=Math.sin(m*_)/b,a=Math.sin(a*_)/b}var x=a*g;if(s=s*m+h*x,u=u*m+p*x,c=c*m+d*x,l=l*m+f*x,m===1-a){var w=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=w,u*=w,c*=w,l*=w}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}}),i.Vector2=function(e,t){this.x=e||0,this.y=t||0},i.Vector2.prototype={constructor:i.Vector2,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e,t;return function(r,n){return void 0===e&&(e=new i.Vector2,t=new i.Vector2),e.set(r,r),t.set(n,n),this.clamp(e,t)}}(),clampLength:function(e,t){var r=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,r))/r),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var e=Math.atan2(this.y,this.x);return 0>e&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e),this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromAttribute:function(e,t,r){return void 0===r&&(r=0),t=t*e.itemSize+r,this.x=e.array[t],this.y=e.array[t+1],this},rotateAround:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*r-o*n+e.x,this.y=i*n+o*r+e.y,this}},i.Vector3=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0},i.Vector3.prototype={constructor:i.Vector3,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return t instanceof i.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===e&&(e=new i.Quaternion),this.applyQuaternion(e.setFromEuler(t)),this}}(),applyAxisAngle:function(){var e;return function(t,r){return void 0===e&&(e=new i.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,r)),this}}(),applyMatrix3:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n+i[12],this.y=i[1]*t+i[5]*r+i[9]*n+i[13],this.z=i[2]*t+i[6]*r+i[10]*n+i[14],this},applyProjection:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements,o=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*n-a*r,c=s*r+a*t-i*n,l=s*n+i*r-o*t,h=-i*t-o*r-a*n;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var e;return function(t){return void 0===e&&(e=new i.Matrix4),e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(t){return void 0===e&&(e=new i.Matrix4),e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e,t;return function(r,n){return void 0===e&&(e=new i.Vector3,t=new i.Vector3),e.set(r,r,r),t.set(n,n,n),this.clamp(e,t)}}(),clampLength:function(e,t){var r=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,r))/r),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e),this},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var r=this.x,n=this.y,i=this.z;return this.x=n*e.z-i*e.y,this.y=i*e.x-r*e.z,this.z=r*e.y-n*e.x,this},crossVectors:function(e,t){var r=e.x,n=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(){var e,t;return function(r){return void 0===e&&(e=new i.Vector3),e.copy(r).normalize(),t=this.dot(e),this.copy(e).multiplyScalar(t)}}(),projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new i.Vector3),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new i.Vector3),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)));
}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(i.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),r=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),n=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=r,this.z=n,this},setFromMatrixColumn:function(e,t){var r=4*e,n=t.elements;return this.x=n[r],this.y=n[r+1],this.z=n[r+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromAttribute:function(e,t,r){return void 0===r&&(r=0),t=t*e.itemSize+r,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this}},i.Vector4=function(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1},i.Vector4.prototype={constructor:i.Vector4,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*t+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*t+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*t+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return 1e-4>t?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,r,n,i,o=.01,a=.1,s=e.elements,u=s[0],c=s[4],l=s[8],h=s[1],p=s[5],d=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(c-h)<o&&Math.abs(l-f)<o&&Math.abs(d-m)<o){if(Math.abs(c+h)<a&&Math.abs(l+f)<a&&Math.abs(d+m)<a&&Math.abs(u+p+v-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(p+1)/2,b=(v+1)/2,_=(c+h)/4,x=(l+f)/4,w=(d+m)/4;return g>y&&g>b?o>g?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(g),n=_/r,i=x/r):y>b?o>y?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(y),r=_/n,i=w/n):o>b?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt(b),r=x/i,n=w/i),this.set(r,n,i,t),this}var E=Math.sqrt((m-d)*(m-d)+(l-f)*(l-f)+(h-c)*(h-c));return Math.abs(E)<.001&&(E=1),this.x=(m-d)/E,this.y=(l-f)/E,this.z=(h-c)/E,this.w=Math.acos((u+p+v-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(r,n){return void 0===e&&(e=new i.Vector4,t=new i.Vector4),e.set(r,r,r,r),t.set(n,n,n,n),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e),this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromAttribute:function(e,t,r){return void 0===r&&(r=0),t=t*e.itemSize+r,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this.w=e.array[t+3],this}},i.Euler=function(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._order=n||i.Euler.DefaultOrder},i.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],i.Euler.DefaultOrder="XYZ",i.Euler.prototype={constructor:i.Euler,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){var n=i.Math.clamp,o=e.elements,a=o[0],s=o[4],u=o[8],c=o[1],l=o[5],h=o[9],p=o[2],d=o[6],f=o[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-h,f),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(d,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-n(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(u,f),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-p,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-p,f),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(c,a))):"ZYX"===t?(this._y=Math.asin(-n(p,-1,1)),Math.abs(p)<.99999?(this._x=Math.atan2(d,f),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,l))):"YZX"===t?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(u,f))):"XZY"===t?(this._z=Math.asin(-n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(d,l),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-h,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,r!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(t,r,n){return void 0===e&&(e=new i.Matrix4),e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,r,n),this}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new i.Quaternion;return function(t){e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new i.Vector3(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},i.Line3=function(e,t){this.start=void 0!==e?e:new i.Vector3,this.end=void 0!==t?t:new i.Vector3},i.Line3.prototype={constructor:i.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){var t=e||new i.Vector3;return t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var t=e||new i.Vector3;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var r=t||new i.Vector3;return this.delta(r).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new i.Vector3,t=new i.Vector3;return function(r,n){e.subVectors(r,this.start),t.subVectors(this.end,this.start);var o=t.dot(t),a=t.dot(e),s=a/o;return n&&(s=i.Math.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,t,r){var n=this.closestPointToPointParameter(e,t),o=r||new i.Vector3;return this.delta(o).multiplyScalar(n).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},i.Box2=function(e,t){this.min=void 0!==e?e:new i.Vector2(+(1/0),+(1/0)),this.max=void 0!==t?t:new i.Vector2(-(1/0),-(1/0))},i.Box2.prototype={constructor:i.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;r>t;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new i.Vector2;return function(t,r){var n=e.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=+(1/0),this.max.x=this.max.y=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){var t=e||new i.Vector2;return t.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var t=e||new i.Vector2;return t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y?!0:!1},getParameter:function(e,t){var r=t||new i.Vector2;return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y?!1:!0},clampPoint:function(e,t){var r=t||new i.Vector2;return r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new i.Vector2;return function(t){var r=e.copy(t).clamp(this.min,this.max);return r.sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},i.Box3=function(e,t){this.min=void 0!==e?e:new i.Vector3(+(1/0),+(1/0),+(1/0)),this.max=void 0!==t?t:new i.Vector3(-(1/0),-(1/0),-(1/0))},i.Box3.prototype={constructor:i.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){this.makeEmpty();for(var t=+(1/0),r=+(1/0),n=+(1/0),i=-(1/0),o=-(1/0),a=-(1/0),s=0,u=e.length;u>s;s+=3){var c=e[s],l=e[s+1],h=e[s+2];t>c&&(t=c),r>l&&(r=l),n>h&&(n=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}this.min.set(t,r,n),this.max.set(i,o,a)},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;r>t;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new i.Vector3;return function(t,r){var n=e.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),setFromObject:function(){var e;return function(t){void 0===e&&(e=new i.Box3);var r=this;return this.makeEmpty(),t.updateMatrixWorld(!0),t.traverse(function(t){var n=t.geometry;void 0!==n&&(null===n.boundingBox&&n.computeBoundingBox(),e.copy(n.boundingBox),e.applyMatrix4(t.matrixWorld),r.union(e))}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+(1/0),this.max.x=this.max.y=this.max.z=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){var t=e||new i.Vector3;return t.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var t=e||new i.Vector3;return t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z?!0:!1},getParameter:function(e,t){var r=t||new i.Vector3;return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z?!1:!0},intersectsSphere:function(){var e;return function(t){return void 0===e&&(e=new i.Vector3),this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=e.constant&&r>=e.constant},clampPoint:function(e,t){var r=t||new i.Vector3;return r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new i.Vector3;return function(t){var r=e.copy(t).clamp(this.min,this.max);return r.sub(t).length()}}(),getBoundingSphere:function(){var e=new i.Vector3;return function(t){var r=t||new i.Sphere;return r.center=this.center(),r.radius=.5*this.size(e).length(),r}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3];return function(t){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},i.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},i.Matrix3.prototype={constructor:i.Matrix3,set:function(e,t,r,n,i,o,a,s,u){var c=this.elements;return c[0]=e,c[3]=t,c[6]=r,c[1]=n,c[4]=i,c[7]=o,c[2]=a,c[5]=s,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},applyToVector3Array:function(){var e;return function(t,r,n){void 0===e&&(e=new i.Vector3),void 0===r&&(r=0),void 0===n&&(n=t.length);for(var o=0,a=r;n>o;o+=3,a+=3)e.fromArray(t,a),e.applyMatrix3(this),e.toArray(t,a);return t}}(),applyToBuffer:function(){var e;return function(t,r,n){void 0===e&&(e=new i.Vector3),void 0===r&&(r=0),void 0===n&&(n=t.length/t.itemSize);for(var o=0,a=r;n>o;o++,a++)e.x=t.getX(a),e.y=t.getY(a),e.z=t.getZ(a),e.applyMatrix3(this),t.setXYZ(e.x,e.y,e.z);return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-r*i*c+r*a*s+n*i*u-n*o*s},getInverse:function(e,t){var r=e.elements,n=this.elements;n[0]=r[10]*r[5]-r[6]*r[9],n[1]=-r[10]*r[1]+r[2]*r[9],n[2]=r[6]*r[1]-r[2]*r[5],n[3]=-r[10]*r[4]+r[6]*r[8],n[4]=r[10]*r[0]-r[2]*r[8],n[5]=-r[6]*r[0]+r[2]*r[4],n[6]=r[9]*r[4]-r[5]*r[8],n[7]=-r[9]*r[0]+r[1]*r[8],n[8]=r[5]*r[0]-r[1]*r[4];var i=r[0]*n[0]+r[1]*n[3]+r[2]*n[6];if(0===i){var o="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/i),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},flattenToArrayOffset:function(e,t){var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e},getNormalMatrix:function(e){return this.getInverse(e).transpose(),this},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}},i.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},i.Matrix4.prototype={constructor:i.Matrix4,set:function(e,t,r,n,i,o,a,s,u,c,l,h,p,d,f,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=n,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=u,v[6]=c,v[10]=l,v[14]=h,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new i.Matrix4).fromArray(this.elements)},copy:function(e){return this.elements.set(e.elements),this},copyPosition:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this},extractBasis:function(e,t,r){var n=this.elements;return e.set(n[0],n[1],n[2]),t.set(n[4],n[5],n[6]),r.set(n[8],n[9],n[10]),this},makeBasis:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this},extractRotation:function(){var e;return function(t){void 0===e&&(e=new i.Vector3);var r=this.elements,n=t.elements,o=1/e.set(n[0],n[1],n[2]).length(),a=1/e.set(n[4],n[5],n[6]).length(),s=1/e.set(n[8],n[9],n[10]).length();return r[0]=n[0]*o,r[1]=n[1]*o,r[2]=n[2]*o,r[4]=n[4]*a,r[5]=n[5]*a,r[6]=n[6]*a,r[8]=n[8]*s,r[9]=n[9]*s,r[10]=n[10]*s,this}}(),makeRotationFromEuler:function(e){e instanceof i.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,r=e.x,n=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),u=Math.cos(n),c=Math.sin(n),l=Math.cos(o),h=Math.sin(o);if("XYZ"===e.order){var p=a*l,d=a*h,f=s*l,m=s*h;t[0]=u*l,t[4]=-u*h,t[8]=c,t[1]=d+f*c,t[5]=p-m*c,t[9]=-s*u,t[2]=m-p*c,t[6]=f+d*c,t[10]=a*u}else if("YXZ"===e.order){var v=u*l,g=u*h,y=c*l,b=c*h;t[0]=v+b*s,t[4]=y*s-g,t[8]=a*c,t[1]=a*h,t[5]=a*l,t[9]=-s,t[2]=g*s-y,t[6]=b+v*s,t[10]=a*u}else if("ZXY"===e.order){var v=u*l,g=u*h,y=c*l,b=c*h;t[0]=v-b*s,t[4]=-a*h,t[8]=y+g*s,t[1]=g+y*s,t[5]=a*l,t[9]=b-v*s,t[2]=-a*c,t[6]=s,t[10]=a*u}else if("ZYX"===e.order){var p=a*l,d=a*h,f=s*l,m=s*h;t[0]=u*l,t[4]=f*c-d,t[8]=p*c+m,t[1]=u*h,t[5]=m*c+p,t[9]=d*c-f,t[2]=-c,t[6]=s*u,t[10]=a*u}else if("YZX"===e.order){var _=a*u,x=a*c,w=s*u,E=s*c;t[0]=u*l,t[4]=E-_*h,t[8]=w*h+x,t[1]=h,t[5]=a*l,t[9]=-s*l,t[2]=-c*l,t[6]=x*h+w,t[10]=_-E*h}else if("XZY"===e.order){var _=a*u,x=a*c,w=s*u,E=s*c;t[0]=u*l,t[4]=-h,t[8]=c*l,t[1]=_*h+E,t[5]=a*l,t[9]=x*h-w,t[2]=w*h-x,t[6]=s*l,t[10]=E*h+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z,o=e.w,a=r+r,s=n+n,u=i+i,c=r*a,l=r*s,h=r*u,p=n*s,d=n*u,f=i*u,m=o*a,v=o*s,g=o*u;return t[0]=1-(p+f),t[4]=l-g,t[8]=h+v,t[1]=l+g,t[5]=1-(c+f),t[9]=d-m,t[2]=h-v,t[6]=d+m,t[10]=1-(c+p),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e,t,r;return function(n,o,a){void 0===e&&(e=new i.Vector3),void 0===t&&(t=new i.Vector3),void 0===r&&(r=new i.Vector3);var s=this.elements;return r.subVectors(n,o).normalize(),0===r.lengthSq()&&(r.z=1),e.crossVectors(a,r).normalize(),0===e.lengthSq()&&(r.x+=1e-4,e.crossVectors(a,r).normalize()),t.crossVectors(r,e),s[0]=e.x,s[4]=t.x,s[8]=r.x,s[1]=e.y,s[5]=t.y,s[9]=r.y,s[2]=e.z,s[6]=t.z,s[10]=r.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements,i=this.elements,o=r[0],a=r[4],s=r[8],u=r[12],c=r[1],l=r[5],h=r[9],p=r[13],d=r[2],f=r[6],m=r[10],v=r[14],g=r[3],y=r[7],b=r[11],_=r[15],x=n[0],w=n[4],E=n[8],S=n[12],C=n[1],M=n[5],A=n[9],T=n[13],R=n[2],O=n[6],P=n[10],D=n[14],I=n[3],N=n[7],k=n[11],L=n[15];return i[0]=o*x+a*C+s*R+u*I,i[4]=o*w+a*M+s*O+u*N,i[8]=o*E+a*A+s*P+u*k,i[12]=o*S+a*T+s*D+u*L,i[1]=c*x+l*C+h*R+p*I,i[5]=c*w+l*M+h*O+p*N,i[9]=c*E+l*A+h*P+p*k,i[13]=c*S+l*T+h*D+p*L,i[2]=d*x+f*C+m*R+v*I,i[6]=d*w+f*M+m*O+v*N,i[10]=d*E+f*A+m*P+v*k,i[14]=d*S+f*T+m*D+v*L,i[3]=g*x+y*C+b*R+_*I,i[7]=g*w+y*M+b*O+_*N,i[11]=g*E+y*A+b*P+_*k,i[15]=g*S+y*T+b*D+_*L,this},multiplyToArray:function(e,t,r){var n=this.elements;return this.multiplyMatrices(e,t),r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToVector3Array:function(){var e;return function(t,r,n){void 0===e&&(e=new i.Vector3),void 0===r&&(r=0),void 0===n&&(n=t.length);for(var o=0,a=r;n>o;o+=3,a+=3)e.fromArray(t,a),e.applyMatrix4(this),e.toArray(t,a);return t}}(),applyToBuffer:function(){var e;return function(t,r,n){void 0===e&&(e=new i.Vector3),void 0===r&&(r=0),void 0===n&&(n=t.length/t.itemSize);for(var o=0,a=r;n>o;o++,a++)e.x=t.getX(a),e.y=t.getY(a),e.z=t.getZ(a),e.applyMatrix4(this),t.setXYZ(e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],h=e[10],p=e[14],d=e[3],f=e[7],m=e[11],v=e[15];return d*(+i*s*l-n*u*l-i*a*h+r*u*h+n*a*p-r*s*p)+f*(+t*s*p-t*u*h+i*o*h-n*o*p+n*u*c-i*s*c)+m*(+t*u*l-t*a*p-i*o*l+r*o*p+i*a*c-r*u*c)+v*(-n*a*c-t*s*l+t*a*h+n*o*l-r*o*h+r*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArrayOffset:function(e,t){var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e},getPosition:function(){var e;return function(){void 0===e&&(e=new i.Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var r=this.elements,n=e.elements,i=n[0],o=n[4],a=n[8],s=n[12],u=n[1],c=n[5],l=n[9],h=n[13],p=n[2],d=n[6],f=n[10],m=n[14],v=n[3],g=n[7],y=n[11],b=n[15];r[0]=l*m*g-h*f*g+h*d*y-c*m*y-l*d*b+c*f*b,r[4]=s*f*g-a*m*g-s*d*y+o*m*y+a*d*b-o*f*b,r[8]=a*h*g-s*l*g+s*c*y-o*h*y-a*c*b+o*l*b,r[12]=s*l*d-a*h*d-s*c*f+o*h*f+a*c*m-o*l*m,r[1]=h*f*v-l*m*v-h*p*y+u*m*y+l*p*b-u*f*b,r[5]=a*m*v-s*f*v+s*p*y-i*m*y-a*p*b+i*f*b,r[9]=s*l*v-a*h*v-s*u*y+i*h*y+a*u*b-i*l*b,r[13]=a*h*p-s*l*p+s*u*f-i*h*f-a*u*m+i*l*m,r[2]=c*m*v-h*d*v+h*p*g-u*m*g-c*p*b+u*d*b,r[6]=s*d*v-o*m*v-s*p*g+i*m*g+o*p*b-i*d*b,r[10]=o*h*v-s*c*v+s*u*g-i*h*g-o*u*b+i*c*b,r[14]=s*c*p-o*h*p-s*u*d+i*h*d+o*u*m-i*c*m,r[3]=l*d*v-c*f*v-l*p*g+u*f*g+c*p*y-u*d*y,r[7]=o*f*v-a*d*v+a*p*g-i*f*g-o*p*y+i*d*y,r[11]=a*c*v-o*l*v-a*u*g+i*l*g+o*u*y-i*c*y,r[15]=o*l*p-a*c*p+a*u*d-i*l*d-o*u*f+i*c*f;var _=i*r[0]+u*r[4]+p*r[8]+v*r[12];if(0===_){var x="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(x);return console.warn(x),this.identity(),this}return this.multiplyScalar(1/_),this},scale:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=1-r,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+r,u*a-n*s,u*s+n*a,0,u*a+n*s,c*a+r,c*s-n*o,0,u*s-n*a,c*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},compose:function(e,t,r){return this.makeRotationFromQuaternion(t),this.scale(r),this.setPosition(e),this},decompose:function(){var e,t;return function(r,n,o){void 0===e&&(e=new i.Vector3),void 0===t&&(t=new i.Matrix4);var a=this.elements,s=e.set(a[0],a[1],a[2]).length(),u=e.set(a[4],a[5],a[6]).length(),c=e.set(a[8],a[9],a[10]).length(),l=this.determinant();0>l&&(s=-s),r.x=a[12],r.y=a[13],r.z=a[14],t.elements.set(this.elements);var h=1/s,p=1/u,d=1/c;return t.elements[0]*=h,t.elements[1]*=h,t.elements[2]*=h,t.elements[4]*=p,t.elements[5]*=p,t.elements[6]*=p,t.elements[8]*=d,t.elements[9]*=d,t.elements[10]*=d,n.setFromRotationMatrix(t),o.x=s,o.y=u,o.z=c,this}}(),makeFrustum:function(e,t,r,n,i,o){var a=this.elements,s=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),h=-(o+i)/(o-i),p=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,r,n){var o=r*Math.tan(i.Math.degToRad(.5*e)),a=-o,s=a*t,u=o*t;return this.makeFrustum(s,u,a,o,r,n)},makeOrthographic:function(e,t,r,n,i,o){var a=this.elements,s=t-e,u=r-n,c=o-i,l=(t+e)/s,h=(r+n)/u,p=(o+i)/c;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2/u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2/c,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,r=e.elements,n=0;16>n;n++)if(t[n]!==r[n])return!1;return!0},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}},i.Ray=function(e,t){this.origin=void 0!==e?e:new i.Vector3,this.direction=void 0!==t?t:new i.Vector3},i.Ray.prototype={constructor:i.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){var r=t||new i.Vector3;return r.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){this.direction.copy(e).sub(this.origin).normalize()},recast:function(){var e=new i.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var r=t||new i.Vector3;r.subVectors(e,this.origin);var n=r.dot(this.direction);return 0>n?r.copy(this.origin):r.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new i.Vector3;return function(t){var r=e.subVectors(t,this.origin).dot(this.direction);return 0>r?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new i.Vector3,t=new i.Vector3,r=new i.Vector3;return function(n,i,o,a){e.copy(n).add(i).multiplyScalar(.5),t.copy(i).sub(n).normalize(),r.copy(this.origin).sub(e);var s,u,c,l,h=.5*n.distanceTo(i),p=-this.direction.dot(t),d=r.dot(this.direction),f=-r.dot(t),m=r.lengthSq(),v=Math.abs(1-p*p);if(v>0)if(s=p*f-d,u=p*d-f,l=h*v,s>=0)if(u>=-l)if(l>=u){var g=1/v;s*=g,u*=g,c=s*(s+p*u+2*d)+u*(p*s+u+2*f)+m}else u=h,s=Math.max(0,-(p*u+d)),
c=-s*s+u*(u+2*f)+m;else u=-h,s=Math.max(0,-(p*u+d)),c=-s*s+u*(u+2*f)+m;else-l>=u?(s=Math.max(0,-(-p*h+d)),u=s>0?-h:Math.min(Math.max(-h,-f),h),c=-s*s+u*(u+2*f)+m):l>=u?(s=0,u=Math.min(Math.max(-h,-f),h),c=u*(u+2*f)+m):(s=Math.max(0,-(p*h+d)),u=s>0?h:Math.min(Math.max(-h,-f),h),c=-s*s+u*(u+2*f)+m);else u=p>0?-h:h,s=Math.max(0,-(p*u+d)),c=-s*s+u*(u+2*f)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),intersectSphere:function(){var e=new i.Vector3;return function(t,r){e.subVectors(t.center,this.origin);var n=e.dot(this.direction),i=e.dot(e)-n*n,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=n-a,u=n+a;return 0>s&&0>u?null:0>s?this.at(u,r):this.at(s,r)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null},intersectPlane:function(e,t){var r=this.distanceToPlane(e);return null===r?null:this.at(r,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var r=e.normal.dot(this.direction);return 0>r*t?!0:!1},intersectBox:function(e,t){var r,n,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,n=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,n=(e.min.x-h.x)*u),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||i>n?null:((i>r||r!==r)&&(r=i),(n>o||n!==n)&&(n=o),l>=0?(a=(e.min.z-h.z)*l,s=(e.max.z-h.z)*l):(a=(e.max.z-h.z)*l,s=(e.min.z-h.z)*l),r>s||a>n?null:((a>r||r!==r)&&(r=a),(n>s||n!==n)&&(n=s),0>n?null:this.at(r>=0?r:n,t)))},intersectsBox:function(){var e=new i.Vector3;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new i.Vector3,t=new i.Vector3,r=new i.Vector3,n=new i.Vector3;return function(i,o,a,s,u){t.subVectors(o,i),r.subVectors(a,i),n.crossVectors(t,r);var c,l=this.direction.dot(n);if(l>0){if(s)return null;c=1}else{if(!(0>l))return null;c=-1,l=-l}e.subVectors(this.origin,i);var h=c*this.direction.dot(r.crossVectors(e,r));if(0>h)return null;var p=c*this.direction.dot(t.cross(e));if(0>p)return null;if(h+p>l)return null;var d=-c*e.dot(n);return 0>d?null:this.at(d/l,u)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},i.Sphere=function(e,t){this.center=void 0!==e?e:new i.Vector3,this.radius=void 0!==t?t:0},i.Sphere.prototype={constructor:i.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new i.Box3;return function(t,r){var n=this.center;void 0!==r?n.copy(r):e.setFromPoints(t).center(n);for(var i=0,o=0,a=t.length;a>o;o++)i=Math.max(i,n.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(this.center.dot(e.normal)-e.constant)<=this.radius},clampPoint:function(e,t){var r=this.center.distanceToSquared(e),n=t||new i.Vector3;return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(e){var t=e||new i.Box3;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},i.Frustum=function(e,t,r,n,o,a){this.planes=[void 0!==e?e:new i.Plane,void 0!==t?t:new i.Plane,void 0!==r?r:new i.Plane,void 0!==n?n:new i.Plane,void 0!==o?o:new i.Plane,void 0!==a?a:new i.Plane]},i.Frustum.prototype={constructor:i.Frustum,set:function(e,t,r,n,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,r=0;6>r;r++)t[r].copy(e.planes[r]);return this},setFromMatrix:function(e){var t=this.planes,r=e.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],l=r[7],h=r[8],p=r[9],d=r[10],f=r[11],m=r[12],v=r[13],g=r[14],y=r[15];return t[0].setComponents(a-n,l-s,f-h,y-m).normalize(),t[1].setComponents(a+n,l+s,f+h,y+m).normalize(),t[2].setComponents(a+i,l+u,f+p,y+v).normalize(),t[3].setComponents(a-i,l-u,f-p,y-v).normalize(),t[4].setComponents(a-o,l-c,f-d,y-g).normalize(),t[5].setComponents(a+o,l+c,f+d,y+g).normalize(),this},intersectsObject:function(){var e=new i.Sphere;return function(t){var r=t.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),e.copy(r.boundingSphere),e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,r=e.center,n=-e.radius,i=0;6>i;i++){var o=t[i].distanceToPoint(r);if(n>o)return!1}return!0},intersectsBox:function(){var e=new i.Vector3,t=new i.Vector3;return function(r){for(var n=this.planes,i=0;6>i;i++){var o=n[i];e.x=o.normal.x>0?r.min.x:r.max.x,t.x=o.normal.x>0?r.max.x:r.min.x,e.y=o.normal.y>0?r.min.y:r.max.y,t.y=o.normal.y>0?r.max.y:r.min.y,e.z=o.normal.z>0?r.min.z:r.max.z,t.z=o.normal.z>0?r.max.z:r.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(0>a&&0>s)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,r=0;6>r;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}},i.Plane=function(e,t){this.normal=void 0!==e?e:new i.Vector3(1,0,0),this.constant=void 0!==t?t:0},i.Plane.prototype={constructor:i.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new i.Vector3,t=new i.Vector3;return function(r,n,i){var o=e.subVectors(i,n).cross(t.subVectors(r,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var r=this.distanceToPoint(e),n=t||new i.Vector3;return n.copy(this.normal).multiplyScalar(r)},intersectLine:function(){var e=new i.Vector3;return function(t,r){var n=r||new i.Vector3,o=t.delta(e),a=this.normal.dot(o);if(0!==a){var s=-(t.start.dot(this.normal)+this.constant)/a;if(!(0>s||s>1))return n.copy(o).multiplyScalar(s).add(t.start)}else if(0===this.distanceToPoint(t.start))return n.copy(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return 0>t&&r>0||0>r&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){var t=e||new i.Vector3;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new i.Vector3,t=new i.Vector3,r=new i.Matrix3;return function(n,i){var o=i||r.getNormalMatrix(n),a=e.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(t);return s.applyMatrix4(n),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},i.Math={generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=new Array(36),n=0;return function(){for(var i=0;36>i;i++)8===i||13===i||18===i||23===i?r[i]="-":14===i?r[i]="4":(2>=n&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,r[i]=t[19===i?3&e|8:e]);return r.join("")}}(),clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},smoothstep:function(e,t,r){return t>=e?0:e>=r?1:(e=(e-t)/(r-t),e*e*(3-2*e))},smootherstep:function(e,t,r){return t>=e?0:e>=r?1:(e=(e-t)/(r-t),e*e*e*(e*(6*e-15)+10))},random16:function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}(),radToDeg:function(){var e=180/Math.PI;return function(t){return t*e}}(),isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}},i.Spline=function(e){function t(e,t,r,n,i,o,a){var s=.5*(r-e),u=.5*(n-t);return(2*(t-r)+s+u)*a+(-3*(t-r)-2*s-u)*o+s*i+t}this.points=e;var r,n,o,a,s,u,c,l,h,p=[],d={x:0,y:0,z:0};this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return r=(this.points.length-1)*e,n=Math.floor(r),o=r-n,p[0]=0===n?n:n-1,p[1]=n,p[2]=n>this.points.length-2?this.points.length-1:n+1,p[3]=n>this.points.length-3?this.points.length-1:n+2,u=this.points[p[0]],c=this.points[p[1]],l=this.points[p[2]],h=this.points[p[3]],a=o*o,s=o*a,d.x=t(u.x,c.x,l.x,h.x,o,a,s),d.y=t(u.y,c.y,l.y,h.y,o,a,s),d.z=t(u.z,c.z,l.z,h.z,o,a,s),d},this.getControlPointsArray=function(){var e,t,r=this.points.length,n=[];for(e=0;r>e;e++)t=this.points[e],n[e]=[t.x,t.y,t.z];return n},this.getLength=function(e){var t,r,n,o,a=0,s=0,u=0,c=new i.Vector3,l=new i.Vector3,h=[],p=0;for(h[0]=0,e||(e=100),n=this.points.length*e,c.copy(this.points[0]),t=1;n>t;t++)r=t/n,o=this.getPoint(r),l.copy(o),p+=l.distanceTo(c),c.copy(o),a=(this.points.length-1)*r,s=Math.floor(a),s!==u&&(h[s]=p,u=s);return h[h.length]=p,{chunks:h,total:p}},this.reparametrizeByArcLength=function(e){var t,r,n,o,a,s,u,c,l=[],h=new i.Vector3,p=this.getLength();for(l.push(h.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(s=p.chunks[t]-p.chunks[t-1],u=Math.ceil(e*s/p.total),o=(t-1)/(this.points.length-1),a=t/(this.points.length-1),r=1;u-1>r;r++)n=o+r*(1/u)*(a-o),c=this.getPoint(n),l.push(h.copy(c).clone());l.push(h.copy(this.points[t]).clone())}this.points=l}},i.Triangle=function(e,t,r){this.a=void 0!==e?e:new i.Vector3,this.b=void 0!==t?t:new i.Vector3,this.c=void 0!==r?r:new i.Vector3},i.Triangle.normal=function(){var e=new i.Vector3;return function(t,r,n,o){var a=o||new i.Vector3;a.subVectors(n,r),e.subVectors(t,r),a.cross(e);var s=a.lengthSq();return s>0?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}}(),i.Triangle.barycoordFromPoint=function(){var e=new i.Vector3,t=new i.Vector3,r=new i.Vector3;return function(n,o,a,s,u){e.subVectors(s,o),t.subVectors(a,o),r.subVectors(n,o);var c=e.dot(e),l=e.dot(t),h=e.dot(r),p=t.dot(t),d=t.dot(r),f=c*p-l*l,m=u||new i.Vector3;if(0===f)return m.set(-2,-1,-1);var v=1/f,g=(p*h-l*d)*v,y=(c*d-l*h)*v;return m.set(1-g-y,y,g)}}(),i.Triangle.containsPoint=function(){var e=new i.Vector3;return function(t,r,n,o){var a=i.Triangle.barycoordFromPoint(t,r,n,o,e);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),i.Triangle.prototype={constructor:i.Triangle,set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new i.Vector3,t=new i.Vector3;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){var t=e||new i.Vector3;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return i.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new i.Plane;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return i.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return i.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},i.Interpolant=function(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r},i.Interpolant.prototype={constructor:i.Interpolant,evaluate:function(e){var t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{var o;r:{n:if(!(n>e)){for(var a=r+2;;){if(void 0===n){if(i>e)break n;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,i)}if(r===a)break;if(i=n,n=t[++r],n>e)break t}o=t.length;break r}{if(e>=i)break e;var s=t[1];s>e&&(r=2,i=s);for(var a=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===a)break;if(n=i,i=t[--r-1],e>=i)break t}o=r,r=0}}for(;o>r;){var u=r+o>>>1;e<t[u]?o=u:r=u+1}if(n=t[r],i=t[r-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n,o=0;o!==n;++o)t[o]=r[i+o];return t},interpolate_:function(e,t,r,n){throw new Error("call to abstract method")},intervalChanged_:function(e,t,r){}},Object.assign(i.Interpolant.prototype,{beforeStart_:i.Interpolant.prototype.copySampleValue_,afterEnd_:i.Interpolant.prototype.copySampleValue_}),i.CubicInterpolant=function(e,t,r,n){i.Interpolant.call(this,e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0},i.CubicInterpolant.prototype=Object.assign(Object.create(i.Interpolant.prototype),{constructor:i.CubicInterpolant,DefaultSettings_:{endingStart:i.ZeroCurvatureEnding,endingEnd:i.ZeroCurvatureEnding},intervalChanged_:function(e,t,r){var n=this.parameterPositions,o=e-2,a=e+1,s=n[o],u=n[a];if(void 0===s)switch(this.getSettings_().endingStart){case i.ZeroSlopeEnding:o=e,s=2*t-r;break;case i.WrapAroundEnding:o=n.length-2,s=t+n[o]-n[o+1];break;default:o=e,s=r}if(void 0===u)switch(this.getSettings_().endingEnd){case i.ZeroSlopeEnding:a=e,u=2*r-t;break;case i.WrapAroundEnding:a=1,u=r+n[1]-n[0];break;default:a=e-1,u=t}var c=.5*(r-t),l=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(u-r),this._offsetPrev=o*l,this._offsetNext=a*l},interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,p=this._weightNext,d=(r-t)/(n-t),f=d*d,m=f*d,v=-h*m+2*h*f-h*d,g=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,b=p*m-p*f,_=0;_!==a;++_)i[_]=v*o[c+_]+g*o[u+_]+y*o[s+_]+b*o[l+_];return i}}),i.DiscreteInterpolant=function(e,t,r,n){i.Interpolant.call(this,e,t,r,n)},i.DiscreteInterpolant.prototype=Object.assign(Object.create(i.Interpolant.prototype),{constructor:i.DiscreteInterpolant,interpolate_:function(e,t,r,n){return this.copySampleValue_(e-1)}}),i.LinearInterpolant=function(e,t,r,n){i.Interpolant.call(this,e,t,r,n)},i.LinearInterpolant.prototype=Object.assign(Object.create(i.Interpolant.prototype),{constructor:i.LinearInterpolant,interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=(r-t)/(n-t),l=1-c,h=0;h!==a;++h)i[h]=o[u+h]*l+o[s+h]*c;return i}}),i.QuaternionLinearInterpolant=function(e,t,r,n){i.Interpolant.call(this,e,t,r,n)},i.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(i.Interpolant.prototype),{constructor:i.QuaternionLinearInterpolant,interpolate_:function(e,t,r,n){for(var o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,u=e*s,c=(r-t)/(n-t),l=u+s;u!==l;u+=4)i.Quaternion.slerpFlat(o,0,a,u-s,a,u,c);return o}}),i.Clock=function(e){this.autoStart=void 0!==e?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},i.Clock.prototype={constructor:i.Clock,start:function(){this.startTime=performance.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=performance.now();e=.001*(t-this.oldTime),this.oldTime=t,this.elapsedTime+=e}return e}},i.EventDispatcher=function(){},i.EventDispatcher.prototype={constructor:i.EventDispatcher,apply:function(e){e.addEventListener=i.EventDispatcher.prototype.addEventListener,e.hasEventListener=i.EventDispatcher.prototype.hasEventListener,e.removeEventListener=i.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=i.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)?!0:!1},removeEventListener:function(e,t){if(void 0!==this._listeners){var r=this._listeners,n=r[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,r=t[e.type];if(void 0!==r){e.target=this;for(var n=[],i=r.length,o=0;i>o;o++)n[o]=r[o];for(var o=0;i>o;o++)n[o].call(this,e)}}}},i.Layers=function(){this.mask=1},i.Layers.prototype={constructor:i.Layers,set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)},test:function(e){return 0!==(this.mask&e.mask)}},function(e){function t(e,t){return e.distance-t.distance}function r(e,t,n,i){if(e.visible!==!1&&(e.raycast(t,n),i===!0))for(var o=e.children,a=0,s=o.length;s>a;a++)r(o[a],t,n,!0)}e.Raycaster=function(t,r,n,i){this.ray=new e.Ray(t,r),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})},e.Raycaster.prototype={constructor:e.Raycaster,linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(t,r){r instanceof e.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(r).sub(this.ray.origin).normalize()):r instanceof e.OrthographicCamera?(this.ray.origin.set(t.x,t.y,-1).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,n){var i=[];return r(e,this,i,n),i.sort(t),i},intersectObjects:function(e,n){var i=[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var o=0,a=e.length;a>o;o++)r(e[o],this,i,n);return i.sort(t),i}}}(i),i.Object3D=function(){function e(){o.setFromEuler(n,!1)}function t(){n.setFromQuaternion(o,void 0,!1)}Object.defineProperty(this,"id",{value:i.Object3DIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=i.Object3D.DefaultUp.clone();var r=new i.Vector3,n=new i.Euler,o=new i.Quaternion,a=new i.Vector3(1,1,1);n.onChange(e),o.onChange(t),Object.defineProperties(this,{position:{enumerable:!0,value:r},rotation:{enumerable:!0,value:n},quaternion:{enumerable:!0,value:o},scale:{enumerable:!0,value:a},modelViewMatrix:{value:new i.Matrix4},normalMatrix:{value:new i.Matrix3}}),this.rotationAutoUpdate=!0,this.matrix=new i.Matrix4,this.matrixWorld=new i.Matrix4,this.matrixAutoUpdate=i.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new i.Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},i.Object3D.DefaultUp=new i.Vector3(0,1,0),i.Object3D.DefaultMatrixAutoUpdate=!0,i.Object3D.prototype={constructor:i.Object3D,applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new i.Quaternion;return function(t,r){return e.setFromAxisAngle(t,r),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new i.Vector3(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new i.Vector3(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new i.Vector3(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new i.Vector3;return function(t,r){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(r)),this}}(),translateX:function(){var e=new i.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new i.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new i.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new i.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new i.Matrix4;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e instanceof i.Object3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);var r=this.children.indexOf(e);-1!==r&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(r,1))},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var r=0,n=this.children.length;n>r;r++){var i=this.children[r],o=i.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){var t=e||new i.Vector3;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new i.Vector3,t=new i.Vector3;return function(r){var n=r||new i.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldRotation:function(){var e=new i.Quaternion;return function(t){var r=t||new i.Euler;return this.getWorldQuaternion(e),r.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new i.Vector3,t=new i.Quaternion;return function(r){var n=r||new i.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(){var e=new i.Quaternion;return function(t){var r=t||new i.Vector3;return this.getWorldQuaternion(e),r.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,r=0,n=t.length;n>r;r++)t[r].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var t=this.children,r=0,n=t.length;n>r;r++)t[r].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||e===!0)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,r=this.children.length;r>t;t++)this.children[t].updateMatrixWorld(e)},toJSON:function(e){function t(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}var r=void 0===e,n={};r&&(e={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var i={};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),i.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===e.geometries[this.geometry.uuid]&&(e.geometries[this.geometry.uuid]=this.geometry.toJSON(e)),i.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===e.materials[this.material.uuid]&&(e.materials[this.material.uuid]=this.material.toJSON(e)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(r){var a=t(e.geometries),s=t(e.materials),u=t(e.textures),c=t(e.images);a.length>0&&(n.geometries=a),s.length>0&&(n.materials=s),u.length>0&&(n.textures=u),c.length>0&&(n.images=c)}return n.object=i,n},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.rotationAutoUpdate=e.rotationAutoUpdate,this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(var r=0;r<e.children.length;r++){var n=e.children[r];this.add(n.clone())}return this}},i.EventDispatcher.prototype.apply(i.Object3D.prototype),i.Object3DIdCount=0,i.Face3=function(e,t,r,n,o,a){this.a=e,this.b=t,this.c=r,this.normal=n instanceof i.Vector3?n:new i.Vector3,this.vertexNormals=Array.isArray(n)?n:[],this.color=o instanceof i.Color?o:new i.Color,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=void 0!==a?a:0},i.Face3.prototype={constructor:i.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,r=e.vertexNormals.length;r>t;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,r=e.vertexColors.length;r>t;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}},i.BufferAttribute=function(e,t){this.uuid=i.Math.generateUUID(),this.array=e,this.itemSize=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},i.BufferAttribute.prototype={constructor:i.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(e){e===!0&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.dynamic=e.dynamic,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;i>n;n++)this.array[e+n]=t.array[r+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,r=0,n=0,o=e.length;o>n;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),a=new i.Color),t[r++]=a.r,t[r++]=a.g,t[r++]=a.b}return this},copyIndicesArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;i>n;n++){var o=e[n];t[r++]=o.a,t[r++]=o.b,t[r++]=o.c}return this},copyVector2sArray:function(e){for(var t=this.array,r=0,n=0,o=e.length;o>n;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),a=new i.Vector2),t[r++]=a.x,t[r++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,r=0,n=0,o=e.length;o>n;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new i.Vector3),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,r=0,n=0,o=e.length;o>n;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new i.Vector4),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z,t[r++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this},clone:function(){return(new this.constructor).copy(this)}},i.Int8Attribute=function(e,t){return new i.BufferAttribute(new Int8Array(e),t)},i.Uint8Attribute=function(e,t){return new i.BufferAttribute(new Uint8Array(e),t)},i.Uint8ClampedAttribute=function(e,t){return new i.BufferAttribute(new Uint8ClampedArray(e),t)},i.Int16Attribute=function(e,t){return new i.BufferAttribute(new Int16Array(e),t)},i.Uint16Attribute=function(e,t){return new i.BufferAttribute(new Uint16Array(e),t)},i.Int32Attribute=function(e,t){return new i.BufferAttribute(new Int32Array(e),t)},i.Uint32Attribute=function(e,t){return new i.BufferAttribute(new Uint32Array(e),t)},i.Float32Attribute=function(e,t){return new i.BufferAttribute(new Float32Array(e),t)},i.Float64Attribute=function(e,t){return new i.BufferAttribute(new Float64Array(e),t)},i.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new i.BufferAttribute(e,t).setDynamic(!0);
},i.InstancedBufferAttribute=function(e,t,r){i.BufferAttribute.call(this,e,t),this.meshPerAttribute=r||1},i.InstancedBufferAttribute.prototype=Object.create(i.BufferAttribute.prototype),i.InstancedBufferAttribute.prototype.constructor=i.InstancedBufferAttribute,i.InstancedBufferAttribute.prototype.copy=function(e){return i.BufferAttribute.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},i.InterleavedBuffer=function(e,t){this.uuid=i.Math.generateUUID(),this.array=e,this.stride=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},i.InterleavedBuffer.prototype={constructor:i.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(e){e===!0&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(var n=0,i=this.stride;i>n;n++)this.array[e+n]=t.array[r+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)}},i.InstancedInterleavedBuffer=function(e,t,r){i.InterleavedBuffer.call(this,e,t),this.meshPerAttribute=r||1},i.InstancedInterleavedBuffer.prototype=Object.create(i.InterleavedBuffer.prototype),i.InstancedInterleavedBuffer.prototype.constructor=i.InstancedInterleavedBuffer,i.InstancedInterleavedBuffer.prototype.copy=function(e){return i.InterleavedBuffer.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},i.InterleavedBufferAttribute=function(e,t,r){this.uuid=i.Math.generateUUID(),this.data=e,this.itemSize=t,this.offset=r},i.InterleavedBufferAttribute.prototype={constructor:i.InterleavedBufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.data.count},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this}},i.Geometry=function(){Object.defineProperty(this,"id",{value:i.GeometryIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},i.Geometry.prototype={constructor:i.Geometry,applyMatrix:function(e){for(var t=(new i.Matrix3).getNormalMatrix(e),r=0,n=this.vertices.length;n>r;r++){var o=this.vertices[r];o.applyMatrix4(e)}for(var r=0,n=this.faces.length;n>r;r++){var a=this.faces[r];a.normal.applyMatrix3(t).normalize();for(var s=0,u=a.vertexNormals.length;u>s;s++)a.vertexNormals[s].applyMatrix3(t).normalize()}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0},rotateX:function(){var e;return function(t){return void 0===e&&(e=new i.Matrix4),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new i.Matrix4),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new i.Matrix4),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,r,n){return void 0===e&&(e=new i.Matrix4),e.makeTranslation(t,r,n),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,r,n){return void 0===e&&(e=new i.Matrix4),e.makeScale(t,r,n),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new i.Object3D),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,n){var o=void 0!==s?[h[e].clone(),h[t].clone(),h[n].clone()]:[],a=void 0!==u?[r.colors[e].clone(),r.colors[t].clone(),r.colors[n].clone()]:[],f=new i.Face3(e,t,n,o,a);r.faces.push(f),void 0!==c&&r.faceVertexUvs[0].push([p[e].clone(),p[t].clone(),p[n].clone()]),void 0!==l&&r.faceVertexUvs[1].push([d[e].clone(),d[t].clone(),d[n].clone()])}var r=this,n=null!==e.index?e.index.array:void 0,o=e.attributes,a=o.position.array,s=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,c=void 0!==o.uv?o.uv.array:void 0,l=void 0!==o.uv2?o.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var h=[],p=[],d=[],f=0,m=0;f<a.length;f+=3,m+=2)r.vertices.push(new i.Vector3(a[f],a[f+1],a[f+2])),void 0!==s&&h.push(new i.Vector3(s[f],s[f+1],s[f+2])),void 0!==u&&r.colors.push(new i.Color(u[f],u[f+1],u[f+2])),void 0!==c&&p.push(new i.Vector2(c[m],c[m+1])),void 0!==l&&d.push(new i.Vector2(l[m],l[m+1]));if(void 0!==n){var v=e.groups;if(v.length>0)for(var f=0;f<v.length;f++)for(var g=v[f],y=g.start,b=g.count,m=y,_=y+b;_>m;m+=3)t(n[m],n[m+1],n[m+2]);else for(var f=0;f<n.length;f+=3)t(n[f],n[f+1],n[f+2])}else for(var f=0;f<a.length/3;f+=3)t(f,f+1,f+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,r=0===t?1:1/t,n=new i.Matrix4;return n.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var e=new i.Vector3,t=new i.Vector3,r=0,n=this.faces.length;n>r;r++){var o=this.faces[r],a=this.vertices[o.a],s=this.vertices[o.b],u=this.vertices[o.c];e.subVectors(u,s),t.subVectors(a,s),e.cross(t),e.normalize(),o.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,r,n,o,a,s;for(s=new Array(this.vertices.length),t=0,r=this.vertices.length;r>t;t++)s[t]=new i.Vector3;if(e){var u,c,l,h=new i.Vector3,p=new i.Vector3;for(n=0,o=this.faces.length;o>n;n++)a=this.faces[n],u=this.vertices[a.a],c=this.vertices[a.b],l=this.vertices[a.c],h.subVectors(l,c),p.subVectors(u,c),h.cross(p),s[a.a].add(h),s[a.b].add(h),s[a.c].add(h)}else for(n=0,o=this.faces.length;o>n;n++)a=this.faces[n],s[a.a].add(a.normal),s[a.b].add(a.normal),s[a.c].add(a.normal);for(t=0,r=this.vertices.length;r>t;t++)s[t].normalize();for(n=0,o=this.faces.length;o>n;n++){a=this.faces[n];var d=a.vertexNormals;3===d.length?(d[0].copy(s[a.a]),d[1].copy(s[a.b]),d[2].copy(s[a.c])):(d[0]=s[a.a].clone(),d[1]=s[a.b].clone(),d[2]=s[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,r,n,o;for(r=0,n=this.faces.length;n>r;r++)for(o=this.faces[r],o.__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]),e=0,t=o.vertexNormals.length;t>e;e++)o.__originalVertexNormals[e]?o.__originalVertexNormals[e].copy(o.vertexNormals[e]):o.__originalVertexNormals[e]=o.vertexNormals[e].clone();var a=new i.Geometry;for(a.faces=this.faces,e=0,t=this.morphTargets.length;t>e;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var s,u,c=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals;for(r=0,n=this.faces.length;n>r;r++)s=new i.Vector3,u={a:new i.Vector3,b:new i.Vector3,c:new i.Vector3},c.push(s),l.push(u)}var h=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals();var s,u;for(r=0,n=this.faces.length;n>r;r++)o=this.faces[r],s=h.faceNormals[r],u=h.vertexNormals[r],s.copy(o.normal),u.a.copy(o.vertexNormals[0]),u.b.copy(o.vertexNormals[1]),u.c.copy(o.vertexNormals[2])}for(r=0,n=this.faces.length;n>r;r++)o=this.faces[r],o.normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var e=0,t=this.vertices,r=0,n=t.length;n>r;r++)r>0&&(e+=t[r].distanceTo(t[r-1])),this.lineDistances[r]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new i.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new i.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(e instanceof i.Geometry==!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var n,o=this.vertices.length,a=this.vertices,s=e.vertices,u=this.faces,c=e.faces,l=this.faceVertexUvs[0],h=e.faceVertexUvs[0];void 0===r&&(r=0),void 0!==t&&(n=(new i.Matrix3).getNormalMatrix(t));for(var p=0,d=s.length;d>p;p++){var f=s[p],m=f.clone();void 0!==t&&m.applyMatrix4(t),a.push(m)}for(p=0,d=c.length;d>p;p++){var v,g,y,b=c[p],_=b.vertexNormals,x=b.vertexColors;v=new i.Face3(b.a+o,b.b+o,b.c+o),v.normal.copy(b.normal),void 0!==n&&v.normal.applyMatrix3(n).normalize();for(var w=0,E=_.length;E>w;w++)g=_[w].clone(),void 0!==n&&g.applyMatrix3(n).normalize(),v.vertexNormals.push(g);v.color.copy(b.color);for(var w=0,E=x.length;E>w;w++)y=x[w],v.vertexColors.push(y.clone());v.materialIndex=b.materialIndex+r,u.push(v)}for(p=0,d=h.length;d>p;p++){var S=h[p],C=[];if(void 0!==S){for(var w=0,E=S.length;E>w;w++)C.push(S[w].clone());l.push(C)}}},mergeMesh:function(e){return e instanceof i.Mesh==!1?void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e):(e.matrixAutoUpdate&&e.updateMatrix(),void this.merge(e.geometry,e.matrix))},mergeVertices:function(){var e,t,r,n,i,o,a,s,u={},c=[],l=[],h=4,p=Math.pow(10,h);for(r=0,n=this.vertices.length;n>r;r++)e=this.vertices[r],t=Math.round(e.x*p)+"_"+Math.round(e.y*p)+"_"+Math.round(e.z*p),void 0===u[t]?(u[t]=r,c.push(this.vertices[r]),l[r]=c.length-1):l[r]=l[u[t]];var d=[];for(r=0,n=this.faces.length;n>r;r++){i=this.faces[r],i.a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var f=-1,m=0;3>m;m++)if(o[m]===o[(m+1)%3]){f=m,d.push(r);break}}for(r=d.length-1;r>=0;r--){var v=d[r];for(this.faces.splice(v,1),a=0,s=this.faceVertexUvs.length;s>a;a++)this.faceVertexUvs[a].splice(v,1)}var g=this.vertices.length-c.length;return this.vertices=c,g},sortFacesByMaterialIndex:function(){function e(e,t){return e.materialIndex-t.materialIndex}for(var t=this.faces,r=t.length,n=0;r>n;n++)t[n]._id=n;t.sort(e);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===r&&(i=[]),s&&s.length===r&&(o=[]);for(var n=0;r>n;n++){var u=t[n]._id;i&&i.push(a[u]),o&&o.push(s[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function e(e,t,r){return r?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==p[t]?p[t]:(p[t]=h.length/3,h.push(e.x,e.y,e.z),p[t])}function r(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==f[t]?f[t]:(f[t]=d.length,d.push(e.getHex()),f[t])}function n(e){var t=e.x.toString()+e.y.toString();return void 0!==v[t]?v[t]:(v[t]=m.length/2,m.push(e.x,e.y),v[t])}var i={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];s.push(c.x,c.y,c.z)}for(var l=[],h=[],p={},d=[],f={},m=[],v={},u=0;u<this.faces.length;u++){var g=this.faces[u],y=!0,b=!1,_=void 0!==this.faceVertexUvs[0][u],x=g.normal.length()>0,w=g.vertexNormals.length>0,E=1!==g.color.r||1!==g.color.g||1!==g.color.b,S=g.vertexColors.length>0,C=0;if(C=e(C,0,0),C=e(C,1,y),C=e(C,2,b),C=e(C,3,_),C=e(C,4,x),C=e(C,5,w),C=e(C,6,E),C=e(C,7,S),l.push(C),l.push(g.a,g.b,g.c),l.push(g.materialIndex),_){var M=this.faceVertexUvs[0][u];l.push(n(M[0]),n(M[1]),n(M[2]))}if(x&&l.push(t(g.normal)),w){var A=g.vertexNormals;l.push(t(A[0]),t(A[1]),t(A[2]))}if(E&&l.push(r(g.color)),S){var T=g.vertexColors;l.push(r(T[0]),r(T[1]),r(T[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,d.length>0&&(i.data.colors=d),m.length>0&&(i.data.uvs=[m]),i.data.faces=l,i},clone:function(){return(new i.Geometry).copy(this)},copy:function(e){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var t=e.vertices,r=0,n=t.length;n>r;r++)this.vertices.push(t[r].clone());for(var i=e.faces,r=0,n=i.length;n>r;r++)this.faces.push(i[r].clone());for(var r=0,n=e.faceVertexUvs.length;n>r;r++){var o=e.faceVertexUvs[r];void 0===this.faceVertexUvs[r]&&(this.faceVertexUvs[r]=[]);for(var a=0,s=o.length;s>a;a++){for(var u=o[a],c=[],l=0,h=u.length;h>l;l++){var p=u[l];c.push(p.clone())}this.faceVertexUvs[r].push(c)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.Geometry.prototype),i.GeometryIdCount=0,i.DirectGeometry=function(){Object.defineProperty(this,"id",{value:i.GeometryIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},i.DirectGeometry.prototype={constructor:i.DirectGeometry,computeBoundingBox:i.Geometry.prototype.computeBoundingBox,computeBoundingSphere:i.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(e){for(var t,r,n=[],i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,r=e.faces,n=e.vertices,o=e.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,u=e.morphTargets,c=u.length;if(c>0){t=[];for(var l=0;c>l;l++)t[l]=[];this.morphTargets.position=t}var h,p=e.morphNormals,d=p.length;if(d>0){h=[];for(var l=0;d>l;l++)h[l]=[];this.morphTargets.normal=h}for(var f=e.skinIndices,m=e.skinWeights,v=f.length===n.length,g=m.length===n.length,l=0;l<r.length;l++){var y=r[l];this.vertices.push(n[y.a],n[y.b],n[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var _=y.normal;this.normals.push(_,_,_)}var x=y.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=y.color;this.colors.push(w,w,w)}if(a===!0){var E=o[0][l];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new i.Vector2,new i.Vector2,new i.Vector2))}if(s===!0){var E=o[1][l];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new i.Vector2,new i.Vector2,new i.Vector2))}for(var S=0;c>S;S++){var C=u[S].vertices;t[S].push(C[y.a],C[y.b],C[y.c])}for(var S=0;d>S;S++){var M=p[S].vertexNormals[l];h[S].push(M.a,M.b,M.c)}v&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),g&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.DirectGeometry.prototype),i.BufferGeometry=function(){Object.defineProperty(this,"id",{value:i.GeometryIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},i.BufferGeometry.prototype={constructor:i.BufferGeometry,getIndex:function(){return this.index},setIndex:function(e){this.index=e},addAttribute:function(e,t){return t instanceof i.BufferAttribute==!1&&t instanceof i.InterleavedBufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new i.BufferAttribute(arguments[1],arguments[2]))):"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this)},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,r){this.groups.push({start:e,count:t,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var n=(new i.Matrix3).getNormalMatrix(e);n.applyToVector3Array(r.array),r.needsUpdate=!0}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere()},rotateX:function(){var e;return function(t){return void 0===e&&(e=new i.Matrix4),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new i.Matrix4),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new i.Matrix4),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,r,n){return void 0===e&&(e=new i.Matrix4),e.makeTranslation(t,r,n),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,r,n){return void 0===e&&(e=new i.Matrix4),e.makeScale(t,r,n),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new i.Object3D),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e instanceof i.Points||e instanceof i.Line){var r=new i.Float32Attribute(3*t.vertices.length,3),n=new i.Float32Attribute(3*t.colors.length,3);if(this.addAttribute("position",r.copyVector3sArray(t.vertices)),this.addAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var o=new i.Float32Attribute(t.lineDistances.length,1);this.addAttribute("lineDistance",o.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e instanceof i.Mesh&&t instanceof i.Geometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t=e.geometry;if(e instanceof i.Mesh){var r=t.__directGeometry;if(void 0===r)return this.fromGeometry(t);r.verticesNeedUpdate=t.verticesNeedUpdate,r.normalsNeedUpdate=t.normalsNeedUpdate,r.colorsNeedUpdate=t.colorsNeedUpdate,r.uvsNeedUpdate=t.uvsNeedUpdate,r.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=r}if(t.verticesNeedUpdate===!0){var n=this.attributes.position;void 0!==n&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){var n=this.attributes.normal;void 0!==n&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){var n=this.attributes.color;void 0!==n&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var n=this.attributes.uv;void 0!==n&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var n=this.attributes.lineDistance;void 0!==n&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new i.DirectGeometry).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new i.BufferAttribute(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var r=new Float32Array(3*e.normals.length);this.addAttribute("normal",new i.BufferAttribute(r,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var n=new Float32Array(3*e.colors.length);this.addAttribute("color",new i.BufferAttribute(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var o=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new i.BufferAttribute(o,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new i.BufferAttribute(a,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var s=e.vertices.length>65535?Uint32Array:Uint16Array,u=new s(3*e.indices.length);this.setIndex(new i.BufferAttribute(u,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var c in e.morphTargets){for(var l=[],h=e.morphTargets[c],p=0,d=h.length;d>p;p++){var f=h[p],m=new i.Float32Attribute(3*f.length,3);l.push(m.copyVector3sArray(f))}this.morphAttributes[c]=l}if(e.skinIndices.length>0){var v=new i.Float32Attribute(4*e.skinIndices.length,4);this.addAttribute("skinIndex",v.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var g=new i.Float32Attribute(4*e.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){new i.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new i.Box3);var e=this.attributes.position.array;e&&this.boundingBox.setFromArray(e),(void 0===e||0===e.length)&&(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var e=new i.Box3,t=new i.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new i.Sphere);var r=this.attributes.position.array;if(r){var n=this.boundingSphere.center;e.setFromArray(r),e.center(n);for(var o=0,a=0,s=r.length;s>a;a+=3)t.fromArray(r,a),o=Math.max(o,n.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,r=this.groups;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new i.BufferAttribute(new Float32Array(n.length),3));else for(var o=t.normal.array,a=0,s=o.length;s>a;a++)o[a]=0;var u,c,l,h=t.normal.array,p=new i.Vector3,d=new i.Vector3,f=new i.Vector3,m=new i.Vector3,v=new i.Vector3;if(e){var g=e.array;0===r.length&&this.addGroup(0,g.length);for(var y=0,b=r.length;b>y;++y)for(var _=r[y],x=_.start,w=_.count,a=x,s=x+w;s>a;a+=3)u=3*g[a+0],c=3*g[a+1],l=3*g[a+2],p.fromArray(n,u),d.fromArray(n,c),f.fromArray(n,l),m.subVectors(f,d),v.subVectors(p,d),m.cross(v),h[u]+=m.x,h[u+1]+=m.y,h[u+2]+=m.z,h[c]+=m.x,h[c+1]+=m.y,h[c+2]+=m.z,h[l]+=m.x,h[l+1]+=m.y,h[l+2]+=m.z}else for(var a=0,s=n.length;s>a;a+=9)p.fromArray(n,a),d.fromArray(n,a+3),f.fromArray(n,a+6),m.subVectors(f,d),v.subVectors(p,d),m.cross(v),h[a]=m.x,h[a+1]=m.y,h[a+2]=m.z,h[a+3]=m.x,h[a+4]=m.y,h[a+5]=m.z,h[a+6]=m.x,h[a+7]=m.y,h[a+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e instanceof i.BufferGeometry==!1)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0);var r=this.attributes;for(var n in r)if(void 0!==e.attributes[n])for(var o=r[n],a=o.array,s=e.attributes[n],u=s.array,c=s.itemSize,l=0,h=c*t;l<u.length;l++,h++)a[h]=u[l];return this},normalizeNormals:function(){for(var e,t,r,n,i=this.attributes.normal.array,o=0,a=i.length;a>o;o+=3)e=i[o],t=i[o+1],r=i[o+2],n=1/Math.sqrt(e*e+t*t+r*r),i[o]*=n,i[o+1]*=n,i[o+2]*=n},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new i.BufferGeometry,t=this.index.array,r=this.attributes;for(var n in r){for(var o=r[n],a=o.array,s=o.itemSize,u=new a.constructor(t.length*s),c=0,l=0,h=0,p=t.length;p>h;h++){c=t[h]*s;for(var d=0;s>d;d++)u[l++]=a[c++]}e.addAttribute(n,new i.BufferAttribute(u,s))}return e},toJSON:function(){var e={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};var n=this.index;if(null!==n){var i=Array.prototype.slice.call(n.array);e.data.index={type:n.array.constructor.name,array:i}}var o=this.attributes;for(var r in o){var a=o[r],i=Array.prototype.slice.call(a.array);e.data.attributes[r]={itemSize:a.itemSize,type:a.array.constructor.name,array:i}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new i.BufferGeometry).copy(this)},copy:function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var r=e.attributes;for(var n in r){var i=r[n];this.addAttribute(n,i.clone())}for(var o=e.groups,a=0,s=o.length;s>a;a++){var u=o[a];this.addGroup(u.start,u.count)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.BufferGeometry.prototype),i.BufferGeometry.MaxIndex=65535,i.InstancedBufferGeometry=function(){i.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},i.InstancedBufferGeometry.prototype=Object.create(i.BufferGeometry.prototype),i.InstancedBufferGeometry.prototype.constructor=i.InstancedBufferGeometry,i.InstancedBufferGeometry.prototype.addGroup=function(e,t,r){this.groups.push({start:e,count:t,instances:r})},i.InstancedBufferGeometry.prototype.copy=function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var r=e.attributes;for(var n in r){var i=r[n];this.addAttribute(n,i.clone())}for(var o=e.groups,a=0,s=o.length;s>a;a++){var u=o[a];this.addGroup(u.start,u.count,u.instances)}return this},i.EventDispatcher.prototype.apply(i.InstancedBufferGeometry.prototype),i.Uniform=function(e,t){this.type=e,this.value=t,this.dynamic=!1},i.Uniform.prototype={constructor:i.Uniform,onUpdate:function(e){return this.dynamic=!0,this.onUpdateCallback=e,this}},i.AnimationClip=function(e,t,r){this.name=e||i.Math.generateUUID(),this.tracks=r,this.duration=void 0!==t?t:-1,this.duration<0&&this.resetDuration(),this.trim(),this.optimize()},i.AnimationClip.prototype={constructor:i.AnimationClip,resetDuration:function(){for(var e=this.tracks,t=0,r=0,n=e.length;r!==n;++r){var i=this.tracks[r];t=Math.max(t,i.times[i.times.length-1])}this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},Object.assign(i.AnimationClip,{parse:function(e){for(var t=[],r=e.tracks,n=1/(e.fps||1),o=0,a=r.length;o!==a;++o)t.push(i.KeyframeTrack.parse(r[o]).scale(n));return new i.AnimationClip(e.name,e.duration,t)},toJSON:function(e){for(var t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t},o=0,a=r.length;o!==a;++o)t.push(i.KeyframeTrack.toJSON(r[o]));return n},CreateFromMorphTargetSequence:function(e,t,r){for(var n=t.length,o=[],a=0;n>a;a++){var s=[],u=[];s.push((a+n-1)%n,a,(a+1)%n),u.push(0,1,0);var c=i.AnimationUtils.getKeyframeOrder(s);s=i.AnimationUtils.sortedArray(s,1,c),u=i.AnimationUtils.sortedArray(u,1,c),0===s[0]&&(s.push(n),u.push(u[0])),o.push(new i.NumberKeyframeTrack(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/r))}return new i.AnimationClip(e,-1,o)},findByName:function(e,t){for(var r=0;r<e.length;r++)if(e[r].name===t)return e[r];return null},CreateClipsFromMorphTargetSequences:function(e,t){for(var r={},n=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;a>o;o++){var s=e[o],u=s.name.match(n);if(u&&u.length>1){var c=u[1],l=r[c];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push(i.AnimationClip.CreateFromMorphTargetSequence(c,r[c],t));return h},parseAnimation:function(e,t,r){if(!e)return console.error("  no animation in JSONLoader data"),null;for(var n=function(e,t,r,n,o){if(0!==r.length){var a=[],s=[];i.AnimationUtils.flattenJSON(r,a,s,n),0!==a.length&&o.push(new e(t,a,s))}},o=[],a=e.name||"default",s=e.length||-1,u=e.fps||30,c=e.hierarchy||[],l=0;l<c.length;l++){var h=c[l].keys;if(h&&0!=h.length)if(h[0].morphTargets){for(var p={},d=0;d<h.length;d++)if(h[d].morphTargets)for(var f=0;f<h[d].morphTargets.length;f++)p[h[d].morphTargets[f]]=-1;for(var m in p){for(var v=[],g=[],f=0;f!==h[d].morphTargets.length;++f){var y=h[d];v.push(y.time),g.push(y.morphTarget===m?1:0)}o.push(new i.NumberKeyframeTrack(".morphTargetInfluence["+m+"]",v,g))}s=p.length*(u||1)}else{var b=".bones["+t[l].name+"]";n(i.VectorKeyframeTrack,b+".position",h,"pos",o),n(i.QuaternionKeyframeTrack,b+".quaternion",h,"rot",o),n(i.VectorKeyframeTrack,b+".scale",h,"scl",o)}}if(0===o.length)return null;var _=new i.AnimationClip(a,s,o);return _}}),i.AnimationMixer=function(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1},i.AnimationMixer.prototype={constructor:i.AnimationMixer,clipAction:function(e,t){var r,n=t||this._root,o=n.uuid,a="string"==typeof e?e:e.name,s=e!==a?e:null,u=this._actionsByClip[a];if(void 0!==u){var c=u.actionByRoot[o];if(void 0!==c)return c;if(r=u.knownActions[0],s=r._clip,e!==a&&e!==s)throw new Error("Different clips with the same name detected!")}if(null===s)return null;var l=new i.AnimationMixer._Action(this,s,t);return this._bindAction(l,r),this._addInactiveAction(l,a,o),l},existingAction:function(e,t){var r=t||this._root,n=r.uuid,i="string"==typeof e?e:e.name,o=this._actionsByClip[i];return void 0!==o?o.actionByRoot[n]||null:null},stopAllAction:function(){
var e=this._actions,t=this._nActiveActions,r=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(var i=0;i!==n;++i)r[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==r;++a){var s=t[a];s.enabled&&s._update(n,e,i,o)}for(var u=this._bindings,c=this._nActiveBindings,a=0;a!==c;++a)u[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,r=e.name,n=this._actionsByClip,i=n[r];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(u)}delete n[r]}},uncacheRoot:function(e){var t=e.uuid,r=this._actionsByClip;for(var n in r){var i=r[n].actionByRoot,o=i[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[t];if(void 0!==s)for(var u in s){var c=s[u];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(e,t){var r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}},i.EventDispatcher.prototype.apply(i.AnimationMixer.prototype),i.AnimationMixer._Action=function(e,t,r){this._mixer=e,this._clip=t,this._localRoot=r||null;for(var n=t.tracks,o=n.length,a=new Array(o),s={endingStart:i.ZeroCurvatureEnding,endingEnd:i.ZeroCurvatureEnding},u=0;u!==o;++u){var c=n[u].createInterpolant(null);a[u]=c,c.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=i.LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0},i.AnimationMixer._Action.prototype={constructor:i.AnimationMixer._Action,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){this._startTime;return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,r){this._mixer;if(e.fadeOut(t),this.fadeIn(t),r){var n=this._clip.duration,i=e._clip.duration,o=i/n,a=n/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,r){return e.crossFadeFrom(this,t,r)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._currentTimeScale,0,e)},warp:function(e,t,r){var n=this._mixer,i=n.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+r,u[0]=e/a,u[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,r,n){var i=this._startTime;if(null!==i){var o=(e-i)*r;if(0>o||0===r)return;this._startTime=null,t=r*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(n,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.pause=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var r=this._clip.duration,n=this.loop,o=this._loopCount,a=!1;switch(n){case i.LoopOnce:if(-1===o&&(this.loopCount=0,this._setEndings(!0,!0,!1)),t>=r)t=r;else{if(!(0>t))break;t=0}this.clampWhenFinished?this.pause=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>e?-1:1});break;case i.LoopPingPong:a=!0;case i.LoopRepeat:if(-1===o&&(e>0?(o=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=r||0>t){var s=Math.floor(t/r);t-=r*s,o+=Math.abs(s);var u=this.repetitions-o;if(0>u){this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?r:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});break}if(0===u){var c=0>e;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}if(n===i.LoopPingPong&&1===(1&o))return this.time=t,r-t}return this.time=t,t},_setEndings:function(e,t,r){var n=this._interpolantSettings;r?(n.endingStart=i.ZeroSlopeEnding,n.endingEnd=i.ZeroSlopeEnding):(e?n.endingStart=this.zeroSlopeAtStart?i.ZeroSlopeEnding:i.ZeroCurvatureEnding:n.endingStart=i.WrapAroundEnding,t?n.endingEnd=this.zeroSlopeAtEnd?i.ZeroSlopeEnding:i.ZeroCurvatureEnding:n.endingEnd=i.WrapAroundEnding)},_scheduleFading:function(e,t,r){var n=this._mixer,i=n.time,o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=r,this}},Object.assign(i.AnimationMixer.prototype,{_bindAction:function(e,t){var r=e._localRoot||this._root,n=e._clip.tracks,o=n.length,a=e._propertyBindings,s=e._interpolants,u=r.uuid,c=this._bindingsByRootAndName,l=c[u];void 0===l&&(l={},c[u]=l);for(var h=0;h!==o;++h){var p=n[h],d=p.name,f=l[d];if(void 0!==f)a[h]=f;else{if(f=a[h],void 0!==f){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,u,d));continue}var m=t&&t._propertyBindings[h].binding.parsedPath;f=new i.PropertyMixer(i.PropertyBinding.create(r,d,m),p.ValueTypeName,p.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,u,d),a[h]=f}s[h].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,r=e._clip.name,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,r){var n=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=n.length,n.push(e),o.actionByRoot[r]=e},_removeInactiveAction:function(e){var t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;var i=e._clip.name,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null;var l=a.actionByRoot,h=(t._localRoot||this._root).uuid;delete l[h],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackAction:function(e){var t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_addInactiveBinding:function(e,t,r){var n=this._bindingsByRootAndName,i=n[t],o=this._bindings;void 0===i&&(i={},n[t]=i),i[r]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,r=e.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,a=o[n],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[n]}},_lendBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return void 0===r&&(r=new i.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),i.AnimationObjectGroup=function(e){this.uuid=i.Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var r=0,n=arguments.length;r!==n;++r)t[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var o=this;this.stats={objects:{get total(){return o._objects.length},get inUse(){return this.total-o.nCachedObjects_}},get bindingsPerObject(){return o._bindings.length}}},i.AnimationObjectGroup.prototype={constructor:i.AnimationObjectGroup,add:function(e){for(var t=this._objects,r=t.length,n=this.nCachedObjects_,o=this._indicesByUUID,a=this._paths,s=this._parsedPaths,u=this._bindings,c=u.length,l=0,h=arguments.length;l!==h;++l){var p=arguments[l],d=p.uuid,f=o[d];if(void 0===f){f=r++,o[d]=f,t.push(p);for(var m=0,v=c;m!==v;++m)u[m].push(new i.PropertyBinding(p,a[m],s[m]))}else if(n>f){var g=t[f],y=--n,b=t[y];o[b.uuid]=f,t[f]=b,o[d]=y,t[y]=p;for(var m=0,v=c;m!==v;++m){var _=u[m],x=_[y],w=_[f];_[f]=x,void 0===w&&(w=new i.PropertyBinding(p,a[m],s[m])),_[y]=w}}else t[f]!==g&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=n},remove:function(e){for(var t=this._objects,r=(t.length,this.nCachedObjects_),n=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=n[c];if(void 0!==l&&l>=r){var h=r++,p=t[h];n[p.uuid]=l,t[l]=p,n[c]=h,t[h]=u;for(var d=0,f=o;d!==f;++d){var m=i[d],v=m[h],g=m[l];m[l]=v,m[h]=g}}}this.nCachedObjects_=r},uncache:function(e){for(var t=this._objects,r=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var c=arguments[s],l=c.uuid,h=i[l];if(void 0!==h)if(delete i[l],n>h){var p=--n,d=t[p],f=--r,m=t[f];i[d.uuid]=h,t[h]=d,i[m.uuid]=p,t[p]=m,t.pop();for(var v=0,g=a;v!==g;++v){var y=o[v],b=y[p],_=y[f];y[h]=b,y[p]=_,y.pop()}}else{var f=--r,m=t[f];i[m.uuid]=h,t[h]=m,t.pop();for(var v=0,g=a;v!==g;++v){var y=o[v];y[h]=y[f],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var r=this._bindingsIndicesByPath,n=r[e],o=this._bindings;if(void 0!==n)return o[n];var a=this._paths,s=this._parsedPaths,u=this._objects,c=u.length,l=this.nCachedObjects_,h=new Array(c);n=o.length,r[e]=n,a.push(e),s.push(t),o.push(h);for(var p=l,d=u.length;p!==d;++p){var f=u[p];h[p]=new i.PropertyBinding(f,e,t)}return h},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){var n=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a],u=e[a];t[u]=r,o[r]=s,o.pop(),i[r]=i[a],i.pop(),n[r]=n[a],n.pop()}}},i.AnimationUtils={arraySlice:function(e,t,r){return i.AnimationUtils.isTypedArray(e)?new e.constructor(e.subarray(t,r)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,r){return e[t]-e[r]}for(var r=e.length,n=new Array(r),i=0;i!==r;++i)n[i]=i;return n.sort(t),n},sortedArray:function(e,t,r){for(var n=e.length,i=new e.constructor(n),o=0,a=0;a!==n;++o)for(var s=r[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,r,n){for(var i=1,o=e[0];void 0!==o&&void 0===o[n];)o=e[i++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a)){do a=o[n],void 0!==a&&(t.push(o.time),r.push.apply(r,a)),o=e[i++];while(void 0!==o)}else if(void 0!==a.toArray){do a=o[n],void 0!==a&&(t.push(o.time),a.toArray(r,r.length)),o=e[i++];while(void 0!==o)}else do a=o[n],void 0!==a&&(t.push(o.time),r.push(a)),o=e[i++];while(void 0!==o)}}},i.KeyframeTrack=function(e,t,r,n){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=i.AnimationUtils.convertArray(t,this.TimeBufferType),this.values=i.AnimationUtils.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()},i.KeyframeTrack.prototype={constructor:i.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:i.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(e){return new i.DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new i.LinearInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new i.CubicInterpolant(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t=void 0;switch(e){case i.InterpolateDiscrete:t=this.InterpolantFactoryMethodDiscrete;break;case i.InterpolateLinear:t=this.InterpolantFactoryMethodLinear;break;case i.InterpolateSmooth:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(r)}this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return i.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return i.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return i.InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]*=e;return this},trim:function(e,t){for(var r=this.times,n=r.length,o=0,a=n-1;o!==n&&r[o]<e;)++o;for(;-1!==a&&r[a]>t;)--a;if(++a,0!==o||a!==n){o>=a&&(a=Math.max(a,1),o=a-1);var s=this.getValueSize();this.times=i.AnimationUtils.arraySlice(r,o,a),this.values=i.AnimationUtils.arraySlice(this.values,o*s,a*s)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("invalid value size in track",this),e=!1);var r=this.times,n=this.values,o=r.length;0===o&&(console.error("track is empty",this),e=!1);for(var a=null,s=0;s!==o;s++){var u=r[s];if("number"==typeof u&&isNaN(u)){console.error("time is not a valid number",this,s,u),e=!1;break}if(null!==a&&a>u){console.error("out of order keys",this,s,u,a),e=!1;break}a=u}if(void 0!==n&&i.AnimationUtils.isTypedArray(n))for(var s=0,c=n.length;s!==c;++s){var l=n[s];if(isNaN(l)){console.error("value is not a valid number",this,s,l),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,r=this.getValueSize(),n=1,o=1,a=e.length-1;a>=o;++o){var s=!1,u=e[o],c=e[o+1];if(u!==c&&(1!==o||u!==u[0]))for(var l=o*r,h=l-r,p=l+r,d=0;d!==r;++d){var f=t[l+d];if(f!==t[h+d]||f!==t[p+d]){s=!0;break}}if(s){if(o!==n){e[n]=e[o];for(var m=o*r,v=n*r,d=0;d!==r;++d)t[v+d]=t[m+d]}++n}}return n!==e.length&&(this.times=i.AnimationUtils.arraySlice(e,0,n),this.values=i.AnimationUtils.arraySlice(t,0,n*r)),this}},Object.assign(i.KeyframeTrack,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=i.KeyframeTrack._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){console.warn("legacy JSON format detected, converting");var r=[],n=[];i.AnimationUtils.flattenJSON(e.keys,r,n,"value"),e.times=r,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,r=e.constructor;if(void 0!==r.toJSON)t=r.toJSON(e);else{t={name:e.name,times:i.AnimationUtils.convertArray(e.times,Array),values:i.AnimationUtils.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return i.NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return i.VectorKeyframeTrack;case"color":return i.ColorKeyframeTrack;case"quaternion":return i.QuaternionKeyframeTrack;case"bool":case"boolean":return i.BooleanKeyframeTrack;case"string":return i.StringKeyframeTrack}throw new Error("Unsupported typeName: "+e)}}),i.PropertyBinding=function(e,t,r){this.path=t,this.parsedPath=r||i.PropertyBinding.parseTrackName(t),this.node=i.PropertyBinding.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e},i.PropertyBinding.prototype={constructor:i.PropertyBinding,getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,o=t.propertyIndex;if(e||(e=i.PropertyBinding.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("  trying to update node for track: "+this.path+" but it wasn't found.");if(r){var a=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("  can not bind to material as node does not have a material",this);if(!e.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);e=e.skeleton.bones;for(var s=0;s<e.length;s++)if(e[s].name===a){a=s;break}break;default:if(void 0===e[r])return void console.error("  can not bind to objectName of node, undefined",this);e=e[r]}if(void 0!==a){if(void 0===e[a])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,e);e=e[a]}}var u=e[n];if(!u){var c=t.nodeName;return void console.error("  trying to update property for track: "+c+"."+n+" but it wasn't found.",e)}var l=this.Versioning.None;void 0!==e.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var h=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!e.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var s=0;s<this.node.geometry.morphTargets.length;s++)if(e.geometry.morphTargets[s].name===o){o=s;break}}h=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=o}else void 0!==u.fromArray&&void 0!==u.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=u):void 0!==u.length?(h=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=n;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][l]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(i.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:i.PropertyBinding.prototype.getValue,_setValue_unbound:i.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)e[t++]=r[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.node[this.propertyName]=e[t]},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),i.PropertyBinding.Composite=function(e,t,r){var n=r||i.PropertyBinding.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)},i.PropertyBinding.Composite.prototype={constructor:i.PropertyBinding.Composite,getValue:function(e,t){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},i.PropertyBinding.create=function(e,t,r){return e instanceof i.AnimationObjectGroup?new i.PropertyBinding.Composite(e,t,r):new i.PropertyBinding(e,t,r)},i.PropertyBinding.parseTrackName=function(e){var t=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_. ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,r=t.exec(e);if(!r)throw new Error("cannot parse trackName at all: "+e);r.index===t.lastIndex&&t.lastIndex++;var n={nodeName:r[3],objectName:r[5],objectIndex:r[7],propertyName:r[9],propertyIndex:r[11]};if(null===n.propertyName||0===n.propertyName.length)throw new Error("can not parse propertyName from trackName: "+e);return n},i.PropertyBinding.findNode=function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=function(e){for(var r=0;r<e.bones.length;r++){var n=e.bones[r];if(n.name===t)return n}return null},n=r(e.skeleton);if(n)return n}if(e.children){var i=function(e){for(var r=0;r<e.length;r++){var n=e[r];if(n.name===t||n.uuid===t)return n;var o=i(n.children);if(o)return o}return null},o=i(e.children);if(o)return o}return null},i.PropertyMixer=function(e,t,r){this.binding=e,this.valueSize=r;var n,i=Float64Array;switch(t){case"quaternion":n=this._slerp;break;case"string":case"bool":i=Array,n=this._select;break;default:n=this._lerp}this.buffer=new i(4*r),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0},i.PropertyMixer.prototype={constructor:i.PropertyMixer,accumulate:function(e,t){var r=this.buffer,n=this.valueSize,i=e*n+n,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==n;++a)r[i+a]=r[a];o=t}else{o+=t;var s=t/o;this._mixBufferRegion(r,i,0,s,n)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,r=this.buffer,n=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,1>i){var a=3*t;this._mixBufferRegion(r,n,a,1-i,t)}for(var s=t,u=t+t;s!==u;++s)if(r[s]!==r[s+t]){o.setValue(r,n);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,r=this.valueSize,n=3*r;e.getValue(t,n);for(var i=r,o=n;i!==o;++i)t[i]=t[n+i%r];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,r,n,i){if(n>=.5)for(var o=0;o!==i;++o)e[t+o]=e[r+o]},_slerp:function(e,t,r,n,o){i.Quaternion.slerpFlat(e,t,e,t,e,r,n)},_lerp:function(e,t,r,n,i){for(var o=1-n,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[r+a]*n}}},i.BooleanKeyframeTrack=function(e,t,r){i.KeyframeTrack.call(this,e,t,r)},i.BooleanKeyframeTrack.prototype=Object.assign(Object.create(i.KeyframeTrack.prototype),{constructor:i.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:i.IntepolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),i.NumberKeyframeTrack=function(e,t,r,n){i.KeyframeTrack.call(this,e,t,r,n)},i.NumberKeyframeTrack.prototype=Object.assign(Object.create(i.KeyframeTrack.prototype),{constructor:i.NumberKeyframeTrack,ValueTypeName:"number"}),i.QuaternionKeyframeTrack=function(e,t,r,n){i.KeyframeTrack.call(this,e,t,r,n)},i.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(i.KeyframeTrack.prototype),{constructor:i.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:i.InterpolateLinear,InterpolantFactoryMethodLinear:function(e){return new i.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),i.StringKeyframeTrack=function(e,t,r,n){i.KeyframeTrack.call(this,e,t,r,n)},i.StringKeyframeTrack.prototype=Object.assign(Object.create(i.KeyframeTrack.prototype),{constructor:i.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:i.IntepolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),i.VectorKeyframeTrack=function(e,t,r,n){i.KeyframeTrack.call(this,e,t,r,n)},i.VectorKeyframeTrack.prototype=Object.assign(Object.create(i.KeyframeTrack.prototype),{constructor:i.VectorKeyframeTrack,ValueTypeName:"vector"}),i.Audio=function(e){i.Object3D.call(this),this.type="Audio",this.context=e.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filter=null},i.Audio.prototype=Object.create(i.Object3D.prototype),i.Audio.prototype.constructor=i.Audio,i.Audio.prototype.getOutput=function(){return this.gain},i.Audio.prototype.load=function(e){var t=new i.AudioBuffer(this.context);return t.load(e),this.setBuffer(t),this},i.Audio.prototype.setNodeSource=function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},i.Audio.prototype.setBuffer=function(e){var t=this;return e.onReady(function(e){t.source.buffer=e,t.sourceType="buffer",t.autoplay&&t.play()}),this},i.Audio.prototype.play=function(){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");if(this.hasPlaybackControl===!1)return void console.warn("THREE.Audio: this Audio has no playback control.");var e=this.context.createBufferSource();e.buffer=this.source.buffer,e.loop=this.source.loop,e.onended=this.source.onended,e.start(0,this.startTime),e.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=e,this.connect()},i.Audio.prototype.pause=function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),void(this.startTime=this.context.currentTime))},i.Audio.prototype.stop=function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),void(this.startTime=0))},i.Audio.prototype.connect=function(){null!==this.filter?(this.source.connect(this.filter),this.filter.connect(this.getOutput())):this.source.connect(this.getOutput())},i.Audio.prototype.disconnect=function(){null!==this.filter?(this.source.disconnect(this.filter),this.filter.disconnect(this.getOutput())):this.source.disconnect(this.getOutput())},i.Audio.prototype.getFilter=function(){return this.filter},i.Audio.prototype.setFilter=function(e){void 0===e&&(e=null),this.isPlaying===!0?(this.disconnect(),this.filter=e,this.connect()):this.filter=e},i.Audio.prototype.setPlaybackRate=function(e){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=e,void(this.isPlaying===!0&&(this.source.playbackRate.value=this.playbackRate)))},i.Audio.prototype.getPlaybackRate=function(){return this.playbackRate},i.Audio.prototype.onEnded=function(){this.isPlaying=!1},i.Audio.prototype.setLoop=function(e){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):void(this.source.loop=e)},i.Audio.prototype.getLoop=function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},i.Audio.prototype.setVolume=function(e){this.gain.gain.value=e},i.Audio.prototype.getVolume=function(){return this.gain.gain.value},i.AudioAnalyser=function(e,t){
this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)},i.AudioAnalyser.prototype={constructor:i.AudioAnalyser,getData:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},i.AudioBuffer=function(e){this.context=e,this.ready=!1,this.readyCallbacks=[]},i.AudioBuffer.prototype.load=function(e){var t=this,r=new XMLHttpRequest;return r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(e){t.context.decodeAudioData(this.response,function(e){t.buffer=e,t.ready=!0;for(var r=0;r<t.readyCallbacks.length;r++)t.readyCallbacks[r](t.buffer);t.readyCallbacks=[]})},r.send(),this},i.AudioBuffer.prototype.onReady=function(e){this.ready?e(this.buffer):this.readyCallbacks.push(e)},i.PositionalAudio=function(e){i.Audio.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},i.PositionalAudio.prototype=Object.create(i.Audio.prototype),i.PositionalAudio.prototype.constructor=i.PositionalAudio,i.PositionalAudio.prototype.getOutput=function(){return this.panner},i.PositionalAudio.prototype.setRefDistance=function(e){this.panner.refDistance=e},i.PositionalAudio.prototype.getRefDistance=function(){return this.panner.refDistance},i.PositionalAudio.prototype.setRolloffFactor=function(e){this.panner.rolloffFactor=e},i.PositionalAudio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor},i.PositionalAudio.prototype.setDistanceModel=function(e){this.panner.distanceModel=e},i.PositionalAudio.prototype.getDistanceModel=function(){return this.panner.distanceModel},i.PositionalAudio.prototype.setMaxDistance=function(e){this.panner.maxDistance=e},i.PositionalAudio.prototype.getMaxDistance=function(){return this.panner.maxDistance},i.PositionalAudio.prototype.updateMatrixWorld=function(){var e=new i.Vector3;return function(t){i.Object3D.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}(),i.AudioListener=function(){i.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null},i.AudioListener.prototype=Object.create(i.Object3D.prototype),i.AudioListener.prototype.constructor=i.AudioListener,i.AudioListener.prototype.getInput=function(){return this.gain},i.AudioListener.prototype.removeFilter=function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},i.AudioListener.prototype.setFilter=function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},i.AudioListener.prototype.getFilter=function(){return this.filter},i.AudioListener.prototype.setMasterVolume=function(e){this.gain.gain.value=e},i.AudioListener.prototype.getMasterVolume=function(){return this.gain.gain.value},i.AudioListener.prototype.updateMatrixWorld=function(){var e=new i.Vector3,t=new i.Quaternion,r=new i.Vector3,n=new i.Vector3;return function(o){i.Object3D.prototype.updateMatrixWorld.call(this,o);var a=this.context.listener,s=this.up;this.matrixWorld.decompose(e,t,r),n.set(0,0,-1).applyQuaternion(t),a.setPosition(e.x,e.y,e.z),a.setOrientation(n.x,n.y,n.z,s.x,s.y,s.z)}}(),i.Camera=function(){i.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new i.Matrix4,this.projectionMatrix=new i.Matrix4},i.Camera.prototype=Object.create(i.Object3D.prototype),i.Camera.prototype.constructor=i.Camera,i.Camera.prototype.getWorldDirection=function(){var e=new i.Quaternion;return function(t){var r=t||new i.Vector3;return this.getWorldQuaternion(e),r.set(0,0,-1).applyQuaternion(e)}}(),i.Camera.prototype.lookAt=function(){var e=new i.Matrix4;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),i.Camera.prototype.clone=function(){return(new this.constructor).copy(this)},i.Camera.prototype.copy=function(e){return i.Object3D.prototype.copy.call(this,e),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},i.CubeCamera=function(e,t,r){i.Object3D.call(this),this.type="CubeCamera";var n=90,o=1,a=new i.PerspectiveCamera(n,o,e,t);a.up.set(0,-1,0),a.lookAt(new i.Vector3(1,0,0)),this.add(a);var s=new i.PerspectiveCamera(n,o,e,t);s.up.set(0,-1,0),s.lookAt(new i.Vector3(-1,0,0)),this.add(s);var u=new i.PerspectiveCamera(n,o,e,t);u.up.set(0,0,1),u.lookAt(new i.Vector3(0,1,0)),this.add(u);var c=new i.PerspectiveCamera(n,o,e,t);c.up.set(0,0,-1),c.lookAt(new i.Vector3(0,-1,0)),this.add(c);var l=new i.PerspectiveCamera(n,o,e,t);l.up.set(0,-1,0),l.lookAt(new i.Vector3(0,0,1)),this.add(l);var h=new i.PerspectiveCamera(n,o,e,t);h.up.set(0,-1,0),h.lookAt(new i.Vector3(0,0,-1)),this.add(h);var p={format:i.RGBFormat,magFilter:i.LinearFilter,minFilter:i.LinearFilter};this.renderTarget=new i.WebGLRenderTargetCube(r,r,p),this.updateCubeMap=function(e,t){null===this.parent&&this.updateMatrixWorld();var r=this.renderTarget,n=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,e.render(t,a,r),r.activeCubeFace=1,e.render(t,s,r),r.activeCubeFace=2,e.render(t,u,r),r.activeCubeFace=3,e.render(t,c,r),r.activeCubeFace=4,e.render(t,l,r),r.texture.generateMipmaps=n,r.activeCubeFace=5,e.render(t,h,r),e.setRenderTarget(null)}},i.CubeCamera.prototype=Object.create(i.Object3D.prototype),i.CubeCamera.prototype.constructor=i.CubeCamera,i.OrthographicCamera=function(e,t,r,n,o,a){i.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=e,this.right=t,this.top=r,this.bottom=n,this.near=void 0!==o?o:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()},i.OrthographicCamera.prototype=Object.create(i.Camera.prototype),i.OrthographicCamera.prototype.constructor=i.OrthographicCamera,i.OrthographicCamera.prototype.updateProjectionMatrix=function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(r-e,r+e,n+t,n-t,this.near,this.far)},i.OrthographicCamera.prototype.copy=function(e){return i.Camera.prototype.copy.call(this,e),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this},i.OrthographicCamera.prototype.toJSON=function(e){var t=i.Object3D.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,t},i.PerspectiveCamera=function(e,t,r,n){i.Camera.call(this),this.type="PerspectiveCamera",this.focalLength=10,this.zoom=1,this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.updateProjectionMatrix()},i.PerspectiveCamera.prototype=Object.create(i.Camera.prototype),i.PerspectiveCamera.prototype.constructor=i.PerspectiveCamera,i.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*i.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},i.PerspectiveCamera.prototype.setViewOffset=function(e,t,r,n,i,o){this.fullWidth=e,this.fullHeight=t,this.x=r,this.y=n,this.width=i,this.height=o,this.updateProjectionMatrix()},i.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var e=i.Math.radToDeg(2*Math.atan(Math.tan(.5*i.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var t=this.fullWidth/this.fullHeight,r=Math.tan(i.Math.degToRad(.5*e))*this.near,n=-r,o=t*n,a=t*r,s=Math.abs(a-o),u=Math.abs(r-n);this.projectionMatrix.makeFrustum(o+this.x*s/this.fullWidth,o+(this.x+this.width)*s/this.fullWidth,r-(this.y+this.height)*u/this.fullHeight,r-this.y*u/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(e,this.aspect,this.near,this.far)},i.PerspectiveCamera.prototype.copy=function(e){return i.Camera.prototype.copy.call(this,e),this.focalLength=e.focalLength,this.zoom=e.zoom,this.fov=e.fov,this.aspect=e.aspect,this.near=e.near,this.far=e.far,this},i.PerspectiveCamera.prototype.toJSON=function(e){var t=i.Object3D.prototype.toJSON.call(this,e);return t.object.focalLength=this.focalLength,t.object.zoom=this.zoom,t.object.fov=this.fov,t.object.aspect=this.aspect,t.object.near=this.near,t.object.far=this.far,t},i.StereoCamera=function(){this.type="StereoCamera",this.aspect=1,this.cameraL=new i.PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new i.PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1},i.StereoCamera.prototype={constructor:i.StereoCamera,update:function(){var e,t,r,n,o,a=new i.Matrix4,s=new i.Matrix4;return function(u){var c=e!==u.focalLength||t!==u.fov||r!==u.aspect*this.aspect||n!==u.near||o!==u.far;if(c){e=u.focalLength,t=u.fov,r=u.aspect*this.aspect,n=u.near,o=u.far;var l,h,p=u.projectionMatrix.clone(),d=.032,f=d*n/e,m=n*Math.tan(i.Math.degToRad(.5*t));s.elements[12]=-d,a.elements[12]=d,l=-m*r+f,h=m*r+f,p.elements[0]=2*n/(h-l),p.elements[8]=(h+l)/(h-l),this.cameraL.projectionMatrix.copy(p),l=-m*r-f,h=m*r-f,p.elements[0]=2*n/(h-l),p.elements[8]=(h+l)/(h-l),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(s),this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(a)}}()},i.Light=function(e,t){i.Object3D.call(this),this.type="Light",this.color=new i.Color(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0},i.Light.prototype=Object.create(i.Object3D.prototype),i.Light.prototype.constructor=i.Light,i.Light.prototype.copy=function(e){return i.Object3D.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},i.Light.prototype.toJSON=function(e){var t=i.Object3D.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.exponent&&(t.object.exponent=this.exponent),t},i.LightShadow=function(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new i.Vector2(512,512),this.map=null,this.matrix=new i.Matrix4},i.LightShadow.prototype={constructor:i.LightShadow,copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)}},i.AmbientLight=function(e,t){i.Light.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0},i.AmbientLight.prototype=Object.create(i.Light.prototype),i.AmbientLight.prototype.constructor=i.AmbientLight,i.DirectionalLight=function(e,t){i.Light.call(this,e,t),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new i.Object3D,this.shadow=new i.LightShadow(new i.OrthographicCamera(-5,5,5,-5,.5,500))},i.DirectionalLight.prototype=Object.create(i.Light.prototype),i.DirectionalLight.prototype.constructor=i.DirectionalLight,i.DirectionalLight.prototype.copy=function(e){return i.Light.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},i.HemisphereLight=function(e,t,r){i.Light.call(this,e,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new i.Color(t)},i.HemisphereLight.prototype=Object.create(i.Light.prototype),i.HemisphereLight.prototype.constructor=i.HemisphereLight,i.HemisphereLight.prototype.copy=function(e){return i.Light.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this},i.PointLight=function(e,t,r,n){i.Light.call(this,e,t),this.type="PointLight",this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new i.LightShadow(new i.PerspectiveCamera(90,1,.5,500))},i.PointLight.prototype=Object.create(i.Light.prototype),i.PointLight.prototype.constructor=i.PointLight,i.PointLight.prototype.copy=function(e){return i.Light.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this},i.SpotLight=function(e,t,r,n,o,a){i.Light.call(this,e,t),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new i.Object3D,this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.exponent=void 0!==o?o:10,this.decay=void 0!==a?a:1,this.shadow=new i.LightShadow(new i.PerspectiveCamera(50,1,.5,500))},i.SpotLight.prototype=Object.create(i.Light.prototype),i.SpotLight.prototype.constructor=i.SpotLight,i.SpotLight.prototype.copy=function(e){return i.Light.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.exponent=e.exponent,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},i.Cache={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){return this.enabled!==!1?this.files[e]:void 0},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},i.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},i.Loader.prototype={constructor:i.Loader,crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,r){for(var n=[],i=0;i<e.length;++i)n[i]=this.createMaterial(e[i],t,r);return n},createMaterial:function(){var e,t,r;return function(n,o,a){function s(e,r,n,s,c){var l,h=o+e,p=i.Loader.Handlers.get(h);null!==p?l=p.load(h):(t.setCrossOrigin(a),l=t.load(h)),void 0!==r&&(l.repeat.fromArray(r),1!==r[0]&&(l.wrapS=i.RepeatWrapping),1!==r[1]&&(l.wrapT=i.RepeatWrapping)),void 0!==n&&l.offset.fromArray(n),void 0!==s&&("repeat"===s[0]&&(l.wrapS=i.RepeatWrapping),"mirror"===s[0]&&(l.wrapS=i.MirroredRepeatWrapping),"repeat"===s[1]&&(l.wrapT=i.RepeatWrapping),"mirror"===s[1]&&(l.wrapT=i.MirroredRepeatWrapping)),void 0!==c&&(l.anisotropy=c);var d=i.Math.generateUUID();return u[d]=l,d}void 0===e&&(e=new i.Color),void 0===t&&(t=new i.TextureLoader),void 0===r&&(r=new i.MaterialLoader);var u={},c={uuid:i.Math.generateUUID(),type:"MeshLambertMaterial"};for(var l in n){var h=n[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=i[h];break;case"colorAmbient":console.warn("THREE.Loader.createMaterial: colorAmbient is no longer supported");break;case"colorDiffuse":c.color=e.fromArray(h).getHex();break;case"colorSpecular":c.specular=e.fromArray(h).getHex();break;case"colorEmissive":c.emissive=e.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial");break;case"mapDiffuse":c.map=s(h,n.mapDiffuseRepeat,n.mapDiffuseOffset,n.mapDiffuseWrap,n.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":c.lightMap=s(h,n.mapLightRepeat,n.mapLightOffset,n.mapLightWrap,n.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(h,n.mapAORepeat,n.mapAOOffset,n.mapAOWrap,n.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(h,n.mapBumpRepeat,n.mapBumpOffset,n.mapBumpWrap,n.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(h,n.mapNormalRepeat,n.mapNormalOffset,n.mapNormalWrap,n.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(h,n.mapSpecularRepeat,n.mapSpecularOffset,n.mapSpecularWrap,n.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":c.alphaMap=s(h,n.mapAlphaRepeat,n.mapAlphaOffset,n.mapAlphaWrap,n.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=i.BackSide;break;case"doubleSided":c.side=i.DoubleSide;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=h;break;case"vertexColors":h===!0&&(c.vertexColors=i.VertexColors),"face"===h&&(c.vertexColors=i.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),r.setTextures(u),r.parse(c)}}()},i.Loader.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,r=0,n=t.length;n>r;r+=2){var i=t[r],o=t[r+1];if(i.test(e))return o}return null}},i.XHRLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager},i.XHRLoader.prototype={constructor:i.XHRLoader,load:function(e,t,r,n){void 0!==this.path&&(e=this.path+e);var o=this,a=i.Cache.get(e);if(void 0!==a)return t&&setTimeout(function(){t(a)},0),a;var s=new XMLHttpRequest;return s.overrideMimeType("text/plain"),s.open("GET",e,!0),s.addEventListener("load",function(r){var a=r.target.response;i.Cache.add(e,a),200===this.status?(t&&t(a),o.manager.itemEnd(e)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),t&&t(a),o.manager.itemEnd(e)):(n&&n(r),o.manager.itemError(e))},!1),void 0!==r&&s.addEventListener("progress",function(e){r(e)},!1),s.addEventListener("error",function(t){n&&n(t),o.manager.itemError(e)},!1),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.send(null),o.manager.itemStart(e),s},setPath:function(e){this.path=e},setResponseType:function(e){this.responseType=e},setWithCredentials:function(e){this.withCredentials=e}},i.FontLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager},i.FontLoader.prototype={constructor:i.FontLoader,load:function(e,t,r,n){var o=new i.XHRLoader(this.manager);o.load(e,function(e){t(new i.Font(JSON.parse(e.substring(65,e.length-2))))},r,n)}},i.ImageLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager},i.ImageLoader.prototype={constructor:i.ImageLoader,load:function(e,t,r,n){void 0!==this.path&&(e=this.path+e);var o=this,a=i.Cache.get(e);if(void 0!==a)return o.manager.itemStart(e),t?setTimeout(function(){t(a),o.manager.itemEnd(e)},0):o.manager.itemEnd(e),a;var s=document.createElement("img");return s.addEventListener("load",function(r){i.Cache.add(e,this),t&&t(this),o.manager.itemEnd(e)},!1),void 0!==r&&s.addEventListener("progress",function(e){r(e)},!1),s.addEventListener("error",function(t){n&&n(t),o.manager.itemError(e)},!1),void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e}},i.JSONLoader=function(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:i.DefaultLoadingManager,this.withCredentials=!1},i.JSONLoader.prototype={constructor:i.JSONLoader,get statusDomElement(){return void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div")),console.warn("THREE.JSONLoader: .statusDomElement has been removed."),this._statusDomElement},load:function(e,t,r,n){var o=this,a=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:i.Loader.prototype.extractUrlBase(e),s=new i.XHRLoader(this.manager);s.setWithCredentials(this.withCredentials),s.load(e,function(r){var n=JSON.parse(r),i=n.metadata;if(void 0!==i){var s=i.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}}var u=o.parse(n,a);t(u.geometry,u.materials)},r,n)},setTexturePath:function(e){this.texturePath=e},parse:function(e,t){function r(t){function r(e,t){return e&1<<t}var n,o,a,u,c,l,h,p,d,f,m,v,g,y,b,_,x,w,E,S,C,M,A,T,R,O,P,D=e.faces,I=e.vertices,N=e.normals,k=e.colors,L=0;if(void 0!==e.uvs){for(n=0;n<e.uvs.length;n++)e.uvs[n].length&&L++;for(n=0;L>n;n++)s.faceVertexUvs[n]=[]}for(u=0,c=I.length;c>u;)w=new i.Vector3,w.x=I[u++]*t,w.y=I[u++]*t,w.z=I[u++]*t,s.vertices.push(w);for(u=0,c=D.length;c>u;)if(f=D[u++],m=r(f,0),v=r(f,1),g=r(f,3),y=r(f,4),b=r(f,5),_=r(f,6),x=r(f,7),m){if(S=new i.Face3,S.a=D[u],S.b=D[u+1],S.c=D[u+3],C=new i.Face3,C.a=D[u+1],C.b=D[u+2],C.c=D[u+3],u+=4,v&&(d=D[u++],S.materialIndex=d,C.materialIndex=d),a=s.faces.length,g)for(n=0;L>n;n++)for(T=e.uvs[n],s.faceVertexUvs[n][a]=[],s.faceVertexUvs[n][a+1]=[],o=0;4>o;o++)p=D[u++],O=T[2*p],P=T[2*p+1],R=new i.Vector2(O,P),2!==o&&s.faceVertexUvs[n][a].push(R),0!==o&&s.faceVertexUvs[n][a+1].push(R);if(y&&(h=3*D[u++],S.normal.set(N[h++],N[h++],N[h]),C.normal.copy(S.normal)),b)for(n=0;4>n;n++)h=3*D[u++],A=new i.Vector3(N[h++],N[h++],N[h]),2!==n&&S.vertexNormals.push(A),0!==n&&C.vertexNormals.push(A);if(_&&(l=D[u++],M=k[l],S.color.setHex(M),C.color.setHex(M)),x)for(n=0;4>n;n++)l=D[u++],M=k[l],2!==n&&S.vertexColors.push(new i.Color(M)),0!==n&&C.vertexColors.push(new i.Color(M));s.faces.push(S),s.faces.push(C)}else{if(E=new i.Face3,E.a=D[u++],E.b=D[u++],E.c=D[u++],v&&(d=D[u++],E.materialIndex=d),a=s.faces.length,g)for(n=0;L>n;n++)for(T=e.uvs[n],s.faceVertexUvs[n][a]=[],o=0;3>o;o++)p=D[u++],O=T[2*p],P=T[2*p+1],R=new i.Vector2(O,P),s.faceVertexUvs[n][a].push(R);if(y&&(h=3*D[u++],E.normal.set(N[h++],N[h++],N[h])),b)for(n=0;3>n;n++)h=3*D[u++],A=new i.Vector3(N[h++],N[h++],N[h]),E.vertexNormals.push(A);if(_&&(l=D[u++],E.color.setHex(k[l])),x)for(n=0;3>n;n++)l=D[u++],E.vertexColors.push(new i.Color(k[l]));s.faces.push(E)}}function n(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var r=0,n=e.skinWeights.length;n>r;r+=t){var o=e.skinWeights[r],a=t>1?e.skinWeights[r+1]:0,u=t>2?e.skinWeights[r+2]:0,c=t>3?e.skinWeights[r+3]:0;s.skinWeights.push(new i.Vector4(o,a,u,c))}if(e.skinIndices)for(var r=0,n=e.skinIndices.length;n>r;r+=t){var l=e.skinIndices[r],h=t>1?e.skinIndices[r+1]:0,p=t>2?e.skinIndices[r+2]:0,d=t>3?e.skinIndices[r+3]:0;s.skinIndices.push(new i.Vector4(l,h,p,d))}s.bones=e.bones,s.bones&&s.bones.length>0&&(s.skinWeights.length!==s.skinIndices.length||s.skinIndices.length!==s.vertices.length)&&console.warn("When skinning, number of vertices ("+s.vertices.length+"), skinIndices ("+s.skinIndices.length+"), and skinWeights ("+s.skinWeights.length+") should match.")}function o(t){if(void 0!==e.morphTargets)for(var r=0,n=e.morphTargets.length;n>r;r++){s.morphTargets[r]={},s.morphTargets[r].name=e.morphTargets[r].name,s.morphTargets[r].vertices=[];for(var o=s.morphTargets[r].vertices,a=e.morphTargets[r].vertices,u=0,c=a.length;c>u;u+=3){var l=new i.Vector3;l.x=a[u]*t,l.y=a[u+1]*t,l.z=a[u+2]*t,o.push(l)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=s.faces,p=e.morphColors[0].colors,r=0,n=h.length;n>r;r++)h[r].color.fromArray(p,3*r)}}function a(){var t=[],r=[];void 0!==e.animation&&r.push(e.animation),void 0!==e.animations&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var n=0;n<r.length;n++){var o=i.AnimationClip.parseAnimation(r[n],s.bones);o&&t.push(o)}if(s.morphTargets){var a=i.AnimationClip.CreateClipsFromMorphTargetSequences(s.morphTargets,10);t=t.concat(a)}t.length>0&&(s.animations=t)}var s=new i.Geometry,u=void 0!==e.scale?1/e.scale:1;if(r(u),n(),o(u),a(),s.computeFaceNormals(),s.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:s};var c=i.Loader.prototype.initMaterials(e.materials,t,this.crossOrigin);return{geometry:s,materials:c}}},i.LoadingManager=function(e,t,r){var n=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){a++,i===!1&&void 0!==n.onStart&&n.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==n.onProgress&&n.onProgress(e,o,a),o===a&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)}},i.DefaultLoadingManager=new i.LoadingManager,i.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager},i.BufferGeometryLoader.prototype={constructor:i.BufferGeometryLoader,load:function(e,t,r,n){var o=this,a=new i.XHRLoader(o.manager);a.load(e,function(e){t(o.parse(JSON.parse(e)))},r,n)},parse:function(e){var t=new i.BufferGeometry,r=e.data.index,n={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==r){var o=new n[r.type](r.array);t.setIndex(new i.BufferAttribute(o,1))}var a=e.data.attributes;for(var s in a){var u=a[s],o=new n[u.type](u.array);t.addAttribute(s,new i.BufferAttribute(o,u.itemSize))}var c=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==c)for(var l=0,h=c.length;l!==h;++l){var p=c[l];t.addGroup(p.start,p.count,p.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var f=new i.Vector3;void 0!==d.center&&f.fromArray(d.center),t.boundingSphere=new i.Sphere(f,d.radius)}return t}},i.MaterialLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager,this.textures={}},i.MaterialLoader.prototype={constructor:i.MaterialLoader,load:function(e,t,r,n){var o=this,a=new i.XHRLoader(o.manager);a.load(e,function(e){t(o.parse(JSON.parse(e)))},r,n)},setTextures:function(e){this.textures=e},getTexture:function(e){var t=this.textures;return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]},parse:function(e){var t=new i[e.type];if(void 0!==e.uuid&&(t.uuid=e.uuid),void 0!==e.name&&(t.name=e.name),void 0!==e.color&&t.color.setHex(e.color),void 0!==e.roughness&&(t.roughness=e.roughness),void 0!==e.metalness&&(t.metalness=e.metalness),void 0!==e.emissive&&t.emissive.setHex(e.emissive),void 0!==e.specular&&t.specular.setHex(e.specular),void 0!==e.shininess&&(t.shininess=e.shininess),void 0!==e.uniforms&&(t.uniforms=e.uniforms),void 0!==e.vertexShader&&(t.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(t.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(t.vertexColors=e.vertexColors),void 0!==e.shading&&(t.shading=e.shading),void 0!==e.blending&&(t.blending=e.blending),void 0!==e.side&&(t.side=e.side),void 0!==e.opacity&&(t.opacity=e.opacity),void 0!==e.transparent&&(t.transparent=e.transparent),void 0!==e.alphaTest&&(t.alphaTest=e.alphaTest),void 0!==e.depthTest&&(t.depthTest=e.depthTest),void 0!==e.depthWrite&&(t.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(t.colorWrite=e.colorWrite),void 0!==e.wireframe&&(t.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(t.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.size&&(t.size=e.size),void 0!==e.sizeAttenuation&&(t.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(t.map=this.getTexture(e.map)),void 0!==e.alphaMap&&(t.alphaMap=this.getTexture(e.alphaMap),t.transparent=!0),void 0!==e.bumpMap&&(t.bumpMap=this.getTexture(e.bumpMap)),void 0!==e.bumpScale&&(t.bumpScale=e.bumpScale),void 0!==e.normalMap&&(t.normalMap=this.getTexture(e.normalMap)),void 0!==e.normalScale){var r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),t.normalScale=(new i.Vector2).fromArray(r)}if(void 0!==e.displacementMap&&(t.displacementMap=this.getTexture(e.displacementMap)),void 0!==e.displacementScale&&(t.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(t.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(t.roughnessMap=this.getTexture(e.roughnessMap)),void 0!==e.metalnessMap&&(t.metalnessMap=this.getTexture(e.metalnessMap)),void 0!==e.emissiveMap&&(t.emissiveMap=this.getTexture(e.emissiveMap)),void 0!==e.emissiveIntensity&&(t.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(t.specularMap=this.getTexture(e.specularMap)),void 0!==e.envMap&&(t.envMap=this.getTexture(e.envMap),t.combine=i.MultiplyOperation),e.reflectivity&&(t.reflectivity=e.reflectivity),void 0!==e.lightMap&&(t.lightMap=this.getTexture(e.lightMap)),void 0!==e.lightMapIntensity&&(t.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(t.aoMap=this.getTexture(e.aoMap)),void 0!==e.aoMapIntensity&&(t.aoMapIntensity=e.aoMapIntensity),void 0!==e.materials)for(var n=0,o=e.materials.length;o>n;n++)t.materials.push(this.parse(e.materials[n]));return t}},i.ObjectLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager,this.texturePath=""},i.ObjectLoader.prototype={constructor:i.ObjectLoader,load:function(e,t,r,n){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var o=this,a=new i.XHRLoader(o.manager);a.load(e,function(e){o.parse(JSON.parse(e),t)},r,n)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var r=this.parseGeometries(e.geometries),n=this.parseImages(e.images,function(){void 0!==t&&t(a)}),i=this.parseTextures(e.textures,n),o=this.parseMaterials(e.materials,i),a=this.parseObject(e.object,r,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),(void 0===e.images||0===e.images.length)&&void 0!==t&&t(a),a},parseGeometries:function(e){var t={};if(void 0!==e)for(var r=new i.JSONLoader,n=new i.BufferGeometryLoader,o=0,a=e.length;a>o;o++){var s,u=e[o];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new i[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"CubeGeometry":s=new i.BoxGeometry(u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleBufferGeometry":s=new i.CircleBufferGeometry(u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CircleGeometry":s=new i.CircleGeometry(u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":s=new i.CylinderGeometry(u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":s=new i.SphereGeometry(u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"SphereBufferGeometry":s=new i.SphereBufferGeometry(u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":s=new i.DodecahedronGeometry(u.radius,u.detail);break;case"IcosahedronGeometry":s=new i.IcosahedronGeometry(u.radius,u.detail);break;case"OctahedronGeometry":s=new i.OctahedronGeometry(u.radius,u.detail);break;case"TetrahedronGeometry":s=new i.TetrahedronGeometry(u.radius,u.detail);break;case"RingGeometry":s=new i.RingGeometry(u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":s=new i.TorusGeometry(u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":s=new i.TorusKnotGeometry(u.radius,u.tube,u.radialSegments,u.tubularSegments,u.p,u.q,u.heightScale);break;case"LatheGeometry":s=new i.LatheGeometry(u.points,u.segments,u.phiStart,u.phiLength);
break;case"BufferGeometry":s=n.parse(u);break;case"Geometry":s=r.parse(u.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),t[u.uuid]=s}return t},parseMaterials:function(e,t){var r={};if(void 0!==e){var n=new i.MaterialLoader;n.setTextures(t);for(var o=0,a=e.length;a>o;o++){var s=n.parse(e[o]);r[s.uuid]=s}}return r},parseAnimations:function(e){for(var t=[],r=0;r<e.length;r++){var n=i.AnimationClip.parse(e[r]);t.push(n)}return t},parseImages:function(e,t){function r(e){return n.manager.itemStart(e),s.load(e,function(){n.manager.itemEnd(e)})}var n=this,o={};if(void 0!==e&&e.length>0){var a=new i.LoadingManager(t),s=new i.ImageLoader(a);s.setCrossOrigin(this.crossOrigin);for(var u=0,c=e.length;c>u;u++){var l=e[u],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.texturePath+l.url;o[l.uuid]=r(h)}}return o},parseTextures:function(e,t){function r(e){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),i[e])}var n={};if(void 0!==e)for(var o=0,a=e.length;a>o;o++){var s=e[o];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var u=new i.Texture(t[s.image]);u.needsUpdate=!0,u.uuid=s.uuid,void 0!==s.name&&(u.name=s.name),void 0!==s.mapping&&(u.mapping=r(s.mapping)),void 0!==s.offset&&(u.offset=new i.Vector2(s.offset[0],s.offset[1])),void 0!==s.repeat&&(u.repeat=new i.Vector2(s.repeat[0],s.repeat[1])),void 0!==s.minFilter&&(u.minFilter=r(s.minFilter)),void 0!==s.magFilter&&(u.magFilter=r(s.magFilter)),void 0!==s.anisotropy&&(u.anisotropy=s.anisotropy),Array.isArray(s.wrap)&&(u.wrapS=r(s.wrap[0]),u.wrapT=r(s.wrap[1])),n[s.uuid]=u}return n},parseObject:function(){var e=new i.Matrix4;return function(t,r,n){function o(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),r[e]}function a(e){return void 0!==e?(void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]):void 0}var s;switch(t.type){case"Scene":s=new i.Scene;break;case"PerspectiveCamera":s=new i.PerspectiveCamera(t.fov,t.aspect,t.near,t.far);break;case"OrthographicCamera":s=new i.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":s=new i.AmbientLight(t.color,t.intensity);break;case"DirectionalLight":s=new i.DirectionalLight(t.color,t.intensity);break;case"PointLight":s=new i.PointLight(t.color,t.intensity,t.distance,t.decay);break;case"SpotLight":s=new i.SpotLight(t.color,t.intensity,t.distance,t.angle,t.exponent,t.decay);break;case"HemisphereLight":s=new i.HemisphereLight(t.color,t.groundColor,t.intensity);break;case"Mesh":var u=o(t.geometry),c=a(t.material);s=u.bones&&u.bones.length>0?new i.SkinnedMesh(u,c):new i.Mesh(u,c);break;case"LOD":s=new i.LOD;break;case"Line":s=new i.Line(o(t.geometry),a(t.material),t.mode);break;case"PointCloud":case"Points":s=new i.Points(o(t.geometry),a(t.material));break;case"Sprite":s=new i.Sprite(a(t.material));break;case"Group":s=new i.Group;break;default:s=new i.Object3D}if(s.uuid=t.uuid,void 0!==t.name&&(s.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(s.position,s.quaternion,s.scale)):(void 0!==t.position&&s.position.fromArray(t.position),void 0!==t.rotation&&s.rotation.fromArray(t.rotation),void 0!==t.scale&&s.scale.fromArray(t.scale)),void 0!==t.castShadow&&(s.castShadow=t.castShadow),void 0!==t.receiveShadow&&(s.receiveShadow=t.receiveShadow),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.userData&&(s.userData=t.userData),void 0!==t.children)for(var l in t.children)s.add(this.parseObject(t.children[l],r,n));if("LOD"===t.type)for(var h=t.levels,p=0;p<h.length;p++){var d=h[p],l=s.getObjectByProperty("uuid",d.object);void 0!==l&&s.addLevel(l,d.distance)}return s}}()},i.TextureLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager},i.TextureLoader.prototype={constructor:i.TextureLoader,load:function(e,t,r,n){var o=new i.Texture,a=new i.ImageLoader(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(e){o.image=e,o.needsUpdate=!0,void 0!==t&&t(o)},r,n),o},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e}},i.CubeTextureLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager},i.CubeTextureLoader.prototype={constructor:i.CubeTextureLoader,load:function(e,t,r,n){function o(r){s.load(e[r],function(e){a.images[r]=e,u++,6===u&&(a.needsUpdate=!0,t&&t(a))},void 0,n)}var a=new i.CubeTexture([]),s=new i.ImageLoader(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);for(var u=0,c=0;c<e.length;++c)o(c);return a},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e}},i.DataTextureLoader=i.BinaryTextureLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager,this._parser=null},i.BinaryTextureLoader.prototype={constructor:i.BinaryTextureLoader,load:function(e,t,r,n){var o=this,a=new i.DataTexture,s=new i.XHRLoader(this.manager);return s.setResponseType("arraybuffer"),s.load(e,function(e){var r=o._parser(e);r&&(void 0!==r.image?a.image=r.image:void 0!==r.data&&(a.image.width=r.width,a.image.height=r.height,a.image.data=r.data),a.wrapS=void 0!==r.wrapS?r.wrapS:i.ClampToEdgeWrapping,a.wrapT=void 0!==r.wrapT?r.wrapT:i.ClampToEdgeWrapping,a.magFilter=void 0!==r.magFilter?r.magFilter:i.LinearFilter,a.minFilter=void 0!==r.minFilter?r.minFilter:i.LinearMipMapLinearFilter,a.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(a.format=r.format),void 0!==r.type&&(a.type=r.type),void 0!==r.mipmaps&&(a.mipmaps=r.mipmaps),1===r.mipmapCount&&(a.minFilter=i.LinearFilter),a.needsUpdate=!0,t&&t(a,r))},r,n),a}},i.CompressedTextureLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager,this._parser=null},i.CompressedTextureLoader.prototype={constructor:i.CompressedTextureLoader,load:function(e,t,r,n){function o(o){c.load(e[o],function(e){var r=a._parser(e,!0);s[o]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},l+=1,6===l&&(1===r.mipmapCount&&(u.minFilter=i.LinearFilter),u.format=r.format,u.needsUpdate=!0,t&&t(u))},r,n)}var a=this,s=[],u=new i.CompressedTexture;u.image=s;var c=new i.XHRLoader(this.manager);if(c.setPath(this.path),c.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,h=0,p=e.length;p>h;++h)o(h);else c.load(e,function(e){var r=a._parser(e,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,o=0;n>o;o++){s[o]={mipmaps:[]};for(var c=0;c<r.mipmapCount;c++)s[o].mipmaps.push(r.mipmaps[o*r.mipmapCount+c]),s[o].format=r.format,s[o].width=r.width,s[o].height=r.height}else u.image.width=r.width,u.image.height=r.height,u.mipmaps=r.mipmaps;1===r.mipmapCount&&(u.minFilter=i.LinearFilter),u.format=r.format,u.needsUpdate=!0,t&&t(u)},r,n);return u},setPath:function(e){this.path=e}},i.Material=function(){Object.defineProperty(this,"id",{value:i.MaterialIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="Material",this.side=i.FrontSide,this.opacity=1,this.transparent=!1,this.blending=i.NormalBlending,this.blendSrc=i.SrcAlphaFactor,this.blendDst=i.OneMinusSrcAlphaFactor,this.blendEquation=i.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=i.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},i.Material.prototype={constructor:i.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){e===!0&&this.update(),this._needsUpdate=e},setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r){var n=this[t];void 0!==n?n instanceof i.Color?n.set(r):n instanceof i.Vector3&&r instanceof i.Vector3?n.copy(r):"overdraw"===t?this[t]=Number(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}var r=void 0===e;r&&(e={textures:{},images:{}});var n={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color instanceof i.Color&&(n.color=this.color.getHex()),.5!==this.roughness&&(n.roughness=this.roughness),.5!==this.metalness&&(n.metalness=this.metalness),this.emissive instanceof i.Color&&(n.emissive=this.emissive.getHex()),this.specular instanceof i.Color&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),this.map instanceof i.Texture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap instanceof i.Texture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap instanceof i.Texture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap instanceof i.Texture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap instanceof i.Texture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap instanceof i.Texture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap instanceof i.Texture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap instanceof i.Texture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap instanceof i.Texture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap instanceof i.Texture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap instanceof i.Texture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),void 0!==this.vertexColors&&this.vertexColors!==i.NoColors&&(n.vertexColors=this.vertexColors),void 0!==this.shading&&this.shading!==i.SmoothShading&&(n.shading=this.shading),void 0!==this.blending&&this.blending!==i.NormalBlending&&(n.blending=this.blending),void 0!==this.side&&this.side!==i.FrontSide&&(n.side=this.side),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),r){var o=t(e.textures),a=t(e.images);o.length>0&&(n.textures=o),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.side=e.side,this.opacity=e.opacity,this.transparent=e.transparent,this.blending=e.blending,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.alphaTest=e.alphaTest,this.overdraw=e.overdraw,this.visible=e.visible,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.Material.prototype),i.MaterialIdCount=0,i.LineBasicMaterial=function(e){i.Material.call(this),this.type="LineBasicMaterial",this.color=new i.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=i.NoColors,this.fog=!0,this.setValues(e)},i.LineBasicMaterial.prototype=Object.create(i.Material.prototype),i.LineBasicMaterial.prototype.constructor=i.LineBasicMaterial,i.LineBasicMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.vertexColors=e.vertexColors,this.fog=e.fog,this},i.LineDashedMaterial=function(e){i.Material.call(this),this.type="LineDashedMaterial",this.color=new i.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=i.NoColors,this.fog=!0,this.setValues(e)},i.LineDashedMaterial.prototype=Object.create(i.Material.prototype),i.LineDashedMaterial.prototype.constructor=i.LineDashedMaterial,i.LineDashedMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this.vertexColors=e.vertexColors,this.fog=e.fog,this},i.MeshBasicMaterial=function(e){i.Material.call(this),this.type="MeshBasicMaterial",this.color=new i.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=i.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=i.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},i.MeshBasicMaterial.prototype=Object.create(i.Material.prototype),i.MeshBasicMaterial.prototype.constructor=i.MeshBasicMaterial,i.MeshBasicMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},i.MeshLambertMaterial=function(e){i.Material.call(this),this.type="MeshLambertMaterial",this.color=new i.Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new i.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=i.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},i.MeshLambertMaterial.prototype=Object.create(i.Material.prototype),i.MeshLambertMaterial.prototype.constructor=i.MeshLambertMaterial,i.MeshLambertMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},i.MeshPhongMaterial=function(e){i.Material.call(this),this.type="MeshPhongMaterial",this.color=new i.Color(16777215),this.specular=new i.Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new i.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=i.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=i.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},i.MeshPhongMaterial.prototype=Object.create(i.Material.prototype),i.MeshPhongMaterial.prototype.constructor=i.MeshPhongMaterial,i.MeshPhongMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},i.MeshStandardMaterial=function(e){i.Material.call(this),this.type="MeshStandardMaterial",this.color=new i.Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new i.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.fog=!0,this.shading=i.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},i.MeshStandardMaterial.prototype=Object.create(i.Material.prototype),i.MeshStandardMaterial.prototype.constructor=i.MeshStandardMaterial,i.MeshStandardMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},i.MeshDepthMaterial=function(e){i.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},i.MeshDepthMaterial.prototype=Object.create(i.Material.prototype),i.MeshDepthMaterial.prototype.constructor=i.MeshDepthMaterial,i.MeshDepthMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},i.MeshNormalMaterial=function(e){i.Material.call(this,e),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},i.MeshNormalMaterial.prototype=Object.create(i.Material.prototype),i.MeshNormalMaterial.prototype.constructor=i.MeshNormalMaterial,i.MeshNormalMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},i.MultiMaterial=function(e){this.uuid=i.Math.generateUUID(),this.type="MultiMaterial",this.materials=e instanceof Array?e:[],this.visible=!0},i.MultiMaterial.prototype={constructor:i.MultiMaterial,toJSON:function(e){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},r=this.materials,n=0,i=r.length;i>n;n++){var o=r[n].toJSON(e);delete o.metadata,t.materials.push(o)}return t.visible=this.visible,t},clone:function(){for(var e=new this.constructor,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e.visible=this.visible,e}},i.PointsMaterial=function(e){i.Material.call(this),this.type="PointsMaterial",this.color=new i.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=i.NoColors,this.fog=!0,this.setValues(e)},i.PointsMaterial.prototype=Object.create(i.Material.prototype),i.PointsMaterial.prototype.constructor=i.PointsMaterial,i.PointsMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.vertexColors=e.vertexColors,this.fog=e.fog,this},i.ShaderMaterial=function(e){i.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=i.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))},i.ShaderMaterial.prototype=Object.create(i.Material.prototype),i.ShaderMaterial.prototype.constructor=i.ShaderMaterial,i.ShaderMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=i.UniformsUtils.clone(e.uniforms),this.defines=e.defines,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},i.ShaderMaterial.prototype.toJSON=function(e){var t=i.Material.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},i.RawShaderMaterial=function(e){i.ShaderMaterial.call(this,e),this.type="RawShaderMaterial"},i.RawShaderMaterial.prototype=Object.create(i.ShaderMaterial.prototype),i.RawShaderMaterial.prototype.constructor=i.RawShaderMaterial,i.SpriteMaterial=function(e){i.Material.call(this),this.type="SpriteMaterial",this.color=new i.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},i.SpriteMaterial.prototype=Object.create(i.Material.prototype),i.SpriteMaterial.prototype.constructor=i.SpriteMaterial,i.SpriteMaterial.prototype.copy=function(e){return i.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.fog=e.fog,this},i.Texture=function(e,t,r,n,o,a,s,u,c){Object.defineProperty(this,"id",{value:i.TextureIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==e?e:i.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:i.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:i.ClampToEdgeWrapping,this.wrapT=void 0!==n?n:i.ClampToEdgeWrapping,this.magFilter=void 0!==o?o:i.LinearFilter,this.minFilter=void 0!==a?a:i.LinearMipMapLinearFilter,this.anisotropy=void 0!==c?c:1,this.format=void 0!==s?s:i.RGBAFormat,this.type=void 0!==u?u:i.UnsignedByteType,this.offset=new i.Vector2(0,0),this.repeat=new i.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.version=0,this.onUpdate=null},i.Texture.DEFAULT_IMAGE=void 0,i.Texture.DEFAULT_MAPPING=i.UVMapping,i.Texture.prototype={constructor:i.Texture,set needsUpdate(e){e===!0&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this},toJSON:function(e){function t(e){var t;return void 0!==e.toDataURL?t=e:(t=document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height)),t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=i.Math.generateUUID()),void 0===e.images[n.uuid]&&(e.images[n.uuid]={uuid:n.uuid,url:t(n)}),r.image=n.uuid}return e.textures[this.uuid]=r,r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===i.UVMapping){if(e.multiply(this.repeat),e.add(this.offset),e.x<0||e.x>1)switch(this.wrapS){case i.RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case i.ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case i.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case i.RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case i.ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case i.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}},i.EventDispatcher.prototype.apply(i.Texture.prototype),i.TextureIdCount=0,i.CanvasTexture=function(e,t,r,n,o,a,s,u,c){i.Texture.call(this,e,t,r,n,o,a,s,u,c),this.needsUpdate=!0},i.CanvasTexture.prototype=Object.create(i.Texture.prototype),i.CanvasTexture.prototype.constructor=i.CanvasTexture,i.CubeTexture=function(e,t,r,n,o,a,s,u,c){t=void 0!==t?t:i.CubeReflectionMapping,i.Texture.call(this,e,t,r,n,o,a,s,u,c),this.images=e,this.flipY=!1},i.CubeTexture.prototype=Object.create(i.Texture.prototype),i.CubeTexture.prototype.constructor=i.CubeTexture,i.CubeTexture.prototype.copy=function(e){return i.Texture.prototype.copy.call(this,e),this.images=e.images,this},i.CompressedTexture=function(e,t,r,n,o,a,s,u,c,l,h){i.Texture.call(this,null,a,s,u,c,l,n,o,h),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1},i.CompressedTexture.prototype=Object.create(i.Texture.prototype),i.CompressedTexture.prototype.constructor=i.CompressedTexture,i.DataTexture=function(e,t,r,n,o,a,s,u,c,l,h){i.Texture.call(this,null,a,s,u,c,l,n,o,h),this.image={data:e,width:t,height:r},this.magFilter=void 0!==c?c:i.NearestFilter,this.minFilter=void 0!==l?l:i.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},i.DataTexture.prototype=Object.create(i.Texture.prototype),i.DataTexture.prototype.constructor=i.DataTexture,i.VideoTexture=function(e,t,r,n,o,a,s,u,c){function l(){requestAnimationFrame(l),e.readyState===e.HAVE_ENOUGH_DATA&&(h.needsUpdate=!0)}i.Texture.call(this,e,t,r,n,o,a,s,u,c),this.generateMipmaps=!1;var h=this;l()},i.VideoTexture.prototype=Object.create(i.Texture.prototype),i.VideoTexture.prototype.constructor=i.VideoTexture,i.Group=function(){i.Object3D.call(this),this.type="Group"},i.Group.prototype=Object.create(i.Object3D.prototype),i.Group.prototype.constructor=i.Group,i.Points=function(e,t){i.Object3D.call(this),this.type="Points",this.geometry=void 0!==e?e:new i.Geometry,this.material=void 0!==t?t:new i.PointsMaterial({color:16777215*Math.random()})},i.Points.prototype=Object.create(i.Object3D.prototype),i.Points.prototype.constructor=i.Points,i.Points.prototype.raycast=function(){var e=new i.Matrix4,t=new i.Ray,r=new i.Sphere;return function(n,o){function a(e,r){var i=t.distanceSqToPoint(e);if(p>i){var a=t.closestPointToPoint(e);a.applyMatrix4(c);var u=n.ray.origin.distanceTo(a);if(u<n.near||u>n.far)return;o.push({distance:u,distanceToRay:Math.sqrt(i),point:a.clone(),index:r,face:null,object:s})}}var s=this,u=this.geometry,c=this.matrixWorld,l=n.params.Points.threshold;if(null===u.boundingSphere&&u.computeBoundingSphere(),r.copy(u.boundingSphere),r.applyMatrix4(c),n.ray.intersectsSphere(r)!==!1){e.getInverse(c),t.copy(n.ray).applyMatrix4(e);var h=l/((this.scale.x+this.scale.y+this.scale.z)/3),p=h*h,d=new i.Vector3;if(u instanceof i.BufferGeometry){var f=u.index,m=u.attributes,v=m.position.array;if(null!==f)for(var g=f.array,y=0,b=g.length;b>y;y++){var _=g[y];d.fromArray(v,3*_),a(d,_)}else for(var y=0,x=v.length/3;x>y;y++)d.fromArray(v,3*y),a(d,y)}else for(var w=u.vertices,y=0,x=w.length;x>y;y++)a(w[y],y)}}}(),i.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},i.Line=function(e,t,r){return 1===r?(console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new i.LineSegments(e,t)):(i.Object3D.call(this),this.type="Line",this.geometry=void 0!==e?e:new i.Geometry,void(this.material=void 0!==t?t:new i.LineBasicMaterial({color:16777215*Math.random()})))},i.Line.prototype=Object.create(i.Object3D.prototype),i.Line.prototype.constructor=i.Line,i.Line.prototype.raycast=function(){var e=new i.Matrix4,t=new i.Ray,r=new i.Sphere;return function(n,o){var a=n.linePrecision,s=a*a,u=this.geometry,c=this.matrixWorld;if(null===u.boundingSphere&&u.computeBoundingSphere(),r.copy(u.boundingSphere),r.applyMatrix4(c),n.ray.intersectsSphere(r)!==!1){e.getInverse(c),t.copy(n.ray).applyMatrix4(e);var l=new i.Vector3,h=new i.Vector3,p=new i.Vector3,d=new i.Vector3,f=this instanceof i.LineSegments?2:1;if(u instanceof i.BufferGeometry){var m=u.index,v=u.attributes,g=v.position.array;if(null!==m)for(var y=m.array,b=0,_=y.length-1;_>b;b+=f){var x=y[b],w=y[b+1];l.fromArray(g,3*x),h.fromArray(g,3*w);var E=t.distanceSqToSegment(l,h,d,p);if(!(E>s)){
d.applyMatrix4(this.matrixWorld);var S=n.ray.origin.distanceTo(d);S<n.near||S>n.far||o.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(var b=0,_=g.length/3-1;_>b;b+=f){l.fromArray(g,3*b),h.fromArray(g,3*b+3);var E=t.distanceSqToSegment(l,h,d,p);if(!(E>s)){d.applyMatrix4(this.matrixWorld);var S=n.ray.origin.distanceTo(d);S<n.near||S>n.far||o.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(u instanceof i.Geometry)for(var C=u.vertices,M=C.length,b=0;M-1>b;b+=f){var E=t.distanceSqToSegment(C[b],C[b+1],d,p);if(!(E>s)){d.applyMatrix4(this.matrixWorld);var S=n.ray.origin.distanceTo(d);S<n.near||S>n.far||o.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}}(),i.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},i.LineStrip=0,i.LinePieces=1,i.LineSegments=function(e,t){i.Line.call(this,e,t),this.type="LineSegments"},i.LineSegments.prototype=Object.create(i.Line.prototype),i.LineSegments.prototype.constructor=i.LineSegments,i.Mesh=function(e,t){i.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new i.Geometry,this.material=void 0!==t?t:new i.MeshBasicMaterial({color:16777215*Math.random()}),this.drawMode=i.TrianglesDrawMode,this.updateMorphTargets()},i.Mesh.prototype=Object.create(i.Object3D.prototype),i.Mesh.prototype.constructor=i.Mesh,i.Mesh.prototype.setDrawMode=function(e){this.drawMode=e},i.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;t>e;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},i.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},i.Mesh.prototype.raycast=function(){function e(e,t,r,n,o,a,s){return i.Triangle.barycoordFromPoint(e,t,r,n,v),o.multiplyScalar(v.x),a.multiplyScalar(v.y),s.multiplyScalar(v.z),o.add(a).add(s),o.clone()}function t(e,t,r,n,o,a,s){var u,c=e.material;if(u=c.side===i.BackSide?r.intersectTriangle(a,o,n,!0,s):r.intersectTriangle(n,o,a,c.side!==i.DoubleSide,s),null===u)return null;y.copy(s),y.applyMatrix4(e.matrixWorld);var l=t.ray.origin.distanceTo(y);return l<t.near||l>t.far?null:{distance:l,point:y.clone(),object:e}}function r(r,n,o,a,l,h,p,v){s.fromArray(a,3*h),u.fromArray(a,3*p),c.fromArray(a,3*v);var y=t(r,n,o,s,u,c,g);return y&&(l&&(d.fromArray(l,2*h),f.fromArray(l,2*p),m.fromArray(l,2*v),y.uv=e(g,s,u,c,d,f,m)),y.face=new i.Face3(h,p,v,i.Triangle.normal(s,u,c)),y.faceIndex=h),y}var n=new i.Matrix4,o=new i.Ray,a=new i.Sphere,s=new i.Vector3,u=new i.Vector3,c=new i.Vector3,l=new i.Vector3,h=new i.Vector3,p=new i.Vector3,d=new i.Vector2,f=new i.Vector2,m=new i.Vector2,v=new i.Vector3,g=new i.Vector3,y=new i.Vector3;return function(v,y){var b=this.geometry,_=this.material,x=this.matrixWorld;if(void 0!==_&&(null===b.boundingSphere&&b.computeBoundingSphere(),a.copy(b.boundingSphere),a.applyMatrix4(x),v.ray.intersectsSphere(a)!==!1&&(n.getInverse(x),o.copy(v.ray).applyMatrix4(n),null===b.boundingBox||o.intersectsBox(b.boundingBox)!==!1))){var w,E;if(b instanceof i.BufferGeometry){var S,C,M,A=b.index,T=b.attributes,R=T.position.array;if(void 0!==T.uv&&(w=T.uv.array),null!==A)for(var O=A.array,P=0,D=O.length;D>P;P+=3)S=O[P],C=O[P+1],M=O[P+2],E=r(this,v,o,R,w,S,C,M),E&&(E.faceIndex=Math.floor(P/3),y.push(E));else for(var P=0,D=R.length;D>P;P+=9)S=P/3,C=S+1,M=S+2,E=r(this,v,o,R,w,S,C,M),E&&(E.index=S,y.push(E))}else if(b instanceof i.Geometry){var I,N,k,L=_ instanceof i.MultiMaterial,F=L===!0?_.materials:null,j=b.vertices,U=b.faces,B=b.faceVertexUvs[0];B.length>0&&(w=B);for(var V=0,z=U.length;z>V;V++){var H=U[V],G=L===!0?F[H.materialIndex]:_;if(void 0!==G){if(I=j[H.a],N=j[H.b],k=j[H.c],G.morphTargets===!0){var W=b.morphTargets,q=this.morphTargetInfluences;s.set(0,0,0),u.set(0,0,0),c.set(0,0,0);for(var Q=0,X=W.length;X>Q;Q++){var Y=q[Q];if(0!==Y){var K=W[Q].vertices;s.addScaledVector(l.subVectors(K[H.a],I),Y),u.addScaledVector(h.subVectors(K[H.b],N),Y),c.addScaledVector(p.subVectors(K[H.c],k),Y)}}s.add(I),u.add(N),c.add(k),I=s,N=u,k=c}if(E=t(this,v,o,I,N,k,g)){if(w){var Z=w[V];d.copy(Z[0]),f.copy(Z[1]),m.copy(Z[2]),E.uv=e(g,I,N,k,d,f,m)}E.face=H,E.faceIndex=V,y.push(E)}}}}}}}(),i.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},i.Bone=function(e){i.Object3D.call(this),this.type="Bone",this.skin=e},i.Bone.prototype=Object.create(i.Object3D.prototype),i.Bone.prototype.constructor=i.Bone,i.Bone.prototype.copy=function(e){return i.Object3D.prototype.copy.call(this,e),this.skin=e.skin,this},i.Skeleton=function(e,t,r){if(this.useVertexTexture=void 0!==r?r:!0,this.identityMatrix=new i.Matrix4,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var n=Math.sqrt(4*this.bones.length);n=i.Math.nextPowerOfTwo(Math.ceil(n)),n=Math.max(n,4),this.boneTextureWidth=n,this.boneTextureHeight=n,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new i.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,i.RGBAFormat,i.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var o=0,a=this.bones.length;a>o;o++)this.boneInverses.push(new i.Matrix4)}},i.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var e=0,t=this.bones.length;t>e;e++){var r=new i.Matrix4;this.bones[e]&&r.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(r)}},i.Skeleton.prototype.pose=function(){for(var e,t=0,r=this.bones.length;r>t;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(var t=0,r=this.bones.length;r>t;t++)e=this.bones[t],e&&(e.parent?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},i.Skeleton.prototype.update=function(){var e=new i.Matrix4;return function(){for(var t=0,r=this.bones.length;r>t;t++){var n=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;e.multiplyMatrices(n,this.boneInverses[t]),e.flattenToArrayOffset(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),i.Skeleton.prototype.clone=function(){return new i.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)},i.SkinnedMesh=function(e,t,r){i.Mesh.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new i.Matrix4,this.bindMatrixInverse=new i.Matrix4;var n=[];if(this.geometry&&void 0!==this.geometry.bones){for(var o,a,s=0,u=this.geometry.bones.length;u>s;++s)a=this.geometry.bones[s],o=new i.Bone(this),n.push(o),o.name=a.name,o.position.fromArray(a.pos),o.quaternion.fromArray(a.rotq),void 0!==a.scl&&o.scale.fromArray(a.scl);for(var s=0,u=this.geometry.bones.length;u>s;++s)a=this.geometry.bones[s],-1!==a.parent&&null!==a.parent?n[a.parent].add(n[s]):this.add(n[s])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new i.Skeleton(n,void 0,r),this.matrixWorld)},i.SkinnedMesh.prototype=Object.create(i.Mesh.prototype),i.SkinnedMesh.prototype.constructor=i.SkinnedMesh,i.SkinnedMesh.prototype.bind=function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},i.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},i.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof i.Geometry)for(var e=0;e<this.geometry.skinWeights.length;e++){var t=this.geometry.skinWeights[e],r=1/t.lengthManhattan();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0)}else if(this.geometry instanceof i.BufferGeometry)for(var n=new i.Vector4,o=this.geometry.attributes.skinWeight,e=0;e<o.count;e++){n.x=o.getX(e),n.y=o.getY(e),n.z=o.getZ(e),n.w=o.getW(e);var r=1/n.lengthManhattan();r!==1/0?n.multiplyScalar(r):n.set(1,0,0,0),o.setXYZW(e,n.x,n.y,n.z,n.w)}},i.SkinnedMesh.prototype.updateMatrixWorld=function(e){i.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},i.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)},i.LOD=function(){i.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}})},i.LOD.prototype=Object.create(i.Object3D.prototype),i.LOD.prototype.constructor=i.LOD,i.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var r=this.levels,n=0;n<r.length&&!(t<r[n].distance);n++);r.splice(n,0,{distance:t,object:e}),this.add(e)},i.LOD.prototype.getObjectForDistance=function(e){for(var t=this.levels,r=1,n=t.length;n>r&&!(e<t[r].distance);r++);return t[r-1].object},i.LOD.prototype.raycast=function(){var e=new i.Vector3;return function(t,r){e.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(e);this.getObjectForDistance(n).raycast(t,r)}}(),i.LOD.prototype.update=function(){var e=new i.Vector3,t=new i.Vector3;return function(r){var n=this.levels;if(n.length>1){e.setFromMatrixPosition(r.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);n[0].object.visible=!0;for(var o=1,a=n.length;a>o&&i>=n[o].distance;o++)n[o-1].object.visible=!1,n[o].object.visible=!0;for(;a>o;o++)n[o].object.visible=!1}}}(),i.LOD.prototype.copy=function(e){i.Object3D.prototype.copy.call(this,e,!1);for(var t=e.levels,r=0,n=t.length;n>r;r++){var o=t[r];this.addLevel(o.object.clone(),o.distance)}return this},i.LOD.prototype.toJSON=function(e){var t=i.Object3D.prototype.toJSON.call(this,e);t.object.levels=[];for(var r=this.levels,n=0,o=r.length;o>n;n++){var a=r[n];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t},i.Sprite=function(){var e=new Uint16Array([0,1,2,0,2,3]),t=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),r=new Float32Array([0,0,1,0,1,1,0,1]),n=new i.BufferGeometry;return n.setIndex(new i.BufferAttribute(e,1)),n.addAttribute("position",new i.BufferAttribute(t,3)),n.addAttribute("uv",new i.BufferAttribute(r,2)),function(e){i.Object3D.call(this),this.type="Sprite",this.geometry=n,this.material=void 0!==e?e:new i.SpriteMaterial}}(),i.Sprite.prototype=Object.create(i.Object3D.prototype),i.Sprite.prototype.constructor=i.Sprite,i.Sprite.prototype.raycast=function(){var e=new i.Vector3;return function(t,r){e.setFromMatrixPosition(this.matrixWorld);var n=t.ray.distanceSqToPoint(e),i=this.scale.x*this.scale.y;n>i||r.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}}(),i.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this)},i.Particle=i.Sprite,i.LensFlare=function(e,t,r,n,o){i.Object3D.call(this),this.lensFlares=[],this.positionScreen=new i.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,r,n,o)},i.LensFlare.prototype=Object.create(i.Object3D.prototype),i.LensFlare.prototype.constructor=i.LensFlare,i.LensFlare.prototype.add=function(e,t,r,n,o,a){void 0===t&&(t=-1),void 0===r&&(r=0),void 0===a&&(a=1),void 0===o&&(o=new i.Color(16777215)),void 0===n&&(n=i.NormalBlending),r=Math.min(r,Math.max(0,r)),this.lensFlares.push({texture:e,size:t,distance:r,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:o,blending:n})},i.LensFlare.prototype.updateLensFlares=function(){var e,t,r=this.lensFlares.length,n=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;r>e;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+n*t.distance,t.y=this.positionScreen.y+i*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)},i.LensFlare.prototype.copy=function(e){i.Object3D.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,r=e.lensFlares.length;r>t;t++)this.lensFlares.push(e.lensFlares[t]);return this},i.Scene=function(){i.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},i.Scene.prototype=Object.create(i.Object3D.prototype),i.Scene.prototype.constructor=i.Scene,i.Scene.prototype.copy=function(e){return i.Object3D.prototype.copy.call(this,e),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},i.Fog=function(e,t,r){this.name="",this.color=new i.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3},i.Fog.prototype.clone=function(){return new i.Fog(this.color.getHex(),this.near,this.far)},i.FogExp2=function(e,t){this.name="",this.color=new i.Color(e),this.density=void 0!==t?t:25e-5},i.FogExp2.prototype.clone=function(){return new i.FogExp2(this.color.getHex(),this.density)},i.ShaderChunk={},i.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",i.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif\n",i.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n	if ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",i.ShaderChunk.ambient_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	return PI * ambientLightColor;\n}\n",i.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n	reflectedLight.indirectDiffuse *= ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n#endif\n",i.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",i.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n",i.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n",i.ShaderChunk.bsdfs="float calcLightAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	if ( decayExponent > 0.0 ) {\n	  return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n	}\n	return 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n	return ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = alpha * alpha;\n	float gl = dotNL + pow( a2 + ( 1.0 - a2 ) * dotNL * dotNL, 0.5 );\n	float gv = dotNV + pow( a2 + ( 1.0 - a2 ) * dotNV * dotNV, 0.5 );\n	return 1.0 / ( gl * gv );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = alpha * alpha;\n	float denom = dotNH * dotNH * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / ( denom * denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float alpha = roughness * roughness;\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_GGX_Smith( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n	return specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n	float dotNH = saturate( dot( geometry.normal, halfDir ) );\n	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n	vec3 F = F_Schlick( specularColor, dotLH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n	return ( 2.0 / square( ggxRoughness + 0.0001 ) - 2.0 );\n}",i.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n		vec3 vSigmaX = dFdx( surf_pos );\n		vec3 vSigmaY = dFdy( surf_pos );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 );\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif\n",i.ShaderChunk.color_fragment="#ifdef USE_COLOR\n	diffuseColor.rgb *= vColor;\n#endif",i.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif\n",i.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n	varying vec3 vColor;\n#endif",i.ShaderChunk.color_vertex="#ifdef USE_COLOR\n	vColor.xyz = color.xyz;\n#endif",i.ShaderChunk.common="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat square( const in float x ) { return x*x; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	float distance = dot( planeNormal, point - pointOnPlane );\n	return - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nvec3 inputToLinear( in vec3 a ) {\n	#ifdef GAMMA_INPUT\n		return pow( a, vec3( float( GAMMA_FACTOR ) ) );\n	#else\n		return a;\n	#endif\n}\nvec3 linearToOutput( in vec3 a ) {\n	#ifdef GAMMA_OUTPUT\n		return pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n	#else\n		return a;\n	#endif\n}\n",i.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n	objectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",i.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n	transformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",i.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif\n",i.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vUv );\n	emissiveColor.rgb = inputToLinear( emissiveColor.rgb );\n	totalEmissiveLight *= emissiveColor.rgb;\n#endif\n",i.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif\n",i.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef DOUBLE_SIDED\n		float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n	#else\n		float flipNormal = 1.0;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#elif defined( ENVMAP_TYPE_EQUIREC )\n		vec2 sampleUV;\n		sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n		sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n		vec4 envColor = texture2D( envMap, sampleUV );\n	#elif defined( ENVMAP_TYPE_SPHERE )\n		vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n	#endif\n	envColor.xyz = inputToLinear( envColor.xyz );\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif\n",i.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( STANDARD )\n	uniform float reflectivity;\n	uniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	uniform float flipEnvMap;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( STANDARD )\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif\n",i.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG ) && ! defined( STANDARD )\n	varying vec3 vReflect;\n	uniform float refractionRatio;\n#endif\n",i.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG ) && ! defined( STANDARD )\n	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n	vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	#ifdef ENVMAP_MODE_REFLECTION\n		vReflect = reflect( cameraToVertex, worldNormal );\n	#else\n		vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n	#endif\n#endif\n",i.ShaderChunk.fog_fragment="#ifdef USE_FOG\n	#ifdef USE_LOGDEPTHBUF_EXT\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n	#else\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n	#endif\n	#ifdef FOG_EXP2\n		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, depth );\n	#endif\n	\n	outgoingLight = mix( outgoingLight, fogColor, fogFactor );\n#endif",i.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n	uniform vec3 fogColor;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",i.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",i.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",i.ShaderChunk.lights_lambert_vertex="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n	vLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		directLight = getPointDirectLight( pointLights[ i ], geometry );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		directLight = getSpotDirectLight( spotLights[ i ], geometry );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_DIR_LIGHTS > 0\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directLight = getDirectionalDirectLight( directionalLights[ i ], geometry );\n		dotNL = dot( geometry.normal, directLight.direction );\n		directLightColor_Diffuse = PI * directLight.color;\n		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n		#ifdef DOUBLE_SIDED\n			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n		#endif\n	}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		#ifdef DOUBLE_SIDED\n			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n		#endif\n	}\n#endif\n",i.ShaderChunk.lights_pars="#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	IncidentLight getDirectionalDirectLight( const in DirectionalLight directionalLight, const in GeometricContext geometry ) {\n		IncidentLight directLight;\n		directLight.color = directionalLight.color;\n		directLight.direction = directionalLight.direction;\n		return directLight;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	IncidentLight getPointDirectLight( const in PointLight pointLight, const in GeometricContext geometry ) {\n		IncidentLight directLight;\n		vec3 lVector = pointLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		directLight.color = pointLight.color;\n		directLight.color *= calcLightAttenuation( length( lVector ), pointLight.distance, pointLight.decay );\n		return directLight;\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float angleCos;\n		float exponent;\n		int shadow;\n		float shadowBias;\n		float shadowRadius;\n		vec2 shadowMapSize;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	IncidentLight getSpotDirectLight( const in SpotLight spotLight, const in GeometricContext geometry ) {\n		IncidentLight directLight;\n		vec3 lVector = spotLight.position - geometry.position;\n		directLight.direction = normalize( lVector );\n		float spotEffect = dot( directLight.direction, spotLight.direction );\n		if ( spotEffect > spotLight.angleCos ) {\n			float spotEffect = dot( spotLight.direction, directLight.direction );\n			spotEffect = saturate( pow( saturate( spotEffect ), spotLight.exponent ) );\n			directLight.color = spotLight.color;\n			directLight.color *= ( spotEffect * calcLightAttenuation( length( lVector ), spotLight.distance, spotLight.decay ) );\n		} else {\n			directLight.color = vec3( 0.0 );\n		}\n		return directLight;\n	}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n		float dotNL = dot( geometry.normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		return PI * mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n	}\n#endif\n#if defined( USE_ENVMAP ) && defined( STANDARD )\n	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n		#ifdef DOUBLE_SIDED\n			float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n		#else\n			float flipNormal = 1.0;\n		#endif\n		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n			#endif\n		#else\n			vec3 envMapColor = vec3( 0.0 );\n		#endif\n		envMapColor.rgb = inputToLinear( envMapColor.rgb );\n		return PI * envMapColor.rgb * envMapIntensity;\n	}\n	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		float maxMIPLevelScalar = float( maxMIPLevel );\n		float desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( square( blinnShininessExponent ) + 1.0 );\n		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n	}\n	vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n		#else\n			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n		#endif\n		#ifdef DOUBLE_SIDED\n			float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n		#else\n			float flipNormal = 1.0;\n		#endif\n		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n		#ifdef ENVMAP_TYPE_CUBE\n			vec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n			#else\n				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n			#endif\n		#elif defined( ENVMAP_TYPE_EQUIREC )\n			vec2 sampleUV;\n			sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n			sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n			#endif\n		#elif defined( ENVMAP_TYPE_SPHERE )\n			vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n			#ifdef TEXTURE_LOD_EXT\n				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#else\n				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n			#endif\n		#endif\n		envMapColor.rgb = inputToLinear( envMapColor.rgb );\n		return envMapColor.rgb * envMapIntensity;\n	}\n#endif\n",
i.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",i.ShaderChunk.lights_phong_pars_fragment="#ifdef USE_ENVMAP\n	varying vec3 vWorldPosition;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n	vec3	diffuseColor;\n	vec3	specularColor;\n	float	specularShininess;\n	float	specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * PI * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )	(0)\n",i.ShaderChunk.lights_phong_pars_vertex="#ifdef USE_ENVMAP\n	varying vec3 vWorldPosition;\n#endif\n",i.ShaderChunk.lights_phong_vertex="#ifdef USE_ENVMAP\n	vWorldPosition = worldPosition.xyz;\n#endif\n",i.ShaderChunk.lights_standard_fragment="StandardMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\nmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n",i.ShaderChunk.lights_standard_pars_fragment="struct StandardMaterial {\n	vec3	diffuseColor;\n	float	specularRoughness;\n	vec3	specularColor;\n};\nvoid RE_Direct_Standard( const in IncidentLight directLight, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * PI * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Standard( const in vec3 irradiance, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Standard( const in vec3 radiance, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct				RE_Direct_Standard\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Standard\n#define RE_IndirectSpecular		RE_IndirectSpecular_Standard\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n",i.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		directLight = getPointDirectLight( pointLight, geometry );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		directLight = getSpotDirectLight( spotLight, geometry );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		directLight = getDirectionalDirectLight( directionalLight, geometry );\n		#ifdef USE_SHADOWMAP\n		directLight.color *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#ifdef USE_LIGHTMAP\n		irradiance += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n	#endif\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n		}\n	#endif\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	vec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n	RE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n",i.ShaderChunk.linear_to_gamma_fragment="\n	outgoingLight = linearToOutput( outgoingLight );\n",i.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",i.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n	uniform float logDepthBufFC;\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#endif\n#endif\n",i.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n	#endif\n	uniform float logDepthBufFC;\n#endif",i.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n	gl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n	#else\n		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n	#endif\n#endif\n",i.ShaderChunk.map_fragment="#ifdef USE_MAP\n	vec4 texelColor = texture2D( map, vUv );\n	texelColor.xyz = inputToLinear( texelColor.xyz );\n	diffuseColor *= texelColor;\n#endif\n",i.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",i.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n	diffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n#endif\n",i.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n	uniform vec4 offsetRepeat;\n	uniform sampler2D map;\n#endif\n",i.ShaderChunk.metalnessmap_fragment="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vUv );\n	metalnessFactor *= texelMetalness.r;\n#endif\n",i.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",i.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",i.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n	#ifndef USE_MORPHNORMALS\n	uniform float morphTargetInfluences[ 8 ];\n	#else\n	uniform float morphTargetInfluences[ 4 ];\n	#endif\n#endif",i.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n	#ifndef USE_MORPHNORMALS\n	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n	#endif\n#endif\n",i.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n	#endif\n#endif\n#ifdef USE_NORMALMAP\n	normal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",i.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n		vec3 S = normalize( q0 * st1.t - q1 * st0.t );\n		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n		vec3 N = normalize( surf_norm );\n		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		mapN.xy = normalScale * mapN.xy;\n		mat3 tsn = mat3( S, T, N );\n		return normalize( tsn * mapN );\n	}\n#endif\n",i.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n	vec4 mvPosition = modelViewMatrix * skinned;\n#else\n	vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",i.ShaderChunk.roughnessmap_fragment="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vUv );\n	roughnessFactor *= texelRoughness.r;\n#endif\n",i.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",i.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n	#endif\n	float unpackDepth( const in vec4 rgba_depth ) {\n		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n		return dot( rgba_depth, bit_shift );\n	}\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackDepth( texture2D( depths, uv ) ) );\n	}\n	float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n		const vec2 offset = vec2( 0.0, 1.0 );\n		vec2 texelSize = vec2( 1.0 ) / size;\n		vec2 centroidUV = floor( uv * size + 0.5 ) / size;\n		float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n		float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n		float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n		float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n		vec2 f = fract( uv * size + 0.5 );\n		float a = mix( lb, lt, f.y );\n		float b = mix( rb, rt, f.y );\n		float c = mix( a, b, f.x );\n		return c;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n		bool inFrustum = all( inFrustumVec );\n		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n		bool frustumTest = all( frustumTestVec );\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			return (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			return (\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return 1.0;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n		vec3 lightToPosition = shadowCoord.xyz;\n		vec3 bd3D = normalize( lightToPosition );\n		float dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec3 offset = vec3( - 1, 0, 1 ) * shadowRadius * 2.0 * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.zzz, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.zxz, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxz, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xzz, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.zzx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.zxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xzx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.zzy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.zxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xzy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.zyz, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyz, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.zyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yzz, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxz, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yzx, texelSize.y ), dp )\n			) * ( 1.0 / 21.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif\n",i.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n	#endif\n#endif\n",i.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n	}\n	#endif\n#endif\n",i.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHTS > 0\n	DirectionalLight directionalLight;\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_SPOT_LIGHTS > 0\n	SpotLight spotLight;\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#if NUM_POINT_LIGHTS > 0\n	PointLight pointLight;\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n	}\n	#endif\n	#endif\n	return shadow;\n}\n",i.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",i.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	#ifdef BONE_TEXTURE\n		uniform sampler2D boneTexture;\n		uniform int boneTextureWidth;\n		uniform int boneTextureHeight;\n		mat4 getBoneMatrix( const in float i ) {\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureWidth ) );\n			float y = floor( j / float( boneTextureWidth ) );\n			float dx = 1.0 / float( boneTextureWidth );\n			float dy = 1.0 / float( boneTextureHeight );\n			y = dy * ( y + 0.5 );\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n			mat4 bone = mat4( v1, v2, v3, v4 );\n			return bone;\n		}\n	#else\n		uniform mat4 boneGlobalMatrices[ MAX_BONES ];\n		mat4 getBoneMatrix( const in float i ) {\n			mat4 bone = boneGlobalMatrices[ int(i) ];\n			return bone;\n		}\n	#endif\n#endif\n",i.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	skinned  = bindMatrixInverse * skinned;\n#endif\n",i.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",i.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",i.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",i.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	varying vec2 vUv2;\n#endif",i.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	attribute vec2 uv2;\n	varying vec2 vUv2;\n#endif",i.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n	vUv2 = uv2;\n#endif",i.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n#endif",i.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	varying vec2 vUv;\n	uniform vec4 offsetRepeat;\n#endif\n",i.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",i.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( STANDARD ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n	#ifdef USE_SKINNING\n		vec4 worldPosition = modelMatrix * skinned;\n	#else\n		vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n	#endif\n#endif\n",i.UniformsUtils={merge:function(e){for(var t={},r=0;r<e.length;r++){var n=this.clone(e[r]);for(var i in n)t[i]=n[i]}return t},clone:function(e){var t={};for(var r in e){t[r]={};for(var n in e[r]){var o=e[r][n];o instanceof i.Color||o instanceof i.Vector2||o instanceof i.Vector3||o instanceof i.Vector4||o instanceof i.Matrix3||o instanceof i.Matrix4||o instanceof i.Texture?t[r][n]=o.clone():Array.isArray(o)?t[r][n]=o.slice():t[r][n]=o}}return t}},i.UniformsLib={common:{diffuse:{type:"c",value:new i.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new i.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new i.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"f",value:1},displacementBias:{type:"f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new i.Color(16777215)}},ambient:{ambientLightColor:{type:"fv",value:[]}},lights:{directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},distance:{type:"f"},angleCos:{type:"f"},exponent:{type:"f"},decay:{type:"f"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"f"},distance:{type:"f"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new i.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new i.Vector4(0,0,1,1)}}},i.ShaderLib={basic:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.aomap,i.UniformsLib.fog]),vertexShader:[i.ShaderChunk.common,i.ShaderChunk.uv_pars_vertex,i.ShaderChunk.uv2_pars_vertex,i.ShaderChunk.envmap_pars_vertex,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.uv_vertex,i.ShaderChunk.uv2_vertex,i.ShaderChunk.color_vertex,i.ShaderChunk.skinbase_vertex,"	#ifdef USE_ENVMAP",i.ShaderChunk.beginnormal_vertex,i.ShaderChunk.morphnormal_vertex,i.ShaderChunk.skinnormal_vertex,i.ShaderChunk.defaultnormal_vertex,"	#endif",i.ShaderChunk.begin_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.project_vertex,i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.worldpos_vertex,i.ShaderChunk.envmap_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","#ifndef FLAT_SHADED","	varying vec3 vNormal;","#endif",i.ShaderChunk.common,i.ShaderChunk.color_pars_fragment,i.ShaderChunk.uv_pars_fragment,i.ShaderChunk.uv2_pars_fragment,i.ShaderChunk.map_pars_fragment,i.ShaderChunk.alphamap_pars_fragment,i.ShaderChunk.aomap_pars_fragment,i.ShaderChunk.envmap_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.specularmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	vec4 diffuseColor = vec4( diffuse, opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.alphamap_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.specularmap_fragment,"	ReflectedLight reflectedLight;","	reflectedLight.directDiffuse = vec3( 0.0 );","	reflectedLight.directSpecular = vec3( 0.0 );","	reflectedLight.indirectDiffuse = diffuseColor.rgb;","	reflectedLight.indirectSpecular = vec3( 0.0 );",i.ShaderChunk.aomap_fragment,"	vec3 outgoingLight = reflectedLight.indirectDiffuse;",i.ShaderChunk.envmap_fragment,i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},lambert:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.aomap,i.UniformsLib.lightmap,i.UniformsLib.emissivemap,i.UniformsLib.fog,i.UniformsLib.ambient,i.UniformsLib.lights,{emissive:{type:"c",value:new i.Color(0)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","#endif",i.ShaderChunk.common,i.ShaderChunk.uv_pars_vertex,i.ShaderChunk.uv2_pars_vertex,i.ShaderChunk.envmap_pars_vertex,i.ShaderChunk.bsdfs,i.ShaderChunk.lights_pars,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.uv_vertex,i.ShaderChunk.uv2_vertex,i.ShaderChunk.color_vertex,i.ShaderChunk.beginnormal_vertex,i.ShaderChunk.morphnormal_vertex,i.ShaderChunk.skinbase_vertex,i.ShaderChunk.skinnormal_vertex,i.ShaderChunk.defaultnormal_vertex,i.ShaderChunk.begin_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.project_vertex,i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.worldpos_vertex,i.ShaderChunk.envmap_vertex,i.ShaderChunk.lights_lambert_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform vec3 emissive;","uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","#endif",i.ShaderChunk.common,i.ShaderChunk.color_pars_fragment,i.ShaderChunk.uv_pars_fragment,i.ShaderChunk.uv2_pars_fragment,i.ShaderChunk.map_pars_fragment,i.ShaderChunk.alphamap_pars_fragment,i.ShaderChunk.aomap_pars_fragment,i.ShaderChunk.lightmap_pars_fragment,i.ShaderChunk.emissivemap_pars_fragment,i.ShaderChunk.envmap_pars_fragment,i.ShaderChunk.bsdfs,i.ShaderChunk.ambient_pars,i.ShaderChunk.lights_pars,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.shadowmask_pars_fragment,i.ShaderChunk.specularmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	vec4 diffuseColor = vec4( diffuse, opacity );","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveLight = emissive;",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.alphamap_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.specularmap_fragment,i.ShaderChunk.emissivemap_fragment,"	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );",i.ShaderChunk.lightmap_fragment,"	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );","	#ifdef DOUBLE_SIDED","		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;","	#else","		reflectedLight.directDiffuse = vLightFront;","	#endif","	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();",i.ShaderChunk.aomap_fragment,"	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveLight;",i.ShaderChunk.envmap_fragment,i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")
},phong:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.aomap,i.UniformsLib.lightmap,i.UniformsLib.emissivemap,i.UniformsLib.bumpmap,i.UniformsLib.normalmap,i.UniformsLib.displacementmap,i.UniformsLib.fog,i.UniformsLib.ambient,i.UniformsLib.lights,{emissive:{type:"c",value:new i.Color(0)},specular:{type:"c",value:new i.Color(1118481)},shininess:{type:"f",value:30}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","	varying vec3 vNormal;","#endif",i.ShaderChunk.common,i.ShaderChunk.uv_pars_vertex,i.ShaderChunk.uv2_pars_vertex,i.ShaderChunk.displacementmap_pars_vertex,i.ShaderChunk.envmap_pars_vertex,i.ShaderChunk.lights_phong_pars_vertex,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.uv_vertex,i.ShaderChunk.uv2_vertex,i.ShaderChunk.color_vertex,i.ShaderChunk.beginnormal_vertex,i.ShaderChunk.morphnormal_vertex,i.ShaderChunk.skinbase_vertex,i.ShaderChunk.skinnormal_vertex,i.ShaderChunk.defaultnormal_vertex,"#ifndef FLAT_SHADED","	vNormal = normalize( transformedNormal );","#endif",i.ShaderChunk.begin_vertex,i.ShaderChunk.displacementmap_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.project_vertex,i.ShaderChunk.logdepthbuf_vertex,"	vViewPosition = - mvPosition.xyz;",i.ShaderChunk.worldpos_vertex,i.ShaderChunk.envmap_vertex,i.ShaderChunk.lights_phong_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;",i.ShaderChunk.common,i.ShaderChunk.color_pars_fragment,i.ShaderChunk.uv_pars_fragment,i.ShaderChunk.uv2_pars_fragment,i.ShaderChunk.map_pars_fragment,i.ShaderChunk.alphamap_pars_fragment,i.ShaderChunk.aomap_pars_fragment,i.ShaderChunk.lightmap_pars_fragment,i.ShaderChunk.emissivemap_pars_fragment,i.ShaderChunk.envmap_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.bsdfs,i.ShaderChunk.ambient_pars,i.ShaderChunk.lights_pars,i.ShaderChunk.lights_phong_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.bumpmap_pars_fragment,i.ShaderChunk.normalmap_pars_fragment,i.ShaderChunk.specularmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	vec4 diffuseColor = vec4( diffuse, opacity );","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveLight = emissive;",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.alphamap_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.specularmap_fragment,i.ShaderChunk.normal_fragment,i.ShaderChunk.emissivemap_fragment,i.ShaderChunk.lights_phong_fragment,i.ShaderChunk.lights_template,i.ShaderChunk.aomap_fragment,"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;",i.ShaderChunk.envmap_fragment,i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},standard:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.aomap,i.UniformsLib.lightmap,i.UniformsLib.emissivemap,i.UniformsLib.bumpmap,i.UniformsLib.normalmap,i.UniformsLib.displacementmap,i.UniformsLib.roughnessmap,i.UniformsLib.metalnessmap,i.UniformsLib.fog,i.UniformsLib.ambient,i.UniformsLib.lights,{emissive:{type:"c",value:new i.Color(0)},roughness:{type:"f",value:.5},metalness:{type:"f",value:0},envMapIntensity:{type:"f",value:1}}]),vertexShader:["#define STANDARD","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","	varying vec3 vNormal;","#endif",i.ShaderChunk.common,i.ShaderChunk.uv_pars_vertex,i.ShaderChunk.uv2_pars_vertex,i.ShaderChunk.displacementmap_pars_vertex,i.ShaderChunk.envmap_pars_vertex,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.specularmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.uv_vertex,i.ShaderChunk.uv2_vertex,i.ShaderChunk.color_vertex,i.ShaderChunk.beginnormal_vertex,i.ShaderChunk.morphnormal_vertex,i.ShaderChunk.skinbase_vertex,i.ShaderChunk.skinnormal_vertex,i.ShaderChunk.defaultnormal_vertex,"#ifndef FLAT_SHADED","	vNormal = normalize( transformedNormal );","#endif",i.ShaderChunk.begin_vertex,i.ShaderChunk.displacementmap_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.project_vertex,i.ShaderChunk.logdepthbuf_vertex,"	vViewPosition = - mvPosition.xyz;",i.ShaderChunk.worldpos_vertex,i.ShaderChunk.envmap_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define STANDARD","uniform vec3 diffuse;","uniform vec3 emissive;","uniform float roughness;","uniform float metalness;","uniform float opacity;","uniform float envMapIntensity;","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","	varying vec3 vNormal;","#endif",i.ShaderChunk.common,i.ShaderChunk.color_pars_fragment,i.ShaderChunk.uv_pars_fragment,i.ShaderChunk.uv2_pars_fragment,i.ShaderChunk.map_pars_fragment,i.ShaderChunk.alphamap_pars_fragment,i.ShaderChunk.aomap_pars_fragment,i.ShaderChunk.lightmap_pars_fragment,i.ShaderChunk.emissivemap_pars_fragment,i.ShaderChunk.envmap_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.bsdfs,i.ShaderChunk.ambient_pars,i.ShaderChunk.lights_pars,i.ShaderChunk.lights_standard_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.bumpmap_pars_fragment,i.ShaderChunk.normalmap_pars_fragment,i.ShaderChunk.roughnessmap_pars_fragment,i.ShaderChunk.metalnessmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	vec4 diffuseColor = vec4( diffuse, opacity );","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveLight = emissive;",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.alphamap_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.specularmap_fragment,i.ShaderChunk.roughnessmap_fragment,i.ShaderChunk.metalnessmap_fragment,i.ShaderChunk.normal_fragment,i.ShaderChunk.emissivemap_fragment,i.ShaderChunk.lights_standard_fragment,i.ShaderChunk.lights_template,i.ShaderChunk.aomap_fragment,"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;",i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},points:{uniforms:i.UniformsUtils.merge([i.UniformsLib.points,i.UniformsLib.fog]),vertexShader:["uniform float size;","uniform float scale;",i.ShaderChunk.common,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.color_vertex,i.ShaderChunk.begin_vertex,i.ShaderChunk.project_vertex,"	#ifdef USE_SIZEATTENUATION","		gl_PointSize = size * ( scale / - mvPosition.z );","	#else","		gl_PointSize = size;","	#endif",i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.worldpos_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",i.ShaderChunk.common,i.ShaderChunk.color_pars_fragment,i.ShaderChunk.map_particle_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	vec3 outgoingLight = vec3( 0.0 );","	vec4 diffuseColor = vec4( diffuse, opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_particle_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.alphatest_fragment,"	outgoingLight = diffuseColor.rgb;",i.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},dashed:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",i.ShaderChunk.common,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.color_vertex,"	vLineDistance = scale * lineDistance;","	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","	gl_Position = projectionMatrix * mvPosition;",i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",i.ShaderChunk.common,i.ShaderChunk.color_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	if ( mod( vLineDistance, totalSize ) > dashSize ) {","		discard;","	}","	vec3 outgoingLight = vec3( 0.0 );","	vec4 diffuseColor = vec4( diffuse, opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.color_fragment,"	outgoingLight = diffuseColor.rgb;",i.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[i.ShaderChunk.common,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.begin_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.project_vertex,i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",i.ShaderChunk.common,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",i.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT","		float depth = gl_FragDepthEXT / gl_FragCoord.w;","	#else","		float depth = gl_FragCoord.z / gl_FragCoord.w;","	#endif","	float color = 1.0 - smoothstep( mNear, mFar, depth );","	gl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",i.ShaderChunk.common,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vNormal = normalize( normalMatrix * normal );",i.ShaderChunk.begin_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.project_vertex,i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",i.ShaderChunk.common,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",i.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",i.ShaderChunk.common,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vWorldPosition = transformDirection( position, modelMatrix );","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",i.ShaderChunk.common,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",i.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",i.ShaderChunk.common,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vWorldPosition = transformDirection( position, modelMatrix );","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","uniform float tFlip;","varying vec3 vWorldPosition;",i.ShaderChunk.common,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","vec3 direction = normalize( vWorldPosition );","vec2 sampleUV;","sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );","sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","gl_FragColor = texture2D( tEquirect, sampleUV );",i.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[i.ShaderChunk.common,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.skinbase_vertex,i.ShaderChunk.begin_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.project_vertex,i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[i.ShaderChunk.common,i.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","	const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","	res -= res.xxyz * bit_mask;","	return res;","}","void main() {",i.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT","		gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","	#else","		gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","	#endif","}"].join("\n")},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new i.Vector3(0,0,0)}},vertexShader:["varying vec4 vWorldPosition;",i.ShaderChunk.common,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,"void main() {",i.ShaderChunk.skinbase_vertex,i.ShaderChunk.begin_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.project_vertex,i.ShaderChunk.worldpos_vertex,"vWorldPosition = worldPosition;","}"].join("\n"),fragmentShader:["uniform vec3 lightPos;","varying vec4 vWorldPosition;",i.ShaderChunk.common,"vec4 pack1K ( float depth ) {","	depth /= 1000.0;","	const vec4 bitSh = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","	const vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","	vec4 res = mod( depth * bitSh * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","	res -= res.xxyz * bitMsk;","	return res; ","}","float unpack1K ( vec4 color ) {","	const vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","	return dot( color, bitSh ) * 1000.0;","}","void main () {","	gl_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );","}"].join("\n")}},i.WebGLRenderer=function(e){function t(){return null===ye?Pe:1}function r(e,t,r,n){ae===!0&&(e*=n,t*=n,r*=n),qe.clearColor(e,t,r,n)}function n(){qe.init(),qe.scissor(Ee.copy(De).multiplyScalar(Pe)),qe.viewport(Ce.copy(Ne).multiplyScalar(Pe)),r(Ae.r,Ae.g,Ae.b,Te)}function o(){ge=null,we=null,xe="",_e=-1,qe.reset()}function a(e){e.preventDefault(),o(),n(),Qe.clear()}function s(e){var t=e.target;t.removeEventListener("dispose",s),l(t),Ue.textures--}function u(e){var t=e.target;t.removeEventListener("dispose",u),h(t),Ue.textures--}function c(e){var t=e.target;t.removeEventListener("dispose",c),p(t)}function l(e){var t=Qe.get(e);if(e.image&&t.__image__webglTextureCube)Ve.deleteTexture(t.__image__webglTextureCube);else{if(void 0===t.__webglInit)return;Ve.deleteTexture(t.__webglTexture)}Qe["delete"](e)}function h(e){var t=Qe.get(e),r=Qe.get(e.texture);if(e&&void 0!==r.__webglTexture){if(Ve.deleteTexture(r.__webglTexture),e instanceof i.WebGLRenderTargetCube)for(var n=0;6>n;n++)Ve.deleteFramebuffer(t.__webglFramebuffer[n]),Ve.deleteRenderbuffer(t.__webglDepthbuffer[n]);else Ve.deleteFramebuffer(t.__webglFramebuffer),Ve.deleteRenderbuffer(t.__webglDepthbuffer);Qe["delete"](e.texture),Qe["delete"](e)}}function p(e){d(e),Qe["delete"](e)}function d(e){var t=Qe.get(e).program;e.program=void 0,void 0!==t&&Ye.releaseProgram(t)}function f(e,t,r,n){var o;if(r instanceof i.InstancedBufferGeometry&&(o=Ge.get("ANGLE_instanced_arrays"),null===o))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===n&&(n=0),qe.initAttributes();var a=r.attributes,s=t.getAttributes(),u=e.defaultAttributeValues;for(var c in s){var l=s[c];if(l>=0){var h=a[c];if(void 0!==h){var p=h.itemSize,d=Xe.getAttributeBuffer(h);if(h instanceof i.InterleavedBufferAttribute){var f=h.data,m=f.stride,v=h.offset;f instanceof i.InstancedInterleavedBuffer?(qe.enableAttributeAndDivisor(l,f.meshPerAttribute,o),void 0===r.maxInstancedCount&&(r.maxInstancedCount=f.meshPerAttribute*f.count)):qe.enableAttribute(l),Ve.bindBuffer(Ve.ARRAY_BUFFER,d),Ve.vertexAttribPointer(l,p,Ve.FLOAT,!1,m*f.array.BYTES_PER_ELEMENT,(n*m+v)*f.array.BYTES_PER_ELEMENT)}else h instanceof i.InstancedBufferAttribute?(qe.enableAttributeAndDivisor(l,h.meshPerAttribute,o),void 0===r.maxInstancedCount&&(r.maxInstancedCount=h.meshPerAttribute*h.count)):qe.enableAttribute(l),Ve.bindBuffer(Ve.ARRAY_BUFFER,d),Ve.vertexAttribPointer(l,p,Ve.FLOAT,!1,0,n*p*4)}else if(void 0!==u){var g=u[c];if(void 0!==g)switch(g.length){case 2:Ve.vertexAttrib2fv(l,g);break;case 3:Ve.vertexAttrib3fv(l,g);break;case 4:Ve.vertexAttrib4fv(l,g);break;default:Ve.vertexAttrib1fv(l,g)}}}}qe.disableUnusedAttributes()}function m(e,t){return Math.abs(t[0])-Math.abs(e[0])}function v(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function g(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function y(e,t,r,n,i){var o,a;r.transparent?(o=he,a=++pe):(o=ce,a=++le);var s=o[a];void 0!==s?(s.id=e.id,s.object=e,s.geometry=t,s.material=r,s.z=Fe.z,s.group=i):(s={id:e.id,object:e,geometry:t,material:r,z:Fe.z,group:i},o.push(s))}function b(e,t){if(e.visible!==!1){if(e.layers.test(t.layers))if(e instanceof i.Light)ue.push(e);else if(e instanceof i.Sprite)(e.frustumCulled===!1||ke.intersectsObject(e)===!0)&&fe.push(e);else if(e instanceof i.LensFlare)me.push(e);else if(e instanceof i.ImmediateRenderObject)ve.sortObjects===!0&&(Fe.setFromMatrixPosition(e.matrixWorld),Fe.applyProjection(Le)),y(e,null,e.material,Fe.z,null);else if((e instanceof i.Mesh||e instanceof i.Line||e instanceof i.Points)&&(e instanceof i.SkinnedMesh&&e.skeleton.update(),e.frustumCulled===!1||ke.intersectsObject(e)===!0)){var r=e.material;if(r.visible===!0){ve.sortObjects===!0&&(Fe.setFromMatrixPosition(e.matrixWorld),Fe.applyProjection(Le));var n=Xe.update(e);if(r instanceof i.MultiMaterial)for(var o=n.groups,a=r.materials,s=0,u=o.length;u>s;s++){var c=o[s],l=a[c.materialIndex];l.visible===!0&&y(e,n,l,Fe.z,c)}else y(e,n,r,Fe.z,null)}}for(var h=e.children,s=0,u=h.length;u>s;s++)b(h[s],t)}}function _(e,t,r,n){for(var o=0,a=e.length;a>o;o++){var s=e[o],u=s.object,c=s.geometry,l=void 0===n?s.material:n,h=s.group;if(u.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,u.matrixWorld),u.normalMatrix.getNormalMatrix(u.modelViewMatrix),u instanceof i.ImmediateRenderObject){w(l);var p=S(t,r,l,u);xe="",u.render(function(e){ve.renderBufferImmediate(e,p,l)})}else ve.renderBufferDirect(t,r,c,l,u,h)}}function x(e,t,r){var n=Qe.get(e),o=Ye.getParameters(e,je,t,r),a=Ye.getProgramCode(e,o),s=n.program,u=!0;if(void 0===s)e.addEventListener("dispose",c);else if(s.code!==a)d(e);else{if(void 0!==o.shaderID)return;u=!1}if(u){if(o.shaderID){var l=i.ShaderLib[o.shaderID];n.__webglShader={name:e.type,uniforms:i.UniformsUtils.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else n.__webglShader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.__webglShader=n.__webglShader,s=Ye.acquireProgram(e,o,a),n.program=s,e.program=s}var h=s.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var p=0;p<ve.maxMorphTargets;p++)h["morphTarget"+p]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var p=0;p<ve.maxMorphNormals;p++)h["morphNormal"+p]>=0&&e.numSupportedMorphNormals++}n.uniformsList=[];var f=n.__webglShader.uniforms,m=n.program.getUniforms();for(var v in f){var g=m[v];g&&n.uniformsList.push([n.__webglShader.uniforms[v],g])}(e instanceof i.MeshPhongMaterial||e instanceof i.MeshLambertMaterial||e instanceof i.MeshStandardMaterial||e.lights)&&(n.lightsHash=je.hash,f.ambientLightColor.value=je.ambient,f.directionalLights.value=je.directional,f.spotLights.value=je.spot,f.pointLights.value=je.point,f.hemisphereLights.value=je.hemi,f.directionalShadowMap.value=je.directionalShadowMap,f.directionalShadowMatrix.value=je.directionalShadowMatrix,f.spotShadowMap.value=je.spotShadowMap,f.spotShadowMatrix.value=je.spotShadowMatrix,f.pointShadowMap.value=je.pointShadowMap,f.pointShadowMatrix.value=je.pointShadowMatrix),n.hasDynamicUniforms=!1;for(var y=0,b=n.uniformsList.length;b>y;y++){var _=n.uniformsList[y][0];if(_.dynamic===!0){n.hasDynamicUniforms=!0;break}}}function w(e){E(e),e.transparent===!0?qe.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha):qe.setBlending(i.NoBlending),qe.setDepthFunc(e.depthFunc),qe.setDepthTest(e.depthTest),qe.setDepthWrite(e.depthWrite),qe.setColorWrite(e.colorWrite),qe.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function E(e){e.side!==i.DoubleSide?qe.enable(Ve.CULL_FACE):qe.disable(Ve.CULL_FACE),qe.setFlipSided(e.side===i.BackSide)}function S(e,t,r,n){Me=0;var o=Qe.get(r);void 0===o.program&&(r.needsUpdate=!0),void 0!==o.lightsHash&&o.lightsHash!==je.hash&&(r.needsUpdate=!0),r.needsUpdate&&(x(r,t,n),r.needsUpdate=!1);var a=!1,s=!1,u=!1,c=o.program,l=c.getUniforms(),h=o.__webglShader.uniforms;if(c.id!==ge&&(Ve.useProgram(c.program),ge=c.id,a=!0,s=!0,u=!0),r.id!==_e&&(_e=r.id,s=!0),(a||e!==we)&&(Ve.uniformMatrix4fv(l.projectionMatrix,!1,e.projectionMatrix.elements),We.logarithmicDepthBuffer&&Ve.uniform1f(l.logDepthBufFC,2/(Math.log(e.far+1)/Math.LN2)),e!==we&&(we=e,s=!0,u=!0),(r instanceof i.ShaderMaterial||r instanceof i.MeshPhongMaterial||r instanceof i.MeshStandardMaterial||r.envMap)&&void 0!==l.cameraPosition&&(Fe.setFromMatrixPosition(e.matrixWorld),Ve.uniform3f(l.cameraPosition,Fe.x,Fe.y,Fe.z)),(r instanceof i.MeshPhongMaterial||r instanceof i.MeshLambertMaterial||r instanceof i.MeshBasicMaterial||r instanceof i.MeshStandardMaterial||r instanceof i.ShaderMaterial||r.skinning)&&void 0!==l.viewMatrix&&Ve.uniformMatrix4fv(l.viewMatrix,!1,e.matrixWorldInverse.elements)),r.skinning)if(n.bindMatrix&&void 0!==l.bindMatrix&&Ve.uniformMatrix4fv(l.bindMatrix,!1,n.bindMatrix.elements),n.bindMatrixInverse&&void 0!==l.bindMatrixInverse&&Ve.uniformMatrix4fv(l.bindMatrixInverse,!1,n.bindMatrixInverse.elements),We.floatVertexTextures&&n.skeleton&&n.skeleton.useVertexTexture){if(void 0!==l.boneTexture){var p=L();Ve.uniform1i(l.boneTexture,p),ve.setTexture(n.skeleton.boneTexture,p)}void 0!==l.boneTextureWidth&&Ve.uniform1i(l.boneTextureWidth,n.skeleton.boneTextureWidth),void 0!==l.boneTextureHeight&&Ve.uniform1i(l.boneTextureHeight,n.skeleton.boneTextureHeight)}else n.skeleton&&n.skeleton.boneMatrices&&void 0!==l.boneGlobalMatrices&&Ve.uniformMatrix4fv(l.boneGlobalMatrices,!1,n.skeleton.boneMatrices);return s&&((r instanceof i.MeshPhongMaterial||r instanceof i.MeshLambertMaterial||r instanceof i.MeshStandardMaterial||r.lights)&&N(h,u),t&&r.fog&&O(h,t),(r instanceof i.MeshBasicMaterial||r instanceof i.MeshLambertMaterial||r instanceof i.MeshPhongMaterial||r instanceof i.MeshStandardMaterial)&&M(h,r),r instanceof i.LineBasicMaterial?A(h,r):r instanceof i.LineDashedMaterial?(A(h,r),T(h,r)):r instanceof i.PointsMaterial?R(h,r):r instanceof i.MeshLambertMaterial?P(h,r):r instanceof i.MeshPhongMaterial?D(h,r):r instanceof i.MeshStandardMaterial?I(h,r):r instanceof i.MeshDepthMaterial?(h.mNear.value=e.near,h.mFar.value=e.far,h.opacity.value=r.opacity):r instanceof i.MeshNormalMaterial&&(h.opacity.value=r.opacity),F(o.uniformsList)),k(l,n),void 0!==l.modelMatrix&&Ve.uniformMatrix4fv(l.modelMatrix,!1,n.matrixWorld.elements),o.hasDynamicUniforms===!0&&C(o.uniformsList,n,e),c}function C(e,t,r){for(var n=[],i=0,o=e.length;o>i;i++){var a=e[i][0],s=a.onUpdateCallback;void 0!==s&&(s.bind(a)(t,r),n.push(e[i]))}F(n)}function M(e,t){e.opacity.value=t.opacity,e.diffuse.value=t.color,t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),e.map.value=t.map,e.specularMap.value=t.specularMap,e.alphaMap.value=t.alphaMap,t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var r;if(t.map?r=t.map:t.specularMap?r=t.specularMap:t.displacementMap?r=t.displacementMap:t.normalMap?r=t.normalMap:t.bumpMap?r=t.bumpMap:t.roughnessMap?r=t.roughnessMap:t.metalnessMap?r=t.metalnessMap:t.alphaMap?r=t.alphaMap:t.emissiveMap&&(r=t.emissiveMap),void 0!==r){r instanceof i.WebGLRenderTarget&&(r=r.texture);var n=r.offset,o=r.repeat;e.offsetRepeat.value.set(n.x,n.y,o.x,o.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap instanceof i.WebGLRenderTargetCube?1:-1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio}function A(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function T(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function R(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*Pe,e.scale.value=ee.clientHeight/2,e.map.value=t.map,null!==t.map){var r=t.map.offset,n=t.map.repeat;e.offsetRepeat.value.set(r.x,r.y,n.x,n.y)}}function O(e,t){e.fogColor.value=t.color,t instanceof i.Fog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t instanceof i.FogExp2&&(e.fogDensity.value=t.density)}function P(e,t){t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function D(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function I(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function N(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function k(e,t){Ve.uniformMatrix4fv(e.modelViewMatrix,!1,t.modelViewMatrix.elements),e.normalMatrix&&Ve.uniformMatrix3fv(e.normalMatrix,!1,t.normalMatrix.elements)}function L(){var e=Me;return e>=We.maxTextures&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+We.maxTextures),Me+=1,e}function F(e){for(var t,r,n=0,o=e.length;o>n;n++){var a=e[n][0];if(a.needsUpdate!==!1){var s=a.type,u=a.value,c=e[n][1];switch(s){case"1i":Ve.uniform1i(c,u);break;case"1f":Ve.uniform1f(c,u);break;case"2f":Ve.uniform2f(c,u[0],u[1]);break;case"3f":Ve.uniform3f(c,u[0],u[1],u[2]);break;case"4f":Ve.uniform4f(c,u[0],u[1],u[2],u[3]);break;case"1iv":Ve.uniform1iv(c,u);break;case"3iv":Ve.uniform3iv(c,u);break;case"1fv":Ve.uniform1fv(c,u);break;case"2fv":Ve.uniform2fv(c,u);break;case"3fv":Ve.uniform3fv(c,u);break;case"4fv":Ve.uniform4fv(c,u);break;case"Matrix2fv":Ve.uniformMatrix2fv(c,!1,u);break;case"Matrix3fv":Ve.uniformMatrix3fv(c,!1,u);break;case"Matrix4fv":Ve.uniformMatrix4fv(c,!1,u);break;case"i":Ve.uniform1i(c,u);break;case"f":Ve.uniform1f(c,u);break;case"v2":Ve.uniform2f(c,u.x,u.y);break;case"v3":Ve.uniform3f(c,u.x,u.y,u.z);break;case"v4":Ve.uniform4f(c,u.x,u.y,u.z,u.w);break;case"c":Ve.uniform3f(c,u.r,u.g,u.b);break;case"sa":for(var l=0;l<u.length;l++)for(var h in a.properties){var p=a.properties[h],d=c[l][h],f=u[l][h];switch(p.type){case"i":Ve.uniform1i(d,f);break;case"f":Ve.uniform1f(d,f);break;case"v2":Ve.uniform2f(d,f.x,f.y);break;case"v3":Ve.uniform3f(d,f.x,f.y,f.z);break;case"v4":Ve.uniform4f(d,f.x,f.y,f.z,f.w);break;case"c":Ve.uniform3f(d,f.r,f.g,f.b);break;case"m4":Ve.uniformMatrix4fv(d,!1,f.elements)}}break;case"iv1":Ve.uniform1iv(c,u);break;case"iv":Ve.uniform3iv(c,u);break;case"fv1":Ve.uniform1fv(c,u);break;case"fv":Ve.uniform3fv(c,u);break;case"v2v":void 0===a._array&&(a._array=new Float32Array(2*u.length));for(var l=0,m=0,v=u.length;v>l;l++,m+=2)a._array[m+0]=u[l].x,a._array[m+1]=u[l].y;Ve.uniform2fv(c,a._array);break;case"v3v":void 0===a._array&&(a._array=new Float32Array(3*u.length));for(var l=0,g=0,v=u.length;v>l;l++,g+=3)a._array[g+0]=u[l].x,a._array[g+1]=u[l].y,a._array[g+2]=u[l].z;Ve.uniform3fv(c,a._array);break;case"v4v":void 0===a._array&&(a._array=new Float32Array(4*u.length));for(var l=0,y=0,v=u.length;v>l;l++,y+=4)a._array[y+0]=u[l].x,a._array[y+1]=u[l].y,a._array[y+2]=u[l].z,a._array[y+3]=u[l].w;Ve.uniform4fv(c,a._array);break;case"m2":Ve.uniformMatrix2fv(c,!1,u.elements);break;case"m3":Ve.uniformMatrix3fv(c,!1,u.elements);break;case"m3v":void 0===a._array&&(a._array=new Float32Array(9*u.length));for(var l=0,v=u.length;v>l;l++)u[l].flattenToArrayOffset(a._array,9*l);Ve.uniformMatrix3fv(c,!1,a._array);break;case"m4":Ve.uniformMatrix4fv(c,!1,u.elements);break;case"m4v":void 0===a._array&&(a._array=new Float32Array(16*u.length));for(var l=0,v=u.length;v>l;l++)u[l].flattenToArrayOffset(a._array,16*l);Ve.uniformMatrix4fv(c,!1,a._array);break;case"t":if(t=u,r=L(),Ve.uniform1i(c,r),!t)continue;t instanceof i.CubeTexture||Array.isArray(t.image)&&6===t.image.length?W(t,r):t instanceof i.WebGLRenderTargetCube?q(t.texture,r):t instanceof i.WebGLRenderTarget?ve.setTexture(t.texture,r):ve.setTexture(t,r);break;case"tv":void 0===a._array&&(a._array=[]);for(var l=0,v=a.value.length;v>l;l++)a._array[l]=L();Ve.uniform1iv(c,a._array);for(var l=0,v=a.value.length;v>l;l++)t=a.value[l],r=a._array[l],t&&(t instanceof i.CubeTexture||t.image instanceof Array&&6===t.image.length?W(t,r):t instanceof i.WebGLRenderTarget?ve.setTexture(t.texture,r):t instanceof i.WebGLRenderTargetCube?q(t.texture,r):ve.setTexture(t,r));break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+s)}}}}function j(e,t){var r,n,o,a,s,u,c=0,l=0,h=0,p=t.matrixWorldInverse,d=0,f=0,m=0,v=0,g=0;for(je.shadowsPointLight=0,r=0,n=e.length;n>r;r++)if(o=e[r],a=o.color,s=o.intensity,u=o.distance,o instanceof i.AmbientLight)c+=a.r*s,l+=a.g*s,h+=a.b*s;else if(o instanceof i.DirectionalLight){var y=Ke.get(o);y.color.copy(o.color).multiplyScalar(o.intensity),y.direction.setFromMatrixPosition(o.matrixWorld),Fe.setFromMatrixPosition(o.target.matrixWorld),y.direction.sub(Fe),y.direction.transformDirection(p),y.shadow=o.castShadow,o.castShadow&&(y.shadowBias=o.shadow.bias,y.shadowRadius=o.shadow.radius,y.shadowMapSize=o.shadow.mapSize,je.shadows[g++]=o),je.directionalShadowMap[d]=o.shadow.map,je.directionalShadowMatrix[d]=o.shadow.matrix,je.directional[d++]=y}else if(o instanceof i.SpotLight){var y=Ke.get(o);y.position.setFromMatrixPosition(o.matrixWorld),y.position.applyMatrix4(p),y.color.copy(a).multiplyScalar(s),
y.distance=u,y.direction.setFromMatrixPosition(o.matrixWorld),Fe.setFromMatrixPosition(o.target.matrixWorld),y.direction.sub(Fe),y.direction.transformDirection(p),y.angleCos=Math.cos(o.angle),y.exponent=o.exponent,y.decay=0===o.distance?0:o.decay,y.shadow=o.castShadow,o.castShadow&&(y.shadowBias=o.shadow.bias,y.shadowRadius=o.shadow.radius,y.shadowMapSize=o.shadow.mapSize,je.shadows[g++]=o),je.spotShadowMap[m]=o.shadow.map,je.spotShadowMatrix[m]=o.shadow.matrix,je.spot[m++]=y}else if(o instanceof i.PointLight){var y=Ke.get(o);y.position.setFromMatrixPosition(o.matrixWorld),y.position.applyMatrix4(p),y.color.copy(o.color).multiplyScalar(o.intensity),y.distance=o.distance,y.decay=0===o.distance?0:o.decay,y.shadow=o.castShadow,o.castShadow&&(y.shadowBias=o.shadow.bias,y.shadowRadius=o.shadow.radius,y.shadowMapSize=o.shadow.mapSize,je.shadows[g++]=o),je.pointShadowMap[f]=o.shadow.map,void 0===je.pointShadowMatrix[f]&&(je.pointShadowMatrix[f]=new i.Matrix4),Fe.setFromMatrixPosition(o.matrixWorld).negate(),je.pointShadowMatrix[f].identity().setPosition(Fe),je.point[f++]=y}else if(o instanceof i.HemisphereLight){var y=Ke.get(o);y.direction.setFromMatrixPosition(o.matrixWorld),y.direction.transformDirection(p),y.direction.normalize(),y.skyColor.copy(o.color).multiplyScalar(s),y.groundColor.copy(o.groundColor).multiplyScalar(s),je.hemi[v++]=y}je.ambient[0]=c,je.ambient[1]=l,je.ambient[2]=h,je.directional.length=d,je.spot.length=m,je.point.length=f,je.hemi.length=v,je.shadows.length=g,je.hash=d+","+f+","+m+","+v+","+g}function U(e,t,r){var n;if(r?(Ve.texParameteri(e,Ve.TEXTURE_WRAP_S,$(t.wrapS)),Ve.texParameteri(e,Ve.TEXTURE_WRAP_T,$(t.wrapT)),Ve.texParameteri(e,Ve.TEXTURE_MAG_FILTER,$(t.magFilter)),Ve.texParameteri(e,Ve.TEXTURE_MIN_FILTER,$(t.minFilter))):(Ve.texParameteri(e,Ve.TEXTURE_WRAP_S,Ve.CLAMP_TO_EDGE),Ve.texParameteri(e,Ve.TEXTURE_WRAP_T,Ve.CLAMP_TO_EDGE),(t.wrapS!==i.ClampToEdgeWrapping||t.wrapT!==i.ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",t),Ve.texParameteri(e,Ve.TEXTURE_MAG_FILTER,J(t.magFilter)),Ve.texParameteri(e,Ve.TEXTURE_MIN_FILTER,J(t.minFilter)),t.minFilter!==i.NearestFilter&&t.minFilter!==i.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",t)),n=Ge.get("EXT_texture_filter_anisotropic")){if(t.type===i.FloatType&&null===Ge.get("OES_texture_float_linear"))return;if(t.type===i.HalfFloatType&&null===Ge.get("OES_texture_half_float_linear"))return;(t.anisotropy>1||Qe.get(t).__currentAnisotropy)&&(Ve.texParameterf(e,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,ve.getMaxAnisotropy())),Qe.get(t).__currentAnisotropy=t.anisotropy)}}function B(e,t,r){void 0===e.__webglInit&&(e.__webglInit=!0,t.addEventListener("dispose",s),e.__webglTexture=Ve.createTexture(),Ue.textures++),qe.activeTexture(Ve.TEXTURE0+r),qe.bindTexture(Ve.TEXTURE_2D,e.__webglTexture),Ve.pixelStorei(Ve.UNPACK_FLIP_Y_WEBGL,t.flipY),Ve.pixelStorei(Ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Ve.pixelStorei(Ve.UNPACK_ALIGNMENT,t.unpackAlignment);var n=V(t.image,We.maxTextureSize);H(t)&&z(n)===!1&&(n=G(n));var o=z(n),a=$(t.format),u=$(t.type);U(Ve.TEXTURE_2D,t,o);var c,l=t.mipmaps;if(t instanceof i.DataTexture)if(l.length>0&&o){for(var h=0,p=l.length;p>h;h++)c=l[h],qe.texImage2D(Ve.TEXTURE_2D,h,a,c.width,c.height,0,a,u,c.data);t.generateMipmaps=!1}else qe.texImage2D(Ve.TEXTURE_2D,0,a,n.width,n.height,0,a,u,n.data);else if(t instanceof i.CompressedTexture)for(var h=0,p=l.length;p>h;h++)c=l[h],t.format!==i.RGBAFormat&&t.format!==i.RGBFormat?qe.getCompressedTextureFormats().indexOf(a)>-1?qe.compressedTexImage2D(Ve.TEXTURE_2D,h,a,c.width,c.height,0,c.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qe.texImage2D(Ve.TEXTURE_2D,h,a,c.width,c.height,0,a,u,c.data);else if(l.length>0&&o){for(var h=0,p=l.length;p>h;h++)c=l[h],qe.texImage2D(Ve.TEXTURE_2D,h,a,a,u,c);t.generateMipmaps=!1}else qe.texImage2D(Ve.TEXTURE_2D,0,a,a,u,n);t.generateMipmaps&&o&&Ve.generateMipmap(Ve.TEXTURE_2D),e.__version=t.version,t.onUpdate&&t.onUpdate(t)}function V(e,t){if(e.width>t||e.height>t){var r=t/Math.max(e.width,e.height),n=document.createElement("canvas");n.width=Math.floor(e.width*r),n.height=Math.floor(e.height*r);var i=n.getContext("2d");return i.drawImage(e,0,0,e.width,e.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+n.width+"x"+n.height,e),n}return e}function z(e){return i.Math.isPowerOfTwo(e.width)&&i.Math.isPowerOfTwo(e.height)}function H(e){return e.wrapS!==i.ClampToEdgeWrapping||e.wrapT!==i.ClampToEdgeWrapping?!0:e.minFilter!==i.NearestFilter&&e.minFilter!==i.LinearFilter?!0:!1}function G(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElement("canvas");t.width=i.Math.nearestPowerOfTwo(e.width),t.height=i.Math.nearestPowerOfTwo(e.height);var r=t.getContext("2d");return r.drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}function W(e,t){var r=Qe.get(e);if(6===e.image.length)if(e.version>0&&r.__version!==e.version){r.__image__webglTextureCube||(e.addEventListener("dispose",s),r.__image__webglTextureCube=Ve.createTexture(),Ue.textures++),qe.activeTexture(Ve.TEXTURE0+t),qe.bindTexture(Ve.TEXTURE_CUBE_MAP,r.__image__webglTextureCube),Ve.pixelStorei(Ve.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var n=e instanceof i.CompressedTexture,o=e.image[0]instanceof i.DataTexture,a=[],u=0;6>u;u++)!ve.autoScaleCubemaps||n||o?a[u]=o?e.image[u].image:e.image[u]:a[u]=V(e.image[u],We.maxCubemapSize);var c=a[0],l=z(c),h=$(e.format),p=$(e.type);U(Ve.TEXTURE_CUBE_MAP,e,l);for(var u=0;6>u;u++)if(n)for(var d,f=a[u].mipmaps,m=0,v=f.length;v>m;m++)d=f[m],e.format!==i.RGBAFormat&&e.format!==i.RGBFormat?qe.getCompressedTextureFormats().indexOf(h)>-1?qe.compressedTexImage2D(Ve.TEXTURE_CUBE_MAP_POSITIVE_X+u,m,h,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):qe.texImage2D(Ve.TEXTURE_CUBE_MAP_POSITIVE_X+u,m,h,d.width,d.height,0,h,p,d.data);else o?qe.texImage2D(Ve.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,h,a[u].width,a[u].height,0,h,p,a[u].data):qe.texImage2D(Ve.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,h,h,p,a[u]);e.generateMipmaps&&l&&Ve.generateMipmap(Ve.TEXTURE_CUBE_MAP),r.__version=e.version,e.onUpdate&&e.onUpdate(e)}else qe.activeTexture(Ve.TEXTURE0+t),qe.bindTexture(Ve.TEXTURE_CUBE_MAP,r.__image__webglTextureCube)}function q(e,t){qe.activeTexture(Ve.TEXTURE0+t),qe.bindTexture(Ve.TEXTURE_CUBE_MAP,Qe.get(e).__webglTexture)}function Q(e,t,r,n){var i=$(t.texture.format),o=$(t.texture.type);qe.texImage2D(n,0,i,t.width,t.height,0,i,o,null),Ve.bindFramebuffer(Ve.FRAMEBUFFER,e),Ve.framebufferTexture2D(Ve.FRAMEBUFFER,r,n,Qe.get(t.texture).__webglTexture,0),Ve.bindFramebuffer(Ve.FRAMEBUFFER,null)}function X(e,t){Ve.bindRenderbuffer(Ve.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(Ve.renderbufferStorage(Ve.RENDERBUFFER,Ve.DEPTH_COMPONENT16,t.width,t.height),Ve.framebufferRenderbuffer(Ve.FRAMEBUFFER,Ve.DEPTH_ATTACHMENT,Ve.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(Ve.renderbufferStorage(Ve.RENDERBUFFER,Ve.DEPTH_STENCIL,t.width,t.height),Ve.framebufferRenderbuffer(Ve.FRAMEBUFFER,Ve.DEPTH_STENCIL_ATTACHMENT,Ve.RENDERBUFFER,e)):Ve.renderbufferStorage(Ve.RENDERBUFFER,Ve.RGBA4,t.width,t.height),Ve.bindRenderbuffer(Ve.RENDERBUFFER,null)}function Y(e){var t=Qe.get(e),r=e instanceof i.WebGLRenderTargetCube;if(r){t.__webglDepthbuffer=[];for(var n=0;6>n;n++)Ve.bindFramebuffer(Ve.FRAMEBUFFER,t.__webglFramebuffer[n]),t.__webglDepthbuffer[n]=Ve.createRenderbuffer(),X(t.__webglDepthbuffer[n],e)}else Ve.bindFramebuffer(Ve.FRAMEBUFFER,t.__webglFramebuffer),t.__webglDepthbuffer=Ve.createRenderbuffer(),X(t.__webglDepthbuffer,e);Ve.bindFramebuffer(Ve.FRAMEBUFFER,null)}function K(e){var t=Qe.get(e),r=Qe.get(e.texture);e.addEventListener("dispose",u),r.__webglTexture=Ve.createTexture(),Ue.textures++;var n=e instanceof i.WebGLRenderTargetCube,o=i.Math.isPowerOfTwo(e.width)&&i.Math.isPowerOfTwo(e.height);if(n){t.__webglFramebuffer=[];for(var a=0;6>a;a++)t.__webglFramebuffer[a]=Ve.createFramebuffer()}else t.__webglFramebuffer=Ve.createFramebuffer();if(n){qe.bindTexture(Ve.TEXTURE_CUBE_MAP,r.__webglTexture),U(Ve.TEXTURE_CUBE_MAP,e.texture,o);for(var a=0;6>a;a++)Q(t.__webglFramebuffer[a],e,Ve.COLOR_ATTACHMENT0,Ve.TEXTURE_CUBE_MAP_POSITIVE_X+a);e.texture.generateMipmaps&&o&&Ve.generateMipmap(Ve.TEXTURE_CUBE_MAP),qe.bindTexture(Ve.TEXTURE_CUBE_MAP,null)}else qe.bindTexture(Ve.TEXTURE_2D,r.__webglTexture),U(Ve.TEXTURE_2D,e.texture,o),Q(t.__webglFramebuffer,e,Ve.COLOR_ATTACHMENT0,Ve.TEXTURE_2D),e.texture.generateMipmaps&&o&&Ve.generateMipmap(Ve.TEXTURE_2D),qe.bindTexture(Ve.TEXTURE_2D,null);e.depthBuffer&&Y(e)}function Z(e){var t=e instanceof i.WebGLRenderTargetCube?Ve.TEXTURE_CUBE_MAP:Ve.TEXTURE_2D,r=Qe.get(e.texture).__webglTexture;qe.bindTexture(t,r),Ve.generateMipmap(t),qe.bindTexture(t,null)}function J(e){return e===i.NearestFilter||e===i.NearestMipMapNearestFilter||e===i.NearestMipMapLinearFilter?Ve.NEAREST:Ve.LINEAR}function $(e){var t;if(e===i.RepeatWrapping)return Ve.REPEAT;if(e===i.ClampToEdgeWrapping)return Ve.CLAMP_TO_EDGE;if(e===i.MirroredRepeatWrapping)return Ve.MIRRORED_REPEAT;if(e===i.NearestFilter)return Ve.NEAREST;if(e===i.NearestMipMapNearestFilter)return Ve.NEAREST_MIPMAP_NEAREST;if(e===i.NearestMipMapLinearFilter)return Ve.NEAREST_MIPMAP_LINEAR;if(e===i.LinearFilter)return Ve.LINEAR;if(e===i.LinearMipMapNearestFilter)return Ve.LINEAR_MIPMAP_NEAREST;if(e===i.LinearMipMapLinearFilter)return Ve.LINEAR_MIPMAP_LINEAR;if(e===i.UnsignedByteType)return Ve.UNSIGNED_BYTE;if(e===i.UnsignedShort4444Type)return Ve.UNSIGNED_SHORT_4_4_4_4;if(e===i.UnsignedShort5551Type)return Ve.UNSIGNED_SHORT_5_5_5_1;if(e===i.UnsignedShort565Type)return Ve.UNSIGNED_SHORT_5_6_5;if(e===i.ByteType)return Ve.BYTE;if(e===i.ShortType)return Ve.SHORT;if(e===i.UnsignedShortType)return Ve.UNSIGNED_SHORT;if(e===i.IntType)return Ve.INT;if(e===i.UnsignedIntType)return Ve.UNSIGNED_INT;if(e===i.FloatType)return Ve.FLOAT;if(t=Ge.get("OES_texture_half_float"),null!==t&&e===i.HalfFloatType)return t.HALF_FLOAT_OES;if(e===i.AlphaFormat)return Ve.ALPHA;if(e===i.RGBFormat)return Ve.RGB;if(e===i.RGBAFormat)return Ve.RGBA;if(e===i.LuminanceFormat)return Ve.LUMINANCE;if(e===i.LuminanceAlphaFormat)return Ve.LUMINANCE_ALPHA;if(e===i.AddEquation)return Ve.FUNC_ADD;if(e===i.SubtractEquation)return Ve.FUNC_SUBTRACT;if(e===i.ReverseSubtractEquation)return Ve.FUNC_REVERSE_SUBTRACT;if(e===i.ZeroFactor)return Ve.ZERO;if(e===i.OneFactor)return Ve.ONE;if(e===i.SrcColorFactor)return Ve.SRC_COLOR;if(e===i.OneMinusSrcColorFactor)return Ve.ONE_MINUS_SRC_COLOR;if(e===i.SrcAlphaFactor)return Ve.SRC_ALPHA;if(e===i.OneMinusSrcAlphaFactor)return Ve.ONE_MINUS_SRC_ALPHA;if(e===i.DstAlphaFactor)return Ve.DST_ALPHA;if(e===i.OneMinusDstAlphaFactor)return Ve.ONE_MINUS_DST_ALPHA;if(e===i.DstColorFactor)return Ve.DST_COLOR;if(e===i.OneMinusDstColorFactor)return Ve.ONE_MINUS_DST_COLOR;if(e===i.SrcAlphaSaturateFactor)return Ve.SRC_ALPHA_SATURATE;if(t=Ge.get("WEBGL_compressed_texture_s3tc"),null!==t){if(e===i.RGB_S3TC_DXT1_Format)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===i.RGBA_S3TC_DXT1_Format)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===i.RGBA_S3TC_DXT3_Format)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===i.RGBA_S3TC_DXT5_Format)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t=Ge.get("WEBGL_compressed_texture_pvrtc"),null!==t){if(e===i.RGB_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===i.RGB_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===i.RGBA_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===i.RGBA_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t=Ge.get("WEBGL_compressed_texture_etc1"),null!==t&&e===i.RGB_ETC1_Format)return t.COMPRESSED_RGB_ETC1_WEBGL;if(t=Ge.get("EXT_blend_minmax"),null!==t){if(e===i.MinEquation)return t.MIN_EXT;if(e===i.MaxEquation)return t.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",i.REVISION),e=e||{};var ee=void 0!==e.canvas?e.canvas:document.createElement("canvas"),te=void 0!==e.context?e.context:null,re=void 0!==e.alpha?e.alpha:!1,ne=void 0!==e.depth?e.depth:!0,ie=void 0!==e.stencil?e.stencil:!0,oe=void 0!==e.antialias?e.antialias:!1,ae=void 0!==e.premultipliedAlpha?e.premultipliedAlpha:!0,se=void 0!==e.preserveDrawingBuffer?e.preserveDrawingBuffer:!1,ue=[],ce=[],le=-1,he=[],pe=-1,de=new Float32Array(8),fe=[],me=[];this.domElement=ee,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0;var ve=this,ge=null,ye=null,be=null,_e=-1,xe="",we=null,Ee=new i.Vector4,Se=null,Ce=new i.Vector4,Me=0,Ae=new i.Color(0),Te=0,Re=ee.width,Oe=ee.height,Pe=1,De=new i.Vector4(0,0,Re,Oe),Ie=!1,Ne=new i.Vector4(0,0,Re,Oe),ke=new i.Frustum,Le=new i.Matrix4,Fe=new i.Vector3,je={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[],shadowsPointLight:0},Ue={geometries:0,textures:0},Be={calls:0,vertices:0,faces:0,points:0};this.info={render:Be,memory:Ue,programs:null};var Ve;try{var ze={alpha:re,depth:ne,stencil:ie,antialias:oe,premultipliedAlpha:ae,preserveDrawingBuffer:se};if(Ve=te||ee.getContext("webgl",ze)||ee.getContext("experimental-webgl",ze),null===Ve)throw null!==ee.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";ee.addEventListener("webglcontextlost",a,!1)}catch(He){console.error("THREE.WebGLRenderer: "+He)}var Ge=new i.WebGLExtensions(Ve);Ge.get("OES_texture_float"),Ge.get("OES_texture_float_linear"),Ge.get("OES_texture_half_float"),Ge.get("OES_texture_half_float_linear"),Ge.get("OES_standard_derivatives"),Ge.get("ANGLE_instanced_arrays"),Ge.get("OES_element_index_uint")&&(i.BufferGeometry.MaxIndex=4294967296);var We=new i.WebGLCapabilities(Ve,Ge,e),qe=new i.WebGLState(Ve,Ge,$),Qe=new i.WebGLProperties,Xe=new i.WebGLObjects(Ve,Qe,this.info),Ye=new i.WebGLPrograms(this,We),Ke=new i.WebGLLights;this.info.programs=Ye.programs;var Ze=new i.WebGLBufferRenderer(Ve,Ge,Be),Je=new i.WebGLIndexedBufferRenderer(Ve,Ge,Be);n(),this.context=Ve,this.capabilities=We,this.extensions=Ge,this.properties=Qe,this.state=qe;var $e=new i.WebGLShadowMap(this,je,Xe);this.shadowMap=$e;var et=new i.SpritePlugin(this,fe),tt=new i.LensFlarePlugin(this,me);this.getContext=function(){return Ve},this.getContextAttributes=function(){return Ve.getContextAttributes()},this.forceContextLoss=function(){Ge.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){var e;return function(){if(void 0!==e)return e;var t=Ge.get("EXT_texture_filter_anisotropic");return e=null!==t?Ve.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}(),this.getPrecision=function(){return We.precision},this.getPixelRatio=function(){return Pe},this.setPixelRatio=function(e){void 0!==e&&(Pe=e,this.setSize(Ne.z,Ne.w,!1))},this.getSize=function(){return{width:Re,height:Oe}},this.setSize=function(e,t,r){Re=e,Oe=t,ee.width=e*Pe,ee.height=t*Pe,r!==!1&&(ee.style.width=e+"px",ee.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,r,n){qe.viewport(Ne.set(e,t,r,n))},this.setScissor=function(e,t,r,n){qe.scissor(De.set(e,t,r,n))},this.setScissorTest=function(e){qe.setScissorTest(Ie=e)},this.getClearColor=function(){return Ae},this.setClearColor=function(e,t){Ae.set(e),Te=void 0!==t?t:1,r(Ae.r,Ae.g,Ae.b,Te)},this.getClearAlpha=function(){return Te},this.setClearAlpha=function(e){Te=e,r(Ae.r,Ae.g,Ae.b,Te)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=Ve.COLOR_BUFFER_BIT),(void 0===t||t)&&(n|=Ve.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=Ve.STENCIL_BUFFER_BIT),Ve.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,r,n){this.setRenderTarget(e),this.clear(t,r,n)},this.resetGLState=o,this.dispose=function(){ee.removeEventListener("webglcontextlost",a,!1)},this.renderBufferImmediate=function(e,t,r){qe.initAttributes();var n=Qe.get(e);e.hasPositions&&!n.position&&(n.position=Ve.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=Ve.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=Ve.createBuffer()),e.hasColors&&!n.color&&(n.color=Ve.createBuffer());var o=t.getAttributes();if(e.hasPositions&&(Ve.bindBuffer(Ve.ARRAY_BUFFER,n.position),Ve.bufferData(Ve.ARRAY_BUFFER,e.positionArray,Ve.DYNAMIC_DRAW),qe.enableAttribute(o.position),Ve.vertexAttribPointer(o.position,3,Ve.FLOAT,!1,0,0)),e.hasNormals){if(Ve.bindBuffer(Ve.ARRAY_BUFFER,n.normal),"MeshPhongMaterial"!==r.type&&"MeshStandardMaterial"!==r.type&&r.shading===i.FlatShading)for(var a=0,s=3*e.count;s>a;a+=9){var u=e.normalArray,c=(u[a+0]+u[a+3]+u[a+6])/3,l=(u[a+1]+u[a+4]+u[a+7])/3,h=(u[a+2]+u[a+5]+u[a+8])/3;u[a+0]=c,u[a+1]=l,u[a+2]=h,u[a+3]=c,u[a+4]=l,u[a+5]=h,u[a+6]=c,u[a+7]=l,u[a+8]=h}Ve.bufferData(Ve.ARRAY_BUFFER,e.normalArray,Ve.DYNAMIC_DRAW),qe.enableAttribute(o.normal),Ve.vertexAttribPointer(o.normal,3,Ve.FLOAT,!1,0,0)}e.hasUvs&&r.map&&(Ve.bindBuffer(Ve.ARRAY_BUFFER,n.uv),Ve.bufferData(Ve.ARRAY_BUFFER,e.uvArray,Ve.DYNAMIC_DRAW),qe.enableAttribute(o.uv),Ve.vertexAttribPointer(o.uv,2,Ve.FLOAT,!1,0,0)),e.hasColors&&r.vertexColors!==i.NoColors&&(Ve.bindBuffer(Ve.ARRAY_BUFFER,n.color),Ve.bufferData(Ve.ARRAY_BUFFER,e.colorArray,Ve.DYNAMIC_DRAW),qe.enableAttribute(o.color),Ve.vertexAttribPointer(o.color,3,Ve.FLOAT,!1,0,0)),qe.disableUnusedAttributes(),Ve.drawArrays(Ve.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,r,n,o,a,s){w(o);var u=S(e,r,o,a),c=!1,l=n.id+"_"+u.id+"_"+o.wireframe;l!==xe&&(xe=l,c=!0);var h=a.morphTargetInfluences;if(void 0!==h){for(var p=[],d=0,v=h.length;v>d;d++){var g=h[d];p.push([g,d])}p.sort(m),p.length>8&&(p.length=8);for(var y=n.morphAttributes,d=0,v=p.length;v>d;d++){var g=p[d];if(de[d]=g[0],0!==g[0]){var b=g[1];o.morphTargets===!0&&y.position&&n.addAttribute("morphTarget"+d,y.position[b]),o.morphNormals===!0&&y.normal&&n.addAttribute("morphNormal"+d,y.normal[b])}else o.morphTargets===!0&&n.removeAttribute("morphTarget"+d),o.morphNormals===!0&&n.removeAttribute("morphNormal"+d)}var _=u.getUniforms();null!==_.morphTargetInfluences&&Ve.uniform1fv(_.morphTargetInfluences,de),c=!0}var b=n.index,x=n.attributes.position;o.wireframe===!0&&(b=Xe.getWireframeAttribute(n));var E;null!==b?(E=Je,E.setIndex(b)):E=Ze,c&&(f(o,u,n),null!==b&&Ve.bindBuffer(Ve.ELEMENT_ARRAY_BUFFER,Xe.getAttributeBuffer(b)));var C=0,M=1/0;null!==b?M=b.count:void 0!==x&&(M=x.count);var A=n.drawRange.start,T=n.drawRange.count,R=null!==s?s.start:0,O=null!==s?s.count:1/0,P=Math.max(C,A,R),D=Math.min(C+M,A+T,R+O)-1,I=Math.max(0,D-P+1);if(a instanceof i.Mesh)if(o.wireframe===!0)qe.setLineWidth(o.wireframeLinewidth*t()),E.setMode(Ve.LINES);else switch(a.drawMode){case i.TrianglesDrawMode:E.setMode(Ve.TRIANGLES);break;case i.TriangleStripDrawMode:E.setMode(Ve.TRIANGLE_STRIP);break;case i.TriangleFanDrawMode:E.setMode(Ve.TRIANGLE_FAN)}else if(a instanceof i.Line){var N=o.linewidth;void 0===N&&(N=1),qe.setLineWidth(N*t()),a instanceof i.LineSegments?E.setMode(Ve.LINES):E.setMode(Ve.LINE_STRIP)}else a instanceof i.Points&&E.setMode(Ve.POINTS);n instanceof i.InstancedBufferGeometry&&n.maxInstancedCount>0?E.renderInstances(n,P,I):E.render(P,I)},this.render=function(e,t,r,n){if(t instanceof i.Camera==!1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var o=e.fog;if(xe="",_e=-1,we=null,e.autoUpdate===!0&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),Le.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ke.setFromMatrix(Le),ue.length=0,le=-1,pe=-1,fe.length=0,me.length=0,b(e,t),ce.length=le+1,he.length=pe+1,ve.sortObjects===!0&&(ce.sort(v),he.sort(g)),j(ue,t),$e.render(e,t),Be.calls=0,Be.vertices=0,Be.faces=0,Be.points=0,void 0===r&&(r=null),this.setRenderTarget(r),(this.autoClear||n)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),e.overrideMaterial){var a=e.overrideMaterial;_(ce,t,o,a),_(he,t,o,a)}else qe.setBlending(i.NoBlending),_(ce,t,o),_(he,t,o);if(et.render(e,t),tt.render(e,t,Ce),r){var s=r.texture;s.generateMipmaps&&z(r)&&s.minFilter!==i.NearestFilter&&s.minFilter!==i.LinearFilter&&Z(r)}qe.setDepthTest(!0),qe.setDepthWrite(!0),qe.setColorWrite(!0)},this.setFaceCulling=function(e,t){e===i.CullFaceNone?qe.disable(Ve.CULL_FACE):(t===i.FrontFaceDirectionCW?Ve.frontFace(Ve.CW):Ve.frontFace(Ve.CCW),e===i.CullFaceBack?Ve.cullFace(Ve.BACK):e===i.CullFaceFront?Ve.cullFace(Ve.FRONT):Ve.cullFace(Ve.FRONT_AND_BACK),qe.enable(Ve.CULL_FACE))},this.setTexture=function(e,t){var r=Qe.get(e);if(e.version>0&&r.__version!==e.version){var n=e.image;return void 0===n?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e):n.complete===!1?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e):void B(r,e,t)}qe.activeTexture(Ve.TEXTURE0+t),qe.bindTexture(Ve.TEXTURE_2D,r.__webglTexture)},this.setRenderTarget=function(e){ye=e,e&&void 0===Qe.get(e).__webglFramebuffer&&K(e);var t,r=e instanceof i.WebGLRenderTargetCube;if(e){var n=Qe.get(e);t=r?n.__webglFramebuffer[e.activeCubeFace]:n.__webglFramebuffer,Ee.copy(e.scissor),Se=e.scissorTest,Ce.copy(e.viewport)}else t=null,Ee.copy(De).multiplyScalar(Pe),Se=Ie,Ce.copy(Ne).multiplyScalar(Pe);if(be!==t&&(Ve.bindFramebuffer(Ve.FRAMEBUFFER,t),be=t),qe.scissor(Ee),qe.setScissorTest(Se),qe.viewport(Ce),r){var o=Qe.get(e.texture);Ve.framebufferTexture2D(Ve.FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,Ve.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,o.__webglTexture,0)}},this.readRenderTargetPixels=function(e,t,r,n,o,a){if(e instanceof i.WebGLRenderTarget==!1)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var s=Qe.get(e).__webglFramebuffer;if(s){var u=!1;s!==be&&(Ve.bindFramebuffer(Ve.FRAMEBUFFER,s),u=!0);try{var c=e.texture;if(c.format!==i.RGBAFormat&&$(c.format)!==Ve.getParameter(Ve.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c.type===i.UnsignedByteType||$(c.type)===Ve.getParameter(Ve.IMPLEMENTATION_COLOR_READ_TYPE)||c.type===i.FloatType&&Ge.get("WEBGL_color_buffer_float")||c.type===i.HalfFloatType&&Ge.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ve.checkFramebufferStatus(Ve.FRAMEBUFFER)===Ve.FRAMEBUFFER_COMPLETE?Ve.readPixels(t,r,n,o,$(c.format),$(c.type),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{u&&Ve.bindFramebuffer(Ve.FRAMEBUFFER,be)}}}},i.WebGLRenderTarget=function(e,t,r){this.uuid=i.Math.generateUUID(),this.width=e,this.height=t,this.scissor=new i.Vector4(0,0,e,t),this.scissorTest=!1,this.viewport=new i.Vector4(0,0,e,t),r=r||{},void 0===r.minFilter&&(r.minFilter=i.LinearFilter),this.texture=new i.Texture(void 0,void 0,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy),this.depthBuffer=void 0!==r.depthBuffer?r.depthBuffer:!0,this.stencilBuffer=void 0!==r.stencilBuffer?r.stencilBuffer:!0},i.WebGLRenderTarget.prototype={constructor:i.WebGLRenderTarget,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.shareDepthFrom=e.shareDepthFrom,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.WebGLRenderTarget.prototype),i.WebGLRenderTargetCube=function(e,t,r){i.WebGLRenderTarget.call(this,e,t,r),this.activeCubeFace=0},i.WebGLRenderTargetCube.prototype=Object.create(i.WebGLRenderTarget.prototype),i.WebGLRenderTargetCube.prototype.constructor=i.WebGLRenderTargetCube,i.WebGLBufferRenderer=function(e,t,r){function n(e){s=e}function o(t,n){e.drawArrays(s,t,n),r.calls++,r.vertices+=n,s===e.TRIANGLES&&(r.faces+=n/3)}function a(n){var o=t.get("ANGLE_instanced_arrays");if(null===o)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var a=n.attributes.position,u=0;a instanceof i.InterleavedBufferAttribute?(u=a.data.count,o.drawArraysInstancedANGLE(s,0,u,n.maxInstancedCount)):(u=a.count,o.drawArraysInstancedANGLE(s,0,u,n.maxInstancedCount)),r.calls++,r.vertices+=u*n.maxInstancedCount,s===e.TRIANGLES&&(r.faces+=n.maxInstancedCount*u/3)}var s;this.setMode=n,this.render=o,this.renderInstances=a},i.WebGLIndexedBufferRenderer=function(e,t,r){function n(e){s=e}function i(r){r.array instanceof Uint32Array&&t.get("OES_element_index_uint")?(u=e.UNSIGNED_INT,c=4):(u=e.UNSIGNED_SHORT,c=2)}function o(t,n){e.drawElements(s,n,u,t*c),r.calls++,r.vertices+=n,s===e.TRIANGLES&&(r.faces+=n/3)}function a(n,i,o){var a=t.get("ANGLE_instanced_arrays");return null===a?void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(a.drawElementsInstancedANGLE(s,o,u,i*c,n.maxInstancedCount),r.calls++,r.vertices+=o*n.maxInstancedCount,void(s===e.TRIANGLES&&(r.faces+=n.maxInstancedCount*o/3)))}var s,u,c;this.setMode=n,this.setIndex=i,this.render=o,this.renderInstances=a},i.WebGLExtensions=function(e){var t={};this.get=function(r){if(void 0!==t[r])return t[r];var n;switch(r){case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":n=e.getExtension("WEBGL_compressed_texture_etc1");break;default:n=e.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),t[r]=n,n}},i.WebGLCapabilities=function(e,t,r){function n(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}this.getMaxPrecision=n,this.precision=void 0!==r.precision?r.precision:"highp",this.logarithmicDepthBuffer=void 0!==r.logarithmicDepthBuffer?r.logarithmicDepthBuffer:!1,this.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxCubemapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=e.getParameter(e.MAX_VARYING_VECTORS),this.maxFragmentUniforms=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!t.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var i=n(this.precision);i!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",i,"instead."),this.precision=i),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!t.get("EXT_frag_depth"))},i.WebGLGeometries=function(e,t,r){function n(e){var t=e.geometry;if(void 0!==l[t.id])return l[t.id];t.addEventListener("dispose",o);var n;return t instanceof i.BufferGeometry?n=t:t instanceof i.Geometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new i.BufferGeometry).setFromObject(e)),n=t._bufferGeometry),l[t.id]=n,r.memory.geometries++,n}function o(e){var n=e.target,i=l[n.id];null!==i.index&&s(i.index),u(i.attributes),n.removeEventListener("dispose",o),delete l[n.id];var a=t.get(n);a.wireframe&&s(a.wireframe),t["delete"](n);var c=t.get(i);c.wireframe&&s(c.wireframe),t["delete"](i),r.memory.geometries--}function a(e){return e instanceof i.InterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}function s(t){var r=a(t);void 0!==r&&(e.deleteBuffer(r),c(t))}function u(e){for(var t in e)s(e[t])}function c(e){e instanceof i.InterleavedBufferAttribute?t["delete"](e.data):t["delete"](e)}var l={};this.get=n},i.WebGLLights=function(){var e={};this.get=function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":r={direction:new i.Vector3,color:new i.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i.Vector2};break;case"SpotLight":r={position:new i.Vector3,direction:new i.Vector3,color:new i.Color,distance:0,angleCos:0,exponent:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i.Vector2};break;case"PointLight":r={position:new i.Vector3,color:new i.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i.Vector2};break;case"HemisphereLight":r={direction:new i.Vector3,skyColor:new i.Color,groundColor:new i.Color}}return e[t.id]=r,r}},i.WebGLObjects=function(e,t,r){function n(t){var r=h.get(t);t.geometry instanceof i.Geometry&&r.updateFromObject(t);var n=r.index,a=r.attributes;null!==n&&o(n,e.ELEMENT_ARRAY_BUFFER);for(var s in a)o(a[s],e.ARRAY_BUFFER);var u=r.morphAttributes;for(var s in u)for(var c=u[s],l=0,p=c.length;p>l;l++)o(c[l],e.ARRAY_BUFFER);return r}function o(e,r){var n=e instanceof i.InterleavedBufferAttribute?e.data:e,o=t.get(n);void 0===o.__webglBuffer?a(o,n,r):o.version!==n.version&&s(o,n,r)}function a(t,r,n){t.__webglBuffer=e.createBuffer(),e.bindBuffer(n,t.__webglBuffer);var i=r.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW;e.bufferData(n,r.array,i),t.version=r.version}function s(t,r,n){e.bindBuffer(n,t.__webglBuffer),r.dynamic===!1||-1===r.updateRange.count?e.bufferSubData(n,0,r.array):0===r.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(n,r.updateRange.offset*r.array.BYTES_PER_ELEMENT,r.array.subarray(r.updateRange.offset,r.updateRange.offset+r.updateRange.count)),r.updateRange.count=0),t.version=r.version}function u(e){return e instanceof i.InterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}function c(r){var n=t.get(r);if(void 0!==n.wireframe)return n.wireframe;var a=[],s=r.index,u=r.attributes,c=u.position;if(null!==s)for(var h={},p=s.array,d=0,f=p.length;f>d;d+=3){var m=p[d+0],v=p[d+1],g=p[d+2];l(h,m,v)&&a.push(m,v),l(h,v,g)&&a.push(v,g),l(h,g,m)&&a.push(g,m)}else for(var p=u.position.array,d=0,f=p.length/3-1;f>d;d+=3){
var m=d+0,v=d+1,g=d+2;a.push(m,v,v,g,g,m)}var y=c.count>65535?Uint32Array:Uint16Array,b=new i.BufferAttribute(new y(a),1);return o(b,e.ELEMENT_ARRAY_BUFFER),n.wireframe=b,b}function l(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];return void 0===i?(e[t]=[r],!0):-1===i.indexOf(r)?(i.push(r),!0):!1}var h=new i.WebGLGeometries(e,t,r);this.getAttributeBuffer=u,this.getWireframeAttribute=c,this.update=n},i.WebGLProgram=function(){function e(e,t,r){e=e||{};var n=[e.derivatives||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&r.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&r.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&r.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return n.filter(o).join("\n")}function t(e){var t=[];for(var r in e){var n=e[r];n!==!1&&t.push("#define "+r+" "+n)}return t.join("\n")}function r(e,t,r){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),o=0;i>o;o++){var a=e.getActiveUniform(t,o),s=a.name,u=e.getUniformLocation(t,s),p=c.exec(s);if(p){var d=p[1],f=p[2],m=n[d];m||(m=n[d]={}),m[f]=u}else if(p=l.exec(s)){var v=p[1],g=p[2],y=p[3],b=n[v];b||(b=n[v]=[]);var _=b[g];_||(_=b[g]={}),_[y]=u}else if(p=h.exec(s)){var v=p[1];n[v]=u}else n[s]=u}return n}function n(e,t,r){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;i>o;o++){var a=e.getActiveAttrib(t,o),s=a.name;n[s]=e.getAttribLocation(t,s)}return n}function o(e){return""!==e}function a(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function s(e){function t(e,t,r,n){for(var i="",o=parseInt(t);o<parseInt(r);o++)i+=n.replace(/\[ i \]/g,"[ "+o+" ]");return i}var r=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return e.replace(r,t)}var u=0,c=/^([\w\d_]+)\.([\w\d_]+)$/,l=/^([\w\d_]+)\[(\d+)\]\.([\w\d_]+)$/,h=/^([\w\d_]+)\[0\]$/;return function(c,l,h,p){var d=c.context,f=h.extensions,m=h.defines,v=h.__webglShader.vertexShader,g=h.__webglShader.fragmentShader,y="SHADOWMAP_TYPE_BASIC";p.shadowMapType===i.PCFShadowMap?y="SHADOWMAP_TYPE_PCF":p.shadowMapType===i.PCFSoftShadowMap&&(y="SHADOWMAP_TYPE_PCF_SOFT");var b="ENVMAP_TYPE_CUBE",_="ENVMAP_MODE_REFLECTION",x="ENVMAP_BLENDING_MULTIPLY";if(p.envMap){switch(h.envMap.mapping){case i.CubeReflectionMapping:case i.CubeRefractionMapping:b="ENVMAP_TYPE_CUBE";break;case i.EquirectangularReflectionMapping:case i.EquirectangularRefractionMapping:b="ENVMAP_TYPE_EQUIREC";break;case i.SphericalReflectionMapping:b="ENVMAP_TYPE_SPHERE"}switch(h.envMap.mapping){case i.CubeRefractionMapping:case i.EquirectangularRefractionMapping:_="ENVMAP_MODE_REFRACTION"}switch(h.combine){case i.MultiplyOperation:x="ENVMAP_BLENDING_MULTIPLY";break;case i.MixOperation:x="ENVMAP_BLENDING_MIX";break;case i.AddOperation:x="ENVMAP_BLENDING_ADD"}}var w,E,S=c.gammaFactor>0?c.gammaFactor:1,C=e(f,p,c.extensions),M=t(m),A=d.createProgram();h instanceof i.RawShaderMaterial?(w="",E=""):(w=["precision "+p.precision+" float;","precision "+p.precision+" int;","#define SHADER_NAME "+h.__webglShader.name,M,p.supportsVertexTextures?"#define VERTEX_TEXTURES":"",c.gammaInput?"#define GAMMA_INPUT":"",c.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+S,"#define MAX_BONES "+p.maxBones,p.map?"#define USE_MAP":"",p.envMap?"#define USE_ENVMAP":"",p.envMap?"#define "+_:"",p.lightMap?"#define USE_LIGHTMAP":"",p.aoMap?"#define USE_AOMAP":"",p.emissiveMap?"#define USE_EMISSIVEMAP":"",p.bumpMap?"#define USE_BUMPMAP":"",p.normalMap?"#define USE_NORMALMAP":"",p.displacementMap&&p.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",p.specularMap?"#define USE_SPECULARMAP":"",p.roughnessMap?"#define USE_ROUGHNESSMAP":"",p.metalnessMap?"#define USE_METALNESSMAP":"",p.alphaMap?"#define USE_ALPHAMAP":"",p.vertexColors?"#define USE_COLOR":"",p.flatShading?"#define FLAT_SHADED":"",p.skinning?"#define USE_SKINNING":"",p.useVertexTexture?"#define BONE_TEXTURE":"",p.morphTargets?"#define USE_MORPHTARGETS":"",p.morphNormals&&p.flatShading===!1?"#define USE_MORPHNORMALS":"",p.doubleSided?"#define DOUBLE_SIDED":"",p.flipSided?"#define FLIP_SIDED":"",p.shadowMapEnabled?"#define USE_SHADOWMAP":"",p.shadowMapEnabled?"#define "+y:"",p.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",p.sizeAttenuation?"#define USE_SIZEATTENUATION":"",p.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",p.logarithmicDepthBuffer&&c.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(o).join("\n"),E=[C,"precision "+p.precision+" float;","precision "+p.precision+" int;","#define SHADER_NAME "+h.__webglShader.name,M,p.alphaTest?"#define ALPHATEST "+p.alphaTest:"",c.gammaInput?"#define GAMMA_INPUT":"",c.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+S,p.useFog&&p.fog?"#define USE_FOG":"",p.useFog&&p.fogExp?"#define FOG_EXP2":"",p.map?"#define USE_MAP":"",p.envMap?"#define USE_ENVMAP":"",p.envMap?"#define "+b:"",p.envMap?"#define "+_:"",p.envMap?"#define "+x:"",p.lightMap?"#define USE_LIGHTMAP":"",p.aoMap?"#define USE_AOMAP":"",p.emissiveMap?"#define USE_EMISSIVEMAP":"",p.bumpMap?"#define USE_BUMPMAP":"",p.normalMap?"#define USE_NORMALMAP":"",p.specularMap?"#define USE_SPECULARMAP":"",p.roughnessMap?"#define USE_ROUGHNESSMAP":"",p.metalnessMap?"#define USE_METALNESSMAP":"",p.alphaMap?"#define USE_ALPHAMAP":"",p.vertexColors?"#define USE_COLOR":"",p.flatShading?"#define FLAT_SHADED":"",p.doubleSided?"#define DOUBLE_SIDED":"",p.flipSided?"#define FLIP_SIDED":"",p.shadowMapEnabled?"#define USE_SHADOWMAP":"",p.shadowMapEnabled?"#define "+y:"",p.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",p.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",p.logarithmicDepthBuffer&&c.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",p.envMap&&c.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","\n"].filter(o).join("\n")),v=a(v,p),g=a(g,p),h instanceof i.ShaderMaterial==!1&&(v=s(v),g=s(g));var T=w+v,R=E+g,O=i.WebGLShader(d,d.VERTEX_SHADER,T),P=i.WebGLShader(d,d.FRAGMENT_SHADER,R);d.attachShader(A,O),d.attachShader(A,P),void 0!==h.index0AttributeName?d.bindAttribLocation(A,0,h.index0AttributeName):p.morphTargets===!0&&d.bindAttribLocation(A,0,"position"),d.linkProgram(A);var D=d.getProgramInfoLog(A),I=d.getShaderInfoLog(O),N=d.getShaderInfoLog(P),k=!0,L=!0;d.getProgramParameter(A,d.LINK_STATUS)===!1?(k=!1,console.error("THREE.WebGLProgram: shader error: ",d.getError(),"gl.VALIDATE_STATUS",d.getProgramParameter(A,d.VALIDATE_STATUS),"gl.getProgramInfoLog",D,I,N)):""!==D?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",D):(""===I||""===N)&&(L=!1),L&&(this.diagnostics={runnable:k,material:h,programLog:D,vertexShader:{log:I,prefix:w},fragmentShader:{log:N,prefix:E}}),d.deleteShader(O),d.deleteShader(P);var F;this.getUniforms=function(){return void 0===F&&(F=r(d,A)),F};var j;return this.getAttributes=function(){return void 0===j&&(j=n(d,A)),j},this.destroy=function(){d.deleteProgram(A),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=u++,this.code=l,this.usedTimes=1,this.program=A,this.vertexShader=O,this.fragmentShader=P,this}}(),i.WebGLPrograms=function(e,t){function r(e){if(t.floatVertexTextures&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var r=t.maxVertexUniforms,n=Math.floor((r-20)/4),o=n;return void 0!==e&&e instanceof i.SkinnedMesh&&(o=Math.min(e.skeleton.bones.length,o),o<e.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+o+" (try OpenGL instead of ANGLE)")),o}var n=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"standard",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","envMap","envMapMode","lightMap","aoMap","emissiveMap","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","pointLightShadows","shadowMapType","alphaTest","doubleSided","flipSided"];this.getParameters=function(n,a,s,u){var c=o[n.type],l=r(u),h=e.getPrecision();null!==n.precision&&(h=t.getMaxPrecision(n.precision),h!==n.precision&&console.warn("THREE.WebGLProgram.getParameters:",n.precision,"not supported, using",h,"instead."));var p={shaderID:c,precision:h,supportsVertexTextures:t.vertexTextures,map:!!n.map,envMap:!!n.envMap,envMapMode:n.envMap&&n.envMap.mapping,lightMap:!!n.lightMap,aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,combine:n.combine,vertexColors:n.vertexColors,fog:s,useFog:n.fog,fogExp:s instanceof i.FogExp2,flatShading:n.shading===i.FlatShading,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:t.logarithmicDepthBuffer,skinning:n.skinning,maxBones:l,useVertexTexture:t.floatVertexTextures&&u&&u.skeleton&&u.skeleton.useVertexTexture,morphTargets:n.morphTargets,morphNormals:n.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numHemiLights:a.hemi.length,pointLightShadows:a.shadowsPointLight,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&a.shadows.length>0,shadowMapType:e.shadowMap.type,alphaTest:n.alphaTest,doubleSided:n.side===i.DoubleSide,flipSided:n.side===i.BackSide};return p},this.getProgramCode=function(e,t){var r=[];if(t.shaderID?r.push(t.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var n in e.defines)r.push(n),r.push(e.defines[n]);for(var i=0;i<a.length;i++){var o=a[i];r.push(o),r.push(t[o])}return r.join()},this.acquireProgram=function(t,r,o){for(var a,s=0,u=n.length;u>s;s++){var c=n[s];if(c.code===o){a=c,++a.usedTimes;break}}return void 0===a&&(a=new i.WebGLProgram(e,o,t,r),n.push(a)),a},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=n.indexOf(e);n[t]=n[n.length-1],n.pop(),e.destroy()}},this.programs=n},i.WebGLProperties=function(){var e={};this.get=function(t){var r=t.uuid,n=e[r];return void 0===n&&(n={},e[r]=n),n},this["delete"]=function(t){delete e[t.uuid]},this.clear=function(){e={}}},i.WebGLShader=function(){function e(e){for(var t=e.split("\n"),r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join("\n")}return function(t,r,n){var i=t.createShader(r);return t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",r===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(i),e(n)),i}}(),i.WebGLShadowMap=function(e,t,r){function n(e,t,r,n){var o=e.geometry,a=null,s=v,u=e.customDepthMaterial;if(r&&(s=g,u=e.customDistanceMaterial),u)a=u;else{var c=void 0!==o.morphTargets&&o.morphTargets.length>0&&t.morphTargets,l=e instanceof i.SkinnedMesh&&t.skinning,h=0;c&&(h|=d),l&&(h|=f),a=s[h]}return a.visible=t.visible,a.wireframe=t.wireframe,a.wireframeLinewidth=t.wireframeLinewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(n),a}function o(e,t,r){if(e.visible!==!1){if(e.layers.test(t.layers)&&(e instanceof i.Mesh||e instanceof i.Line||e instanceof i.Points)&&e.castShadow&&(e.frustumCulled===!1||u.intersectsObject(e)===!0)){var n=e.material;n.visible===!0&&(e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),p.push(e))}for(var a=e.children,s=0,c=a.length;c>s;s++)o(a[s],t,r)}}for(var a=e.context,s=e.state,u=new i.Frustum,c=new i.Matrix4,l=new i.Vector3,h=new i.Vector3,p=[],d=1,f=2,m=(d|f)+1,v=new Array(m),g=new Array(m),y=[new i.Vector3(1,0,0),new i.Vector3(-1,0,0),new i.Vector3(0,0,1),new i.Vector3(0,0,-1),new i.Vector3(0,1,0),new i.Vector3(0,-1,0)],b=[new i.Vector3(0,1,0),new i.Vector3(0,1,0),new i.Vector3(0,1,0),new i.Vector3(0,1,0),new i.Vector3(0,0,1),new i.Vector3(0,0,-1)],_=[new i.Vector4,new i.Vector4,new i.Vector4,new i.Vector4,new i.Vector4,new i.Vector4],x=i.ShaderLib.depthRGBA,w=i.UniformsUtils.clone(x.uniforms),E=i.ShaderLib.distanceRGBA,S=i.UniformsUtils.clone(E.uniforms),C=0;C!==m;++C){var M=0!==(C&d),A=0!==(C&f),T=new i.ShaderMaterial({uniforms:w,vertexShader:x.vertexShader,fragmentShader:x.fragmentShader,morphTargets:M,skinning:A});T._shadowPass=!0,v[C]=T;var R=new i.ShaderMaterial({uniforms:S,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,morphTargets:M,skinning:A});R._shadowPass=!0,g[C]=R}var O=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=i.PCFShadowMap,this.cullFace=i.CullFaceFront,this.render=function(d,f){var m,v;if(O.enabled!==!1&&(O.autoUpdate!==!1||O.needsUpdate!==!1)){s.clearColor(1,1,1,1),s.disable(a.BLEND),s.enable(a.CULL_FACE),a.frontFace(a.CCW),a.cullFace(O.cullFace===i.CullFaceFront?a.FRONT:a.BACK),s.setDepthTest(!0),s.setScissorTest(!1);for(var g=t.shadows,x=0,w=g.length;w>x;x++){var E=g[x],S=E.shadow,C=S.camera,M=S.mapSize;if(E instanceof i.PointLight){m=6,v=!0;var A=M.x/4,T=M.y/2;_[0].set(2*A,T,A,T),_[1].set(0,T,A,T),_[2].set(3*A,T,A,T),_[3].set(A,T,A,T),_[4].set(3*A,0,A,T),_[5].set(A,0,A,T)}else m=1,v=!1;if(null===S.map){var R={minFilter:i.LinearFilter,magFilter:i.LinearFilter,format:i.RGBAFormat};S.map=new i.WebGLRenderTarget(M.x,M.y,R),E instanceof i.SpotLight&&(C.aspect=M.x/M.y),C.updateProjectionMatrix()}var P=S.map,D=S.matrix;h.setFromMatrixPosition(E.matrixWorld),C.position.copy(h),e.setRenderTarget(P),e.clear();for(var I=0;m>I;I++){if(v){l.copy(C.position),l.add(y[I]),C.up.copy(b[I]),C.lookAt(l);var N=_[I];s.viewport(N)}else l.setFromMatrixPosition(E.target.matrixWorld),C.lookAt(l);C.updateMatrixWorld(),C.matrixWorldInverse.getInverse(C.matrixWorld),D.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),D.multiply(C.projectionMatrix),D.multiply(C.matrixWorldInverse),c.multiplyMatrices(C.projectionMatrix,C.matrixWorldInverse),u.setFromMatrix(c),p.length=0,o(d,f,C);for(var k=0,L=p.length;L>k;k++){var F=p[k],j=r.update(F),U=F.material;if(U instanceof i.MultiMaterial)for(var B=j.groups,V=U.materials,z=0,H=B.length;H>z;z++){var G=B[z],W=V[G.materialIndex];if(W.visible===!0){var q=n(F,W,v,h);e.renderBufferDirect(C,null,j,q,F,G)}}else{var q=n(F,U,v,h);e.renderBufferDirect(C,null,j,q,F,null)}}}e.resetGLState()}var Q=e.getClearColor(),X=e.getClearAlpha();e.setClearColor(Q,X),s.enable(a.BLEND),O.cullFace===i.CullFaceFront&&a.cullFace(a.BACK),e.resetGLState(),O.needsUpdate=!1}}},i.WebGLState=function(e,t,r){var n=this,o=new i.Vector4,a=new Uint8Array(16),s=new Uint8Array(16),u=new Uint8Array(16),c={},l=null,h=null,p=null,d=null,f=null,m=null,v=null,g=null,y=null,b=null,_=null,x=null,w=null,E=null,S=null,C=null,M=null,A=null,T=null,R=null,O=null,P=null,D=null,I=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),N=void 0,k={},L=new i.Vector4,F=null,j=null,U=new i.Vector4,B=new i.Vector4;this.init=function(){this.clearColor(0,0,0,1),this.clearDepth(1),this.clearStencil(0),this.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.frontFace(e.CCW),e.cullFace(e.BACK),this.enable(e.CULL_FACE),this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)},this.initAttributes=function(){for(var e=0,t=a.length;t>e;e++)a[e]=0},this.enableAttribute=function(r){if(a[r]=1,0===s[r]&&(e.enableVertexAttribArray(r),s[r]=1),0!==u[r]){var n=t.get("ANGLE_instanced_arrays");n.vertexAttribDivisorANGLE(r,0),u[r]=0}},this.enableAttributeAndDivisor=function(t,r,n){a[t]=1,0===s[t]&&(e.enableVertexAttribArray(t),s[t]=1),u[t]!==r&&(n.vertexAttribDivisorANGLE(t,r),u[t]=r)},this.disableUnusedAttributes=function(){for(var t=0,r=s.length;r>t;t++)s[t]!==a[t]&&(e.disableVertexAttribArray(t),s[t]=0)},this.enable=function(t){c[t]!==!0&&(e.enable(t),c[t]=!0)},this.disable=function(t){c[t]!==!1&&(e.disable(t),c[t]=!1)},this.getCompressedTextureFormats=function(){if(null===l&&(l=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var r=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),n=0;n<r.length;n++)l.push(r[n]);return l},this.setBlending=function(t,n,o,a,s,u,c){t===i.NoBlending?this.disable(e.BLEND):this.enable(e.BLEND),t!==h&&(t===i.AdditiveBlending?(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):t===i.SubtractiveBlending?(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):t===i.MultiplyBlending?(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)),h=t),t===i.CustomBlending?(s=s||n,u=u||o,c=c||a,(n!==p||s!==m)&&(e.blendEquationSeparate(r(n),r(s)),p=n,m=s),(o!==d||a!==f||u!==v||c!==g)&&(e.blendFuncSeparate(r(o),r(a),r(u),r(c)),d=o,f=a,v=u,g=c)):(p=null,d=null,f=null,m=null,v=null,g=null)},this.setDepthFunc=function(t){if(y!==t){if(t)switch(t){case i.NeverDepth:e.depthFunc(e.NEVER);break;case i.AlwaysDepth:e.depthFunc(e.ALWAYS);break;case i.LessDepth:e.depthFunc(e.LESS);break;case i.LessEqualDepth:e.depthFunc(e.LEQUAL);break;case i.EqualDepth:e.depthFunc(e.EQUAL);break;case i.GreaterEqualDepth:e.depthFunc(e.GEQUAL);break;case i.GreaterDepth:e.depthFunc(e.GREATER);break;case i.NotEqualDepth:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);y=t}},this.setDepthTest=function(t){t?this.enable(e.DEPTH_TEST):this.disable(e.DEPTH_TEST)},this.setDepthWrite=function(t){b!==t&&(e.depthMask(t),b=t)},this.setColorWrite=function(t){_!==t&&(e.colorMask(t,t,t,t),_=t)},this.setStencilFunc=function(t,r,n){(w!==t||E!==r||S!==n)&&(e.stencilFunc(t,r,n),w=t,E=r,S=n)},this.setStencilOp=function(t,r,n){(C!==t||M!==r||A!==n)&&(e.stencilOp(t,r,n),C=t,M=r,A=n)},this.setStencilTest=function(t){t?this.enable(e.STENCIL_TEST):this.disable(e.STENCIL_TEST)},this.setStencilWrite=function(t){x!==t&&(e.stencilMask(t),x=t)},this.setFlipSided=function(t){T!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),T=t)},this.setLineWidth=function(t){t!==R&&(e.lineWidth(t),R=t)},this.setPolygonOffset=function(t,r,n){t?this.enable(e.POLYGON_OFFSET_FILL):this.disable(e.POLYGON_OFFSET_FILL),!t||O===r&&P===n||(e.polygonOffset(r,n),O=r,P=n)},this.getScissorTest=function(){return D},this.setScissorTest=function(t){D=t,t?this.enable(e.SCISSOR_TEST):this.disable(e.SCISSOR_TEST)},this.activeTexture=function(t){void 0===t&&(t=e.TEXTURE0+I-1),N!==t&&(e.activeTexture(t),N=t)},this.bindTexture=function(t,r){void 0===N&&n.activeTexture();var i=k[N];void 0===i&&(i={type:void 0,texture:void 0},k[N]=i),(i.type!==t||i.texture!==r)&&(e.bindTexture(t,r),i.type=t,i.texture=r)},this.compressedTexImage2D=function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error(t)}},this.texImage2D=function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error(t)}},this.clearColor=function(t,r,n,i){o.set(t,r,n,i),L.equals(o)===!1&&(e.clearColor(t,r,n,i),L.copy(o))},this.clearDepth=function(t){F!==t&&(e.clearDepth(t),F=t)},this.clearStencil=function(t){j!==t&&(e.clearStencil(t),j=t)},this.scissor=function(t){U.equals(t)===!1&&(e.scissor(t.x,t.y,t.z,t.w),U.copy(t))},this.viewport=function(t){B.equals(t)===!1&&(e.viewport(t.x,t.y,t.z,t.w),B.copy(t))},this.reset=function(){for(var t=0;t<s.length;t++)1===s[t]&&(e.disableVertexAttribArray(t),s[t]=0);c={},l=null,h=null,_=null,b=null,x=null,T=null}},i.LensFlarePlugin=function(e,t){function r(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),t=new Uint16Array([0,1,2,0,2,3]);o=d.createBuffer(),a=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,o),d.bufferData(d.ARRAY_BUFFER,e,d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),d.bufferData(d.ELEMENT_ARRAY_BUFFER,t,d.STATIC_DRAW),h=d.createTexture(),p=d.createTexture(),f.bindTexture(d.TEXTURE_2D,h),d.texImage2D(d.TEXTURE_2D,0,d.RGB,16,16,0,d.RGB,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),f.bindTexture(d.TEXTURE_2D,p),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),l=d.getParameter(d.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var r;r=l?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},s=n(r),u={vertex:d.getAttribLocation(s,"position"),uv:d.getAttribLocation(s,"uv")},c={renderType:d.getUniformLocation(s,"renderType"),map:d.getUniformLocation(s,"map"),occlusionMap:d.getUniformLocation(s,"occlusionMap"),opacity:d.getUniformLocation(s,"opacity"),color:d.getUniformLocation(s,"color"),scale:d.getUniformLocation(s,"scale"),rotation:d.getUniformLocation(s,"rotation"),screenPosition:d.getUniformLocation(s,"screenPosition")}}function n(t){var r=d.createProgram(),n=d.createShader(d.FRAGMENT_SHADER),i=d.createShader(d.VERTEX_SHADER),o="precision "+e.getPrecision()+" float;\n";return d.shaderSource(n,o+t.fragmentShader),d.shaderSource(i,o+t.vertexShader),d.compileShader(n),d.compileShader(i),d.attachShader(r,n),d.attachShader(r,i),d.linkProgram(r),r}var o,a,s,u,c,l,h,p,d=e.context,f=e.state;this.render=function(n,m,v){if(0!==t.length){var g=new i.Vector3,y=v.w/v.z,b=.5*v.z,_=.5*v.w,x=16/v.w,w=new i.Vector2(x*y,x),E=new i.Vector3(1,1,0),S=new i.Vector2(1,1);void 0===s&&r(),d.useProgram(s),f.initAttributes(),f.enableAttribute(u.vertex),f.enableAttribute(u.uv),f.disableUnusedAttributes(),d.uniform1i(c.occlusionMap,0),d.uniform1i(c.map,1),d.bindBuffer(d.ARRAY_BUFFER,o),d.vertexAttribPointer(u.vertex,2,d.FLOAT,!1,16,0),d.vertexAttribPointer(u.uv,2,d.FLOAT,!1,16,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),f.disable(d.CULL_FACE),f.setDepthWrite(!1);for(var C=0,M=t.length;M>C;C++){x=16/v.w,w.set(x*y,x);var A=t[C];if(g.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),g.applyMatrix4(m.matrixWorldInverse),g.applyProjection(m.projectionMatrix),E.copy(g),S.x=E.x*b+b,S.y=E.y*_+_,l||S.x>0&&S.x<v.z&&S.y>0&&S.y<v.w){f.activeTexture(d.TEXTURE0),f.bindTexture(d.TEXTURE_2D,null),f.activeTexture(d.TEXTURE1),f.bindTexture(d.TEXTURE_2D,h),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGB,v.x+S.x-8,v.y+S.y-8,16,16,0),d.uniform1i(c.renderType,0),d.uniform2f(c.scale,w.x,w.y),d.uniform3f(c.screenPosition,E.x,E.y,E.z),f.disable(d.BLEND),f.enable(d.DEPTH_TEST),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),f.activeTexture(d.TEXTURE0),f.bindTexture(d.TEXTURE_2D,p),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,v.x+S.x-8,v.y+S.y-8,16,16,0),d.uniform1i(c.renderType,1),f.disable(d.DEPTH_TEST),f.activeTexture(d.TEXTURE1),f.bindTexture(d.TEXTURE_2D,h),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),A.positionScreen.copy(E),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),d.uniform1i(c.renderType,2),f.enable(d.BLEND);for(var T=0,R=A.lensFlares.length;R>T;T++){var O=A.lensFlares[T];O.opacity>.001&&O.scale>.001&&(E.x=O.x,E.y=O.y,E.z=O.z,x=O.size*O.scale/v.w,w.x=x*y,w.y=x,d.uniform3f(c.screenPosition,E.x,E.y,E.z),d.uniform2f(c.scale,w.x,w.y),d.uniform1f(c.rotation,O.rotation),d.uniform1f(c.opacity,O.opacity),d.uniform3f(c.color,O.color.r,O.color.g,O.color.b),f.setBlending(O.blending,O.blendEquation,O.blendSrc,O.blendDst),e.setTexture(O.texture,1),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0))}}}f.enable(d.CULL_FACE),f.enable(d.DEPTH_TEST),f.setDepthWrite(!0),e.resetGLState()}}},i.SpritePlugin=function(e,t){function r(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),t=new Uint16Array([0,1,2,0,2,3]);a=p.createBuffer(),s=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,a),p.bufferData(p.ARRAY_BUFFER,e,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,s),p.bufferData(p.ELEMENT_ARRAY_BUFFER,t,p.STATIC_DRAW),u=n(),c={position:p.getAttribLocation(u,"position"),uv:p.getAttribLocation(u,"uv")},l={uvOffset:p.getUniformLocation(u,"uvOffset"),uvScale:p.getUniformLocation(u,"uvScale"),rotation:p.getUniformLocation(u,"rotation"),scale:p.getUniformLocation(u,"scale"),color:p.getUniformLocation(u,"color"),map:p.getUniformLocation(u,"map"),opacity:p.getUniformLocation(u,"opacity"),modelViewMatrix:p.getUniformLocation(u,"modelViewMatrix"),projectionMatrix:p.getUniformLocation(u,"projectionMatrix"),fogType:p.getUniformLocation(u,"fogType"),fogDensity:p.getUniformLocation(u,"fogDensity"),fogNear:p.getUniformLocation(u,"fogNear"),fogFar:p.getUniformLocation(u,"fogFar"),fogColor:p.getUniformLocation(u,"fogColor"),alphaTest:p.getUniformLocation(u,"alphaTest")};var r=document.createElement("canvas");r.width=8,r.height=8;var o=r.getContext("2d");o.fillStyle="white",o.fillRect(0,0,8,8),h=new i.Texture(r),h.needsUpdate=!0}function n(){var t=p.createProgram(),r=p.createShader(p.VERTEX_SHADER),n=p.createShader(p.FRAGMENT_SHADER);return p.shaderSource(r,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),p.shaderSource(n,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),p.compileShader(r),p.compileShader(n),p.attachShader(t,r),p.attachShader(t,n),p.linkProgram(t),t}function o(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var a,s,u,c,l,h,p=e.context,d=e.state,f=new i.Vector3,m=new i.Quaternion,v=new i.Vector3;this.render=function(n,g){if(0!==t.length){void 0===u&&r(),p.useProgram(u),d.initAttributes(),
d.enableAttribute(c.position),d.enableAttribute(c.uv),d.disableUnusedAttributes(),d.disable(p.CULL_FACE),d.enable(p.BLEND),p.bindBuffer(p.ARRAY_BUFFER,a),p.vertexAttribPointer(c.position,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(c.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,s),p.uniformMatrix4fv(l.projectionMatrix,!1,g.projectionMatrix.elements),d.activeTexture(p.TEXTURE0),p.uniform1i(l.map,0);var y=0,b=0,_=n.fog;_?(p.uniform3f(l.fogColor,_.color.r,_.color.g,_.color.b),_ instanceof i.Fog?(p.uniform1f(l.fogNear,_.near),p.uniform1f(l.fogFar,_.far),p.uniform1i(l.fogType,1),y=1,b=1):_ instanceof i.FogExp2&&(p.uniform1f(l.fogDensity,_.density),p.uniform1i(l.fogType,2),y=2,b=2)):(p.uniform1i(l.fogType,0),y=0,b=0);for(var x=0,w=t.length;w>x;x++){var E=t[x];E.modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,E.matrixWorld),E.z=-E.modelViewMatrix.elements[14]}t.sort(o);for(var S=[],x=0,w=t.length;w>x;x++){var E=t[x],C=E.material;p.uniform1f(l.alphaTest,C.alphaTest),p.uniformMatrix4fv(l.modelViewMatrix,!1,E.modelViewMatrix.elements),E.matrixWorld.decompose(f,m,v),S[0]=v.x,S[1]=v.y;var M=0;n.fog&&C.fog&&(M=b),y!==M&&(p.uniform1i(l.fogType,M),y=M),null!==C.map?(p.uniform2f(l.uvOffset,C.map.offset.x,C.map.offset.y),p.uniform2f(l.uvScale,C.map.repeat.x,C.map.repeat.y)):(p.uniform2f(l.uvOffset,0,0),p.uniform2f(l.uvScale,1,1)),p.uniform1f(l.opacity,C.opacity),p.uniform3f(l.color,C.color.r,C.color.g,C.color.b),p.uniform1f(l.rotation,C.rotation),p.uniform2fv(l.scale,S),d.setBlending(C.blending,C.blendEquation,C.blendSrc,C.blendDst),d.setDepthTest(C.depthTest),d.setDepthWrite(C.depthWrite),C.map&&C.map.image&&C.map.image.width?e.setTexture(C.map,0):e.setTexture(h,0),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0)}d.enable(p.CULL_FACE),e.resetGLState()}}},Object.defineProperties(i.Box2.prototype,{empty:{value:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()}},isIntersectionBox:{value:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)}}}),Object.defineProperties(i.Box3.prototype,{empty:{value:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()}},isIntersectionBox:{value:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)}},isIntersectionSphere:{value:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}}),Object.defineProperties(i.Matrix3.prototype,{multiplyVector3:{value:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)}},multiplyVector3Array:{value:function(e){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)}}}),Object.defineProperties(i.Matrix4.prototype,{extractPosition:{value:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)}},setRotationFromQuaternion:{value:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)}},multiplyVector3:{value:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)}},multiplyVector4:{value:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)}},multiplyVector3Array:{value:function(e){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)}},rotateAxis:{value:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)}},crossVector:{value:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)}},translate:{value:function(e){console.error("THREE.Matrix4: .translate() has been removed.")}},rotateX:{value:function(e){console.error("THREE.Matrix4: .rotateX() has been removed.")}},rotateY:{value:function(e){console.error("THREE.Matrix4: .rotateY() has been removed.")}},rotateZ:{value:function(e){console.error("THREE.Matrix4: .rotateZ() has been removed.")}},rotateByAxis:{value:function(e,t){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}}}),Object.defineProperties(i.Plane.prototype,{isIntersectionLine:{value:function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)}}}),Object.defineProperties(i.Quaternion.prototype,{multiplyVector3:{value:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)}}}),Object.defineProperties(i.Ray.prototype,{isIntersectionBox:{value:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)}},isIntersectionPlane:{value:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)}},isIntersectionSphere:{value:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}}),Object.defineProperties(i.Vector3.prototype,{setEulerFromRotationMatrix:{value:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")}},setEulerFromQuaternion:{value:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")}},getPositionFromMatrix:{value:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)}},getScaleFromMatrix:{value:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)}},getColumnFromMatrix:{value:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)}}}),i.Face4=function(e,t,r,n,o,a,s){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new i.Face3(e,t,r,o,a,s)},Object.defineProperties(i.Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},getChildByName:{value:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)}},renderDepth:{set:function(e){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")}},translate:{value:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(e){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(i,{PointCloud:{value:function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new i.Points(e,t)}},ParticleSystem:{value:function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new i.Points(e,t)}}}),Object.defineProperties(i.Light.prototype,{onlyShadow:{set:function(e){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(e){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(e){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(i.BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length}}}),Object.defineProperties(i.BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}},addIndex:{value:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)}},addDrawCall:{value:function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)}},clearDrawCalls:{value:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()}},computeTangents:{value:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")}},computeOffsets:{value:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}}),Object.defineProperties(i.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(e){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new i.Color}}}),Object.defineProperties(i,{PointCloudMaterial:{value:function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new i.PointsMaterial(e)}},ParticleBasicMaterial:{value:function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new i.PointsMaterial(e)}},ParticleSystemMaterial:{value:function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new i.PointsMaterial(e)}}}),Object.defineProperties(i.MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(e){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(i.ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.defineProperties(i.WebGLRenderer.prototype,{supportsFloatTextures:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")}},supportsHalfFloatTextures:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")}},supportsStandardDerivatives:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")}},supportsCompressedTextureS3TC:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")}},supportsCompressedTexturePVRTC:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")}},supportsBlendMinMax:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")}},supportsVertexTextures:{value:function(){return this.capabilities.vertexTextures}},supportsInstancedArrays:{value:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")}},enableScissorTest:{value:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)}},initMaterial:{value:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")}},addPrePlugin:{value:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")}},addPostPlugin:{value:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")}},updateShadowMap:{value:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}},shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(i.WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),i.GeometryUtils={merge:function(e,t,r){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var n;t instanceof i.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),n=t.matrix,t=t.geometry),e.merge(t,n,r)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},i.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var o=new i.TextureLoader;o.setCrossOrigin(this.crossOrigin);var a=o.load(e,r,void 0,n);return t&&(a.mapping=t),a},loadTextureCube:function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var o=new i.CubeTextureLoader;o.setCrossOrigin(this.crossOrigin);var a=o.load(e,r,void 0,n);return t&&(a.mapping=t),a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},i.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(e,t){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},i.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},i.MeshFaceMaterial=i.MultiMaterial,i.CurveUtils={tangentQuadraticBezier:function(e,t,r,n){return 2*(1-e)*(r-t)+2*e*(n-r)},tangentCubicBezier:function(e,t,r,n,i){return-3*t*(1-e)*(1-e)+3*r*(1-e)*(1-e)-6*e*r*(1-e)+6*e*n*(1-e)-3*e*e*n+3*e*e*i},tangentSpline:function(e,t,r,n,i){var o=6*e*e-6*e,a=3*e*e-4*e+1,s=-6*e*e+6*e,u=3*e*e-2*e;return o+a+s+u},interpolate:function(e,t,r,n,i){var o=.5*(r-e),a=.5*(n-t),s=i*i,u=i*s;return(2*t-2*r+o+a)*u+(-3*t+3*r-2*o-a)*s+o*i+t}},i.SceneUtils={createMultiMaterialObject:function(e,t){for(var r=new i.Group,n=0,o=t.length;o>n;n++)r.add(new i.Mesh(e,t[n]));return r},detach:function(e,t,r){e.applyMatrix(t.matrixWorld),t.remove(e),r.add(e)},attach:function(e,t,r){var n=new i.Matrix4;n.getInverse(r.matrixWorld),e.applyMatrix(n),t.remove(e),r.add(e)}},i.ShapeUtils={area:function(e){for(var t=e.length,r=0,n=t-1,i=0;t>i;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r},triangulate:function(){function e(e,t,r,n,i,o){var a,s,u,c,l,h,p,d,f;if(s=e[o[t]].x,u=e[o[t]].y,c=e[o[r]].x,l=e[o[r]].y,h=e[o[n]].x,p=e[o[n]].y,Number.EPSILON>(c-s)*(p-u)-(l-u)*(h-s))return!1;var m,v,g,y,b,_,x,w,E,S,C,M,A,T,R;for(m=h-c,v=p-l,g=s-h,y=u-p,b=c-s,_=l-u,a=0;i>a;a++)if(d=e[o[a]].x,f=e[o[a]].y,!(d===s&&f===u||d===c&&f===l||d===h&&f===p)&&(x=d-s,w=f-u,E=d-c,S=f-l,C=d-h,M=f-p,R=m*S-v*E,A=b*w-_*x,T=g*M-y*C,R>=-Number.EPSILON&&T>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function(t,r){var n=t.length;if(3>n)return null;var o,a,s,u=[],c=[],l=[];if(i.ShapeUtils.area(t)>0)for(a=0;n>a;a++)c[a]=a;else for(a=0;n>a;a++)c[a]=n-1-a;var h=n,p=2*h;for(a=h-1;h>2;){if(p--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),r?l:u;if(o=a,o>=h&&(o=0),a=o+1,a>=h&&(a=0),s=a+1,s>=h&&(s=0),e(t,o,a,s,h,c)){var d,f,m,v,g;for(d=c[o],f=c[a],m=c[s],u.push([t[d],t[f],t[m]]),l.push([c[o],c[a],c[s]]),v=a,g=a+1;h>g;v++,g++)c[v]=c[g];h--,p=2*h}}return r?l:u}}(),triangulateShape:function(e,t){function r(e,t,r){return e.x!==t.x?e.x<t.x?e.x<=r.x&&r.x<=t.x:t.x<=r.x&&r.x<=e.x:e.y<t.y?e.y<=r.y&&r.y<=t.y:t.y<=r.y&&r.y<=e.y}function n(e,t,n,i,o){var a=t.x-e.x,s=t.y-e.y,u=i.x-n.x,c=i.y-n.y,l=e.x-n.x,h=e.y-n.y,p=s*u-a*c,d=s*l-a*h;if(Math.abs(p)>Number.EPSILON){var f;if(p>0){if(0>d||d>p)return[];if(f=c*l-u*h,0>f||f>p)return[]}else{if(d>0||p>d)return[];if(f=c*l-u*h,f>0||p>f)return[]}if(0===f)return!o||0!==d&&d!==p?[e]:[];if(f===p)return!o||0!==d&&d!==p?[t]:[];if(0===d)return[n];if(d===p)return[i];var m=f/p;return[{x:e.x+m*a,y:e.y+m*s}]}if(0!==d||c*l!==u*h)return[];var v=0===a&&0===s,g=0===u&&0===c;if(v&&g)return e.x!==n.x||e.y!==n.y?[]:[e];if(v)return r(n,i,e)?[e]:[];if(g)return r(e,t,n)?[n]:[];var y,b,_,x,w,E,S,C;return 0!==a?(e.x<t.x?(y=e,_=e.x,b=t,x=t.x):(y=t,_=t.x,b=e,x=e.x),n.x<i.x?(w=n,S=n.x,E=i,C=i.x):(w=i,S=i.x,E=n,C=n.x)):(e.y<t.y?(y=e,_=e.y,b=t,x=t.y):(y=t,_=t.y,b=e,x=e.y),n.y<i.y?(w=n,S=n.y,E=i,C=i.y):(w=i,S=i.y,E=n,C=n.y)),S>=_?S>x?[]:x===S?o?[]:[w]:C>=x?[w,b]:[w,E]:_>C?[]:_===C?o?[]:[y]:C>=x?[y,b]:[y,E]}function o(e,t,r,n){var i=t.x-e.x,o=t.y-e.y,a=r.x-e.x,s=r.y-e.y,u=n.x-e.x,c=n.y-e.y,l=i*s-o*a,h=i*c-o*u;if(Math.abs(l)>Number.EPSILON){var p=u*s-c*a;return l>0?h>=0&&p>=0:h>=0||p>=0}return h>0}function a(e,t){function r(e,t){var r=y.length-1,n=e-1;0>n&&(n=r);var i=e+1;i>r&&(i=0);var a=o(y[e],y[n],y[i],s[t]);if(!a)return!1;var u=s.length-1,c=t-1;0>c&&(c=u);var l=t+1;return l>u&&(l=0),a=o(s[t],s[c],s[l],y[e]),a?!0:!1}function i(e,t){var r,i,o;for(r=0;r<y.length;r++)if(i=r+1,i%=y.length,o=n(e,t,y[r],y[i],!0),o.length>0)return!0;return!1}function a(e,r){var i,o,a,s,u;for(i=0;i<b.length;i++)for(o=t[b[i]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=n(e,r,o[a],o[s],!0),u.length>0)return!0;return!1}for(var s,u,c,l,h,p,d,f,m,v,g,y=e.concat(),b=[],_=[],x=0,w=t.length;w>x;x++)b.push(x);for(var E=0,S=2*b.length;b.length>0;){if(S--,0>S){console.log("Infinite Loop! Holes left:"+b.length+", Probably Hole outside Shape!");break}for(c=E;c<y.length;c++){l=y[c],u=-1;for(var x=0;x<b.length;x++)if(p=b[x],d=l.x+":"+l.y+":"+p,void 0===_[d]){s=t[p];for(var C=0;C<s.length;C++)if(h=s[C],r(c,C)&&!i(l,h)&&!a(l,h)){u=C,b.splice(x,1),f=y.slice(0,c+1),m=y.slice(c),v=s.slice(u),g=s.slice(0,u+1),y=f.concat(v).concat(g).concat(m),E=c;break}if(u>=0)break;_[d]=!0}if(u>=0)break}}return y}for(var s,u,c,l,h,p,d={},f=e.concat(),m=0,v=t.length;v>m;m++)Array.prototype.push.apply(f,t[m]);for(s=0,u=f.length;u>s;s++)h=f[s].x+":"+f[s].y,void 0!==d[h]&&console.warn("THREE.Shape: Duplicate point",h),d[h]=s;var g=a(e,t),y=i.ShapeUtils.triangulate(g,!1);for(s=0,u=y.length;u>s;s++)for(l=y[s],c=0;3>c;c++)h=l[c].x+":"+l[c].y,p=d[h],void 0!==p&&(l[c]=p);return y.concat()},isClockWise:function(e){return i.ShapeUtils.area(e)<0},b2:function(){function e(e,t){var r=1-e;return r*r*t}function t(e,t){return 2*(1-e)*e*t}function r(e,t){return e*e*t}return function(n,i,o,a){return e(n,i)+t(n,o)+r(n,a)}}(),b3:function(){function e(e,t){var r=1-e;return r*r*r*t}function t(e,t){var r=1-e;return 3*r*r*e*t}function r(e,t){var r=1-e;return 3*r*e*e*t}function n(e,t){return e*e*e*t}return function(i,o,a,s,u){return e(i,o)+t(i,a)+r(i,s)+n(i,u)}}()},i.Curve=function(){},i.Curve.prototype={constructor:i.Curve,getPoint:function(e){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){e||(e=5);var t,r=[];for(t=0;e>=t;t++)r.push(this.getPoint(t/e));return r},getSpacedPoints:function(e){e||(e=5);var t,r=[];for(t=0;e>=t;t++)r.push(this.getPointAt(t/e));return r},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r,n=[],i=this.getPoint(0),o=0;for(n.push(0),r=1;e>=r;r++)t=this.getPoint(r/e),o+=t.distanceTo(i),n.push(o),i=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var r,n=this.getLengths(),i=0,o=n.length;r=t?t:e*n[o-1];for(var a,s=0,u=o-1;u>=s;)if(i=Math.floor(s+(u-s)/2),a=n[i]-r,0>a)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,n[i]===r){var c=i/(o-1);return c}var l=n[i],h=n[i+1],p=h-l,d=(r-l)/p,c=(i+d)/(o-1);return c},getTangent:function(e){var t=1e-4,r=e-t,n=e+t;0>r&&(r=0),n>1&&(n=1);var i=this.getPoint(r),o=this.getPoint(n),a=o.clone().sub(i);return a.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)}},i.Curve.create=function(e,t){return e.prototype=Object.create(i.Curve.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},i.CurvePath=function(){this.curves=[],this.autoClose=!1},i.CurvePath.prototype=Object.create(i.Curve.prototype),i.CurvePath.prototype.constructor=i.CurvePath,i.CurvePath.prototype.add=function(e){this.curves.push(e)},i.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new i.LineCurve(t,e))},i.CurvePath.prototype.getPoint=function(e){for(var t=e*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=t){var i=r[n]-t,o=this.curves[n],a=1-i/o.getLength();return o.getPointAt(a)}n++}return null},i.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},i.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,r=0,n=this.curves.length;n>r;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e},i.CurvePath.prototype.createPointsGeometry=function(e){var t=this.getPoints(e);return this.createGeometry(t)},i.CurvePath.prototype.createSpacedPointsGeometry=function(e){var t=this.getSpacedPoints(e);return this.createGeometry(t)},i.CurvePath.prototype.createGeometry=function(e){for(var t=new i.Geometry,r=0,n=e.length;n>r;r++){var o=e[r];t.vertices.push(new i.Vector3(o.x,o.y,o.z||0))}return t},i.Font=function(e){this.data=e},i.Font.prototype={constructor:i.Font,generateShapes:function(e,t,r){function n(e){for(var r=String(e).split(""),n=t/a.resolution,i=0,s=[],u=0;u<r.length;u++){var c=o(r[u],n,i);i+=c.offset,s.push(c.path)}return s}function o(e,t,n){var o=a.glyphs[e]||a.glyphs["?"];if(o){var s,u,c,l,h,p,d,f,m,v,g,y=new i.Path,b=[],_=i.ShapeUtils.b2,x=i.ShapeUtils.b3;if(o.o)for(var w=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),E=0,S=w.length;S>E;){var C=w[E++];switch(C){case"m":s=w[E++]*t+n,u=w[E++]*t,y.moveTo(s,u);break;case"l":s=w[E++]*t+n,u=w[E++]*t,y.lineTo(s,u);break;case"q":if(c=w[E++]*t+n,l=w[E++]*t,d=w[E++]*t+n,f=w[E++]*t,y.quadraticCurveTo(d,f,c,l),g=b[b.length-1]){h=g.x,p=g.y;for(var M=1;r>=M;M++){var A=M/r;_(A,h,d,c),_(A,p,f,l)}}break;case"b":if(c=w[E++]*t+n,l=w[E++]*t,d=w[E++]*t+n,f=w[E++]*t,m=w[E++]*t+n,v=w[E++]*t,y.bezierCurveTo(d,f,m,v,c,l),g=b[b.length-1]){h=g.x,p=g.y;for(var M=1;r>=M;M++){var A=M/r;x(A,h,d,m,c),x(A,p,f,v,l)}}}}return{offset:o.ha*t,path:y}}}void 0===t&&(t=100),void 0===r&&(r=4);for(var a=this.data,s=n(e),u=[],c=0,l=s.length;l>c;c++)Array.prototype.push.apply(u,s[c].toShapes());return u}},i.Path=function(e){i.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},i.Path.prototype=Object.create(i.CurvePath.prototype),i.Path.prototype.constructor=i.Path,i.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;r>t;t++)this.lineTo(e[t].x,e[t].y)},i.Path.prototype.moveTo=function(e,t){this.actions.push({action:"moveTo",args:[e,t]})},i.Path.prototype.lineTo=function(e,t){var r=this.actions[this.actions.length-1].args,n=r[r.length-2],o=r[r.length-1],a=new i.LineCurve(new i.Vector2(n,o),new i.Vector2(e,t));this.curves.push(a),this.actions.push({action:"lineTo",args:[e,t]})},i.Path.prototype.quadraticCurveTo=function(e,t,r,n){var o=this.actions[this.actions.length-1].args,a=o[o.length-2],s=o[o.length-1],u=new i.QuadraticBezierCurve(new i.Vector2(a,s),new i.Vector2(e,t),new i.Vector2(r,n));this.curves.push(u),this.actions.push({action:"quadraticCurveTo",args:[e,t,r,n]})},i.Path.prototype.bezierCurveTo=function(e,t,r,n,o,a){var s=this.actions[this.actions.length-1].args,u=s[s.length-2],c=s[s.length-1],l=new i.CubicBezierCurve(new i.Vector2(u,c),new i.Vector2(e,t),new i.Vector2(r,n),new i.Vector2(o,a));this.curves.push(l),this.actions.push({action:"bezierCurveTo",args:[e,t,r,n,o,a]})},i.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,n=r[r.length-2],o=r[r.length-1],a=[new i.Vector2(n,o)];Array.prototype.push.apply(a,e);var s=new i.SplineCurve(a);this.curves.push(s),this.actions.push({action:"splineThru",args:t})},i.Path.prototype.arc=function(e,t,r,n,i,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],u=a[a.length-1];this.absarc(e+s,t+u,r,n,i,o)},i.Path.prototype.absarc=function(e,t,r,n,i,o){this.absellipse(e,t,r,r,n,i,o)},i.Path.prototype.ellipse=function(e,t,r,n,i,o,a,s){var u=this.actions[this.actions.length-1].args,c=u[u.length-2],l=u[u.length-1];this.absellipse(e+c,t+l,r,n,i,o,a,s)},i.Path.prototype.absellipse=function(e,t,r,n,o,a,s,u){var c=[e,t,r,n,o,a,s,u||0],l=new i.EllipseCurve(e,t,r,n,o,a,s,u);this.curves.push(l);var h=l.getPoint(1);c.push(h.x),c.push(h.y),this.actions.push({action:"ellipse",args:c})},i.Path.prototype.getSpacedPoints=function(e){e||(e=40);for(var t=[],r=0;e>r;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t},i.Path.prototype.getPoints=function(e){e=e||12;for(var t,r,n,o,a,s,u,c,l,h,p,d=i.ShapeUtils.b2,f=i.ShapeUtils.b3,m=[],v=0,g=this.actions.length;g>v;v++){var y=this.actions[v],b=y.action,_=y.args;switch(b){case"moveTo":m.push(new i.Vector2(_[0],_[1]));break;case"lineTo":m.push(new i.Vector2(_[0],_[1]));break;case"quadraticCurveTo":t=_[2],r=_[3],a=_[0],s=_[1],m.length>0?(l=m[m.length-1],u=l.x,c=l.y):(l=this.actions[v-1].args,u=l[l.length-2],c=l[l.length-1]);for(var x=1;e>=x;x++){var w=x/e;h=d(w,u,a,t),p=d(w,c,s,r),m.push(new i.Vector2(h,p))}break;
case"bezierCurveTo":t=_[4],r=_[5],a=_[0],s=_[1],n=_[2],o=_[3],m.length>0?(l=m[m.length-1],u=l.x,c=l.y):(l=this.actions[v-1].args,u=l[l.length-2],c=l[l.length-1]);for(var x=1;e>=x;x++){var w=x/e;h=f(w,u,a,n,t),p=f(w,c,s,o,r),m.push(new i.Vector2(h,p))}break;case"splineThru":l=this.actions[v-1].args;var E=new i.Vector2(l[l.length-2],l[l.length-1]),S=[E],C=e*_[0].length;S=S.concat(_[0]);for(var M=new i.SplineCurve(S),x=1;C>=x;x++)m.push(M.getPointAt(x/C));break;case"arc":for(var A,T=_[0],R=_[1],O=_[2],P=_[3],D=_[4],I=!!_[5],N=D-P,k=2*e,x=1;k>=x;x++){var w=x/k;I||(w=1-w),A=P+w*N,h=T+O*Math.cos(A),p=R+O*Math.sin(A),m.push(new i.Vector2(h,p))}break;case"ellipse":var A,L,F,T=_[0],R=_[1],j=_[2],U=_[3],P=_[4],D=_[5],I=!!_[6],B=_[7],N=D-P,k=2*e;0!==B&&(L=Math.cos(B),F=Math.sin(B));for(var x=1;k>=x;x++){var w=x/k;if(I||(w=1-w),A=P+w*N,h=T+j*Math.cos(A),p=R+U*Math.sin(A),0!==B){var V=h,z=p;h=(V-T)*L-(z-R)*F+T,p=(V-T)*F+(z-R)*L+R}m.push(new i.Vector2(h,p))}}}var H=m[m.length-1];return Math.abs(H.x-m[0].x)<Number.EPSILON&&Math.abs(H.y-m[0].y)<Number.EPSILON&&m.splice(m.length-1,1),this.autoClose&&m.push(m[0]),m},i.Path.prototype.toShapes=function(e,t){function r(e){for(var t=[],r=new i.Path,n=0,o=e.length;o>n;n++){var a=e[n],s=a.args,u=a.action;"moveTo"===u&&0!==r.actions.length&&(t.push(r),r=new i.Path),r[u].apply(r,s)}return 0!==r.actions.length&&t.push(r),t}function n(e){for(var t=[],r=0,n=e.length;n>r;r++){var o=e[r],a=new i.Shape;a.actions=o.actions,a.curves=o.curves,t.push(a)}return t}function o(e,t){for(var r=t.length,n=!1,i=r-1,o=0;r>o;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(0>c&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=c*(e.x-a.x)-u*(e.y-a.y);if(0===l)return!0;if(0>l)continue;n=!n}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return n}var a=i.ShapeUtils.isClockWise,s=r(this.actions);if(0===s.length)return[];if(t===!0)return n(s);var u,c,l,h=[];if(1===s.length)return c=s[0],l=new i.Shape,l.actions=c.actions,l.curves=c.curves,h.push(l),h;var p=!a(s[0].getPoints());p=e?!p:p;var d,f=[],m=[],v=[],g=0;m[g]=void 0,v[g]=[];for(var y=0,b=s.length;b>y;y++)c=s[y],d=c.getPoints(),u=a(d),u=e?!u:u,u?(!p&&m[g]&&g++,m[g]={s:new i.Shape,p:d},m[g].s.actions=c.actions,m[g].s.curves=c.curves,p&&g++,v[g]=[]):v[g].push({h:c,p:d[0]});if(!m[0])return n(s);if(m.length>1){for(var _=!1,x=[],w=0,E=m.length;E>w;w++)f[w]=[];for(var w=0,E=m.length;E>w;w++)for(var S=v[w],C=0;C<S.length;C++){for(var M=S[C],A=!0,T=0;T<m.length;T++)o(M.p,m[T].p)&&(w!==T&&x.push({froms:w,tos:T,hole:C}),A?(A=!1,f[T].push(M)):_=!0);A&&f[w].push(M)}x.length>0&&(_||(v=f))}for(var R,y=0,O=m.length;O>y;y++){l=m[y].s,h.push(l),R=v[y];for(var P=0,D=R.length;D>P;P++)l.holes.push(R[P].h)}return h},i.Shape=function(){i.Path.apply(this,arguments),this.holes=[]},i.Shape.prototype=Object.create(i.Path.prototype),i.Shape.prototype.constructor=i.Shape,i.Shape.prototype.extrude=function(e){return new i.ExtrudeGeometry(this,e)},i.Shape.prototype.makeGeometry=function(e){return new i.ShapeGeometry(this,e)},i.Shape.prototype.getPointsHoles=function(e){for(var t=[],r=0,n=this.holes.length;n>r;r++)t[r]=this.holes[r].getPoints(e);return t},i.Shape.prototype.extractAllPoints=function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},i.Shape.prototype.extractPoints=function(e){return this.extractAllPoints(e)},i.LineCurve=function(e,t){this.v1=e,this.v2=t},i.LineCurve.prototype=Object.create(i.Curve.prototype),i.LineCurve.prototype.constructor=i.LineCurve,i.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},i.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},i.LineCurve.prototype.getTangent=function(e){var t=this.v2.clone().sub(this.v1);return t.normalize()},i.QuadraticBezierCurve=function(e,t,r){this.v0=e,this.v1=t,this.v2=r},i.QuadraticBezierCurve.prototype=Object.create(i.Curve.prototype),i.QuadraticBezierCurve.prototype.constructor=i.QuadraticBezierCurve,i.QuadraticBezierCurve.prototype.getPoint=function(e){var t=i.ShapeUtils.b2;return new i.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y))},i.QuadraticBezierCurve.prototype.getTangent=function(e){var t=i.CurveUtils.tangentQuadraticBezier;return new i.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y)).normalize()},i.CubicBezierCurve=function(e,t,r,n){this.v0=e,this.v1=t,this.v2=r,this.v3=n},i.CubicBezierCurve.prototype=Object.create(i.Curve.prototype),i.CubicBezierCurve.prototype.constructor=i.CubicBezierCurve,i.CubicBezierCurve.prototype.getPoint=function(e){var t=i.ShapeUtils.b3;return new i.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},i.CubicBezierCurve.prototype.getTangent=function(e){var t=i.CurveUtils.tangentCubicBezier;return new i.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},i.SplineCurve=function(e){this.points=void 0==e?[]:e},i.SplineCurve.prototype=Object.create(i.Curve.prototype),i.SplineCurve.prototype.constructor=i.SplineCurve,i.SplineCurve.prototype.getPoint=function(e){var t=this.points,r=(t.length-1)*e,n=Math.floor(r),o=r-n,a=t[0===n?n:n-1],s=t[n],u=t[n>t.length-2?t.length-1:n+1],c=t[n>t.length-3?t.length-1:n+2],l=i.CurveUtils.interpolate;return new i.Vector2(l(a.x,s.x,u.x,c.x,o),l(a.y,s.y,u.y,c.y,o))},i.EllipseCurve=function(e,t,r,n,i,o,a,s){this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=n,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0},i.EllipseCurve.prototype=Object.create(i.Curve.prototype),i.EllipseCurve.prototype.constructor=i.EllipseCurve,i.EllipseCurve.prototype.getPoint=function(e){var t=this.aEndAngle-this.aStartAngle;0>t&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI);var r;r=this.aClockwise===!0?this.aEndAngle+(1-e)*(2*Math.PI-t):this.aStartAngle+e*t;var n=this.aX+this.xRadius*Math.cos(r),o=this.aY+this.yRadius*Math.sin(r);if(0!==this.aRotation){var a=Math.cos(this.aRotation),s=Math.sin(this.aRotation),u=n,c=o;n=(u-this.aX)*a-(c-this.aY)*s+this.aX,o=(u-this.aX)*s+(c-this.aY)*a+this.aY}return new i.Vector2(n,o)},i.ArcCurve=function(e,t,r,n,o,a){i.EllipseCurve.call(this,e,t,r,r,n,o,a)},i.ArcCurve.prototype=Object.create(i.EllipseCurve.prototype),i.ArcCurve.prototype.constructor=i.ArcCurve,i.LineCurve3=i.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new i.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}),i.QuadraticBezierCurve3=i.Curve.create(function(e,t,r){this.v0=e,this.v1=t,this.v2=r},function(e){var t=i.ShapeUtils.b2;return new i.Vector3(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y),t(e,this.v0.z,this.v1.z,this.v2.z))}),i.CubicBezierCurve3=i.Curve.create(function(e,t,r,n){this.v0=e,this.v1=t,this.v2=r,this.v3=n},function(e){var t=i.ShapeUtils.b3;return new i.Vector3(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),i.SplineCurve3=i.Curve.create(function(e){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0==e?[]:e},function(e){var t=this.points,r=(t.length-1)*e,n=Math.floor(r),o=r-n,a=t[0==n?n:n-1],s=t[n],u=t[n>t.length-2?t.length-1:n+1],c=t[n>t.length-3?t.length-1:n+2],l=i.CurveUtils.interpolate;return new i.Vector3(l(a.x,s.x,u.x,c.x,o),l(a.y,s.y,u.y,c.y,o),l(a.z,s.z,u.z,c.z,o))}),i.CatmullRomCurve3=function(){function e(){}var t=new i.Vector3,r=new e,n=new e,o=new e;return e.prototype.init=function(e,t,r,n){this.c0=e,this.c1=r,this.c2=-3*e+3*t-2*r-n,this.c3=2*e-2*t+r+n},e.prototype.initNonuniformCatmullRom=function(e,t,r,n,i,o,a){var s=(t-e)/i-(r-e)/(i+o)+(r-t)/o,u=(r-t)/o-(n-t)/(o+a)+(n-r)/a;s*=o,u*=o,this.init(t,r,s,u)},e.prototype.initCatmullRom=function(e,t,r,n,i){this.init(t,r,i*(r-e),i*(n-t))},e.prototype.calc=function(e){var t=e*e,r=t*e;return this.c0+this.c1*e+this.c2*t+this.c3*r},i.Curve.create(function(e){this.points=e||[],this.closed=!1},function(e){var a,s,u,c,l=this.points;c=l.length,2>c&&console.log("duh, you need at least 2 points"),a=(c-(this.closed?0:1))*e,s=Math.floor(a),u=a-s,this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/l.length)+1)*l.length:0===u&&s===c-1&&(s=c-2,u=1);var h,p,d,f;if(this.closed||s>0?h=l[(s-1)%c]:(t.subVectors(l[0],l[1]).add(l[0]),h=t),p=l[s%c],d=l[(s+1)%c],this.closed||c>s+2?f=l[(s+2)%c]:(t.subVectors(l[c-1],l[c-2]).add(l[c-1]),f=t),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var m="chordal"===this.type?.5:.25,v=Math.pow(h.distanceToSquared(p),m),g=Math.pow(p.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(f),m);1e-4>g&&(g=1),1e-4>v&&(v=g),1e-4>y&&(y=g),r.initNonuniformCatmullRom(h.x,p.x,d.x,f.x,v,g,y),n.initNonuniformCatmullRom(h.y,p.y,d.y,f.y,v,g,y),o.initNonuniformCatmullRom(h.z,p.z,d.z,f.z,v,g,y)}else if("catmullrom"===this.type){var b=void 0!==this.tension?this.tension:.5;r.initCatmullRom(h.x,p.x,d.x,f.x,b),n.initCatmullRom(h.y,p.y,d.y,f.y,b),o.initCatmullRom(h.z,p.z,d.z,f.z,b)}var _=new i.Vector3(r.calc(u),n.calc(u),o.calc(u));return _})}(),i.ClosedSplineCurve3=function(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."),i.CatmullRomCurve3.call(this,e),this.type="catmullrom",this.closed=!0},i.ClosedSplineCurve3.prototype=Object.create(i.CatmullRomCurve3.prototype),i.BoxGeometry=function(e,t,r,n,o,a){function s(e,t,r,n,o,a,s,c){var l,h,p,d=u.widthSegments,f=u.heightSegments,m=o/2,v=a/2,g=u.vertices.length;"x"===e&&"y"===t||"y"===e&&"x"===t?l="z":"x"===e&&"z"===t||"z"===e&&"x"===t?(l="y",f=u.depthSegments):("z"===e&&"y"===t||"y"===e&&"z"===t)&&(l="x",d=u.depthSegments);var y=d+1,b=f+1,_=o/d,x=a/f,w=new i.Vector3;for(w[l]=s>0?1:-1,p=0;b>p;p++)for(h=0;y>h;h++){var E=new i.Vector3;E[e]=(h*_-m)*r,E[t]=(p*x-v)*n,E[l]=s,u.vertices.push(E)}for(p=0;f>p;p++)for(h=0;d>h;h++){var S=h+y*p,C=h+y*(p+1),M=h+1+y*(p+1),A=h+1+y*p,T=new i.Vector2(h/d,1-p/f),R=new i.Vector2(h/d,1-(p+1)/f),O=new i.Vector2((h+1)/d,1-(p+1)/f),P=new i.Vector2((h+1)/d,1-p/f),D=new i.Face3(S+g,C+g,A+g);D.normal.copy(w),D.vertexNormals.push(w.clone(),w.clone(),w.clone()),D.materialIndex=c,u.faces.push(D),u.faceVertexUvs[0].push([T,R,P]),D=new i.Face3(C+g,M+g,A+g),D.normal.copy(w),D.vertexNormals.push(w.clone(),w.clone(),w.clone()),D.materialIndex=c,u.faces.push(D),u.faceVertexUvs[0].push([R.clone(),O,P.clone()])}}i.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:o,depthSegments:a},this.widthSegments=n||1,this.heightSegments=o||1,this.depthSegments=a||1;var u=this,c=e/2,l=t/2,h=r/2;s("z","y",-1,-1,r,t,c,0),s("z","y",1,-1,r,t,-c,1),s("x","z",1,1,e,r,l,2),s("x","z",1,-1,e,r,-l,3),s("x","y",1,-1,e,t,h,4),s("x","y",-1,-1,e,t,-h,5),this.mergeVertices()},i.BoxGeometry.prototype=Object.create(i.Geometry.prototype),i.BoxGeometry.prototype.constructor=i.BoxGeometry,i.CubeGeometry=i.BoxGeometry,i.CircleGeometry=function(e,t,r,n){i.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new i.CircleBufferGeometry(e,t,r,n))},i.CircleGeometry.prototype=Object.create(i.Geometry.prototype),i.CircleGeometry.prototype.constructor=i.CircleGeometry,i.CircleBufferGeometry=function(e,t,r,n){i.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},e=e||50,t=void 0!==t?Math.max(3,t):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var o=t+2,a=new Float32Array(3*o),s=new Float32Array(3*o),u=new Float32Array(2*o);s[2]=1,u[0]=.5,u[1]=.5;for(var c=0,l=3,h=2;t>=c;c++,l+=3,h+=2){var p=r+c/t*n;a[l]=e*Math.cos(p),a[l+1]=e*Math.sin(p),s[l+2]=1,u[h]=(a[l]/e+1)/2,u[h+1]=(a[l+1]/e+1)/2}for(var d=[],l=1;t>=l;l++)d.push(l,l+1,0);this.setIndex(new i.BufferAttribute(new Uint16Array(d),1)),this.addAttribute("position",new i.BufferAttribute(a,3)),this.addAttribute("normal",new i.BufferAttribute(s,3)),this.addAttribute("uv",new i.BufferAttribute(u,2)),this.boundingSphere=new i.Sphere(new i.Vector3,e)},i.CircleBufferGeometry.prototype=Object.create(i.BufferGeometry.prototype),i.CircleBufferGeometry.prototype.constructor=i.CircleBufferGeometry,i.CylinderGeometry=function(e,t,r,n,o,a,s,u){i.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u},e=void 0!==e?e:20,t=void 0!==t?t:20,r=void 0!==r?r:100,n=n||8,o=o||1,a=void 0!==a?a:!1,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var c,l,h=r/2,p=[],d=[];for(l=0;o>=l;l++){var f=[],m=[],v=l/o,g=v*(t-e)+e;for(c=0;n>=c;c++){var y=c/n,b=new i.Vector3;b.x=g*Math.sin(y*u+s),b.y=-v*r+h,b.z=g*Math.cos(y*u+s),this.vertices.push(b),f.push(this.vertices.length-1),m.push(new i.Vector2(y,1-v))}p.push(f),d.push(m)}var _,x,w=(t-e)/r;for(c=0;n>c;c++)for(0!==e?(_=this.vertices[p[0][c]].clone(),x=this.vertices[p[0][c+1]].clone()):(_=this.vertices[p[1][c]].clone(),x=this.vertices[p[1][c+1]].clone()),_.setY(Math.sqrt(_.x*_.x+_.z*_.z)*w).normalize(),x.setY(Math.sqrt(x.x*x.x+x.z*x.z)*w).normalize(),l=0;o>l;l++){var E=p[l][c],S=p[l+1][c],C=p[l+1][c+1],M=p[l][c+1],A=_.clone(),T=_.clone(),R=x.clone(),O=x.clone(),P=d[l][c].clone(),D=d[l+1][c].clone(),I=d[l+1][c+1].clone(),N=d[l][c+1].clone();this.faces.push(new i.Face3(E,S,M,[A,T,O])),this.faceVertexUvs[0].push([P,D,N]),this.faces.push(new i.Face3(S,C,M,[T.clone(),R,O.clone()])),this.faceVertexUvs[0].push([D.clone(),I,N.clone()])}if(a===!1&&e>0)for(this.vertices.push(new i.Vector3(0,h,0)),c=0;n>c;c++){var E=p[0][c],S=p[0][c+1],C=this.vertices.length-1,A=new i.Vector3(0,1,0),T=new i.Vector3(0,1,0),R=new i.Vector3(0,1,0),P=d[0][c].clone(),D=d[0][c+1].clone(),I=new i.Vector2(D.x,0);this.faces.push(new i.Face3(E,S,C,[A,T,R],void 0,1)),this.faceVertexUvs[0].push([P,D,I])}if(a===!1&&t>0)for(this.vertices.push(new i.Vector3(0,-h,0)),c=0;n>c;c++){var E=p[o][c+1],S=p[o][c],C=this.vertices.length-1,A=new i.Vector3(0,-1,0),T=new i.Vector3(0,-1,0),R=new i.Vector3(0,-1,0),P=d[o][c+1].clone(),D=d[o][c].clone(),I=new i.Vector2(D.x,1);this.faces.push(new i.Face3(E,S,C,[A,T,R],void 0,2)),this.faceVertexUvs[0].push([P,D,I])}this.computeFaceNormals()},i.CylinderGeometry.prototype=Object.create(i.Geometry.prototype),i.CylinderGeometry.prototype.constructor=i.CylinderGeometry,i.EdgesGeometry=function(e,t){function r(e,t){return e-t}i.BufferGeometry.call(this),t=void 0!==t?t:1;var n,o=Math.cos(i.Math.degToRad(t)),a=[0,0],s={},u=["a","b","c"];e instanceof i.BufferGeometry?(n=new i.Geometry,n.fromBufferGeometry(e)):n=e.clone(),n.mergeVertices(),n.computeFaceNormals();for(var c=n.vertices,l=n.faces,h=0,p=l.length;p>h;h++)for(var d=l[h],f=0;3>f;f++){a[0]=d[u[f]],a[1]=d[u[(f+1)%3]],a.sort(r);var m=a.toString();void 0===s[m]?s[m]={vert1:a[0],vert2:a[1],face1:h,face2:void 0}:s[m].face2=h}var v=[];for(var m in s){var g=s[m];if(void 0===g.face2||l[g.face1].normal.dot(l[g.face2].normal)<=o){var y=c[g.vert1];v.push(y.x),v.push(y.y),v.push(y.z),y=c[g.vert2],v.push(y.x),v.push(y.y),v.push(y.z)}}this.addAttribute("position",new i.BufferAttribute(new Float32Array(v),3))},i.EdgesGeometry.prototype=Object.create(i.BufferGeometry.prototype),i.EdgesGeometry.prototype.constructor=i.EdgesGeometry,i.ExtrudeGeometry=function(e,t){return"undefined"==typeof e?void(e=[]):(i.Geometry.call(this),this.type="ExtrudeGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),void this.computeFaceNormals())},i.ExtrudeGeometry.prototype=Object.create(i.Geometry.prototype),i.ExtrudeGeometry.prototype.constructor=i.ExtrudeGeometry,i.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var r=e.length,n=0;r>n;n++){var i=e[n];this.addShape(i,t)}},i.ExtrudeGeometry.prototype.addShape=function(e,t){function r(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}function n(e,t,r){var n,o,a=1,s=e.x-t.x,u=e.y-t.y,c=r.x-e.x,l=r.y-e.y,h=s*s+u*u,p=s*l-u*c;if(Math.abs(p)>Number.EPSILON){var d=Math.sqrt(h),f=Math.sqrt(c*c+l*l),m=t.x-u/d,v=t.y+s/d,g=r.x-l/f,y=r.y+c/f,b=((g-m)*l-(y-v)*c)/(s*l-u*c);n=m+s*b-e.x,o=v+u*b-e.y;var _=n*n+o*o;if(2>=_)return new i.Vector2(n,o);a=Math.sqrt(_/2)}else{var x=!1;s>Number.EPSILON?c>Number.EPSILON&&(x=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(x=!0):Math.sign(u)===Math.sign(l)&&(x=!0),x?(n=-u,o=s,a=Math.sqrt(h)):(n=s,o=u,a=Math.sqrt(h/2))}return new i.Vector2(n/a,o/a)}function o(){if(_){var e=0,t=H*e;for(q=0;G>q;q++)z=k[q],c(z[2]+t,z[1]+t,z[0]+t);for(e=w+2*b,t=H*e,q=0;G>q;q++)z=k[q],c(z[0]+t,z[1]+t,z[2]+t)}else{for(q=0;G>q;q++)z=k[q],c(z[2],z[1],z[0]);for(q=0;G>q;q++)z=k[q],c(z[0]+H*w,z[1]+H*w,z[2]+H*w)}}function a(){var e=0;for(s(L,e),e+=L.length,A=0,T=I.length;T>A;A++)M=I[A],s(M,e),e+=M.length}function s(e,t){var r,n;for(q=e.length;--q>=0;){r=q,n=q-1,0>n&&(n=e.length-1);var i=0,o=w+2*b;for(i=0;o>i;i++){var a=H*i,s=H*(i+1),u=t+r+a,c=t+n+a,h=t+n+s,p=t+r+s;l(u,c,h,p,e,i,o,r,n)}}}function u(e,t,r){R.vertices.push(new i.Vector3(e,t,r))}function c(e,t,r){e+=O,t+=O,r+=O,R.faces.push(new i.Face3(e,t,r,null,null,0));var n=C.generateTopUV(R,e,t,r);R.faceVertexUvs[0].push(n)}function l(e,t,r,n,o,a,s,u,c){e+=O,t+=O,r+=O,n+=O,R.faces.push(new i.Face3(e,t,n,null,null,1)),R.faces.push(new i.Face3(t,r,n,null,null,1));var l=C.generateSideWallUV(R,e,t,r,n);R.faceVertexUvs[0].push([l[0],l[1],l[3]]),R.faceVertexUvs[0].push([l[1],l[2],l[3]])}var h,p,d,f,m,v=void 0!==t.amount?t.amount:100,g=void 0!==t.bevelThickness?t.bevelThickness:6,y=void 0!==t.bevelSize?t.bevelSize:g-2,b=void 0!==t.bevelSegments?t.bevelSegments:3,_=void 0!==t.bevelEnabled?t.bevelEnabled:!0,x=void 0!==t.curveSegments?t.curveSegments:12,w=void 0!==t.steps?t.steps:1,E=t.extrudePath,S=!1,C=void 0!==t.UVGenerator?t.UVGenerator:i.ExtrudeGeometry.WorldUVGenerator;E&&(h=E.getSpacedPoints(w),S=!0,_=!1,p=void 0!==t.frames?t.frames:new i.TubeGeometry.FrenetFrames(E,w,!1),d=new i.Vector3,f=new i.Vector3,m=new i.Vector3),_||(b=0,g=0,y=0);var M,A,T,R=this,O=this.vertices.length,P=e.extractPoints(x),D=P.shape,I=P.holes,N=!i.ShapeUtils.isClockWise(D);if(N){for(D=D.reverse(),A=0,T=I.length;T>A;A++)M=I[A],i.ShapeUtils.isClockWise(M)&&(I[A]=M.reverse());N=!1}var k=i.ShapeUtils.triangulateShape(D,I),L=D;for(A=0,T=I.length;T>A;A++)M=I[A],D=D.concat(M);for(var F,j,U,B,V,z,H=D.length,G=k.length,W=[],q=0,Q=L.length,X=Q-1,Y=q+1;Q>q;q++,X++,Y++)X===Q&&(X=0),Y===Q&&(Y=0),W[q]=n(L[q],L[X],L[Y]);var K,Z=[],J=W.concat();for(A=0,T=I.length;T>A;A++){for(M=I[A],K=[],q=0,Q=M.length,X=Q-1,Y=q+1;Q>q;q++,X++,Y++)X===Q&&(X=0),Y===Q&&(Y=0),K[q]=n(M[q],M[X],M[Y]);Z.push(K),J=J.concat(K)}for(F=0;b>F;F++){for(U=F/b,B=g*(1-U),j=y*Math.sin(U*Math.PI/2),q=0,Q=L.length;Q>q;q++)V=r(L[q],W[q],j),u(V.x,V.y,-B);for(A=0,T=I.length;T>A;A++)for(M=I[A],K=Z[A],q=0,Q=M.length;Q>q;q++)V=r(M[q],K[q],j),u(V.x,V.y,-B)}for(j=y,q=0;H>q;q++)V=_?r(D[q],J[q],j):D[q],S?(f.copy(p.normals[0]).multiplyScalar(V.x),d.copy(p.binormals[0]).multiplyScalar(V.y),m.copy(h[0]).add(f).add(d),u(m.x,m.y,m.z)):u(V.x,V.y,0);var $;for($=1;w>=$;$++)for(q=0;H>q;q++)V=_?r(D[q],J[q],j):D[q],S?(f.copy(p.normals[$]).multiplyScalar(V.x),d.copy(p.binormals[$]).multiplyScalar(V.y),m.copy(h[$]).add(f).add(d),u(m.x,m.y,m.z)):u(V.x,V.y,v/w*$);for(F=b-1;F>=0;F--){for(U=F/b,B=g*(1-U),j=y*Math.sin(U*Math.PI/2),q=0,Q=L.length;Q>q;q++)V=r(L[q],W[q],j),u(V.x,V.y,v+B);for(A=0,T=I.length;T>A;A++)for(M=I[A],K=Z[A],q=0,Q=M.length;Q>q;q++)V=r(M[q],K[q],j),S?u(V.x,V.y+h[w-1].y,h[w-1].x+B):u(V.x,V.y,v+B)}o(),a()},i.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,r,n){var o=e.vertices,a=o[t],s=o[r],u=o[n];return[new i.Vector2(a.x,a.y),new i.Vector2(s.x,s.y),new i.Vector2(u.x,u.y)]},generateSideWallUV:function(e,t,r,n,o){var a=e.vertices,s=a[t],u=a[r],c=a[n],l=a[o];return Math.abs(s.y-u.y)<.01?[new i.Vector2(s.x,1-s.z),new i.Vector2(u.x,1-u.z),new i.Vector2(c.x,1-c.z),new i.Vector2(l.x,1-l.z)]:[new i.Vector2(s.y,1-s.z),new i.Vector2(u.y,1-u.z),new i.Vector2(c.y,1-c.z),new i.Vector2(l.y,1-l.z)]}},i.ShapeGeometry=function(e,t){i.Geometry.call(this),this.type="ShapeGeometry",Array.isArray(e)===!1&&(e=[e]),this.addShapeList(e,t),this.computeFaceNormals()},i.ShapeGeometry.prototype=Object.create(i.Geometry.prototype),i.ShapeGeometry.prototype.constructor=i.ShapeGeometry,i.ShapeGeometry.prototype.addShapeList=function(e,t){for(var r=0,n=e.length;n>r;r++)this.addShape(e[r],t);return this},i.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var r,n,o,a=void 0!==t.curveSegments?t.curveSegments:12,s=t.material,u=void 0===t.UVGenerator?i.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,c=this.vertices.length,l=e.extractPoints(a),h=l.shape,p=l.holes,d=!i.ShapeUtils.isClockWise(h);if(d){for(h=h.reverse(),r=0,n=p.length;n>r;r++)o=p[r],i.ShapeUtils.isClockWise(o)&&(p[r]=o.reverse());d=!1}var f=i.ShapeUtils.triangulateShape(h,p);for(r=0,n=p.length;n>r;r++)o=p[r],h=h.concat(o);var m,v,g=h.length,y=f.length;for(r=0;g>r;r++)m=h[r],this.vertices.push(new i.Vector3(m.x,m.y,0));for(r=0;y>r;r++){v=f[r];var b=v[0]+c,_=v[1]+c,x=v[2]+c;this.faces.push(new i.Face3(b,_,x,null,null,s)),this.faceVertexUvs[0].push(u.generateTopUV(this,b,_,x))}},i.LatheGeometry=function(e,t,r,n){i.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=t||12,r=r||0,n=n||2*Math.PI;for(var o=1/(e.length-1),a=1/t,s=0,u=t;u>=s;s++)for(var c=r+s*a*n,l=Math.sin(c),h=Math.cos(c),p=0,d=e.length;d>p;p++){var f=e[p],m=new i.Vector3;m.x=f.x*l,m.y=f.y,m.z=f.x*h,this.vertices.push(m)}for(var v=e.length,s=0,u=t;u>s;s++)for(var p=0,d=e.length-1;d>p;p++){var g=p+v*s,y=g,b=g+v,_=g+1+v,x=g+1,w=s*a,E=p*o,S=w+a,C=E+o;this.faces.push(new i.Face3(y,b,x)),this.faceVertexUvs[0].push([new i.Vector2(w,E),new i.Vector2(S,E),new i.Vector2(w,C)]),this.faces.push(new i.Face3(b,_,x)),this.faceVertexUvs[0].push([new i.Vector2(S,E),new i.Vector2(S,C),new i.Vector2(w,C)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},i.LatheGeometry.prototype=Object.create(i.Geometry.prototype),i.LatheGeometry.prototype.constructor=i.LatheGeometry,i.PlaneGeometry=function(e,t,r,n){i.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new i.PlaneBufferGeometry(e,t,r,n))},i.PlaneGeometry.prototype=Object.create(i.Geometry.prototype),i.PlaneGeometry.prototype.constructor=i.PlaneGeometry,i.PlaneBufferGeometry=function(e,t,r,n){i.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};for(var o=e/2,a=t/2,s=Math.floor(r)||1,u=Math.floor(n)||1,c=s+1,l=u+1,h=e/s,p=t/u,d=new Float32Array(c*l*3),f=new Float32Array(c*l*3),m=new Float32Array(c*l*2),v=0,g=0,y=0;l>y;y++)for(var b=y*p-a,_=0;c>_;_++){var x=_*h-o;d[v]=x,d[v+1]=-b,f[v+2]=1,m[g]=_/s,m[g+1]=1-y/u,v+=3,g+=2}v=0;for(var w=new(d.length/3>65535?Uint32Array:Uint16Array)(s*u*6),y=0;u>y;y++)for(var _=0;s>_;_++){var E=_+c*y,S=_+c*(y+1),C=_+1+c*(y+1),M=_+1+c*y;w[v]=E,w[v+1]=S,w[v+2]=M,w[v+3]=S,w[v+4]=C,w[v+5]=M,v+=6}this.setIndex(new i.BufferAttribute(w,1)),this.addAttribute("position",new i.BufferAttribute(d,3)),this.addAttribute("normal",new i.BufferAttribute(f,3)),this.addAttribute("uv",new i.BufferAttribute(m,2))},i.PlaneBufferGeometry.prototype=Object.create(i.BufferGeometry.prototype),i.PlaneBufferGeometry.prototype.constructor=i.PlaneBufferGeometry,i.RingGeometry=function(e,t,r,n,o,a){i.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:o,thetaLength:a},e=e||0,t=t||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,r=void 0!==r?Math.max(3,r):8,n=void 0!==n?Math.max(1,n):8;var s,u,c=[],l=e,h=(t-e)/n;for(s=0;n+1>s;s++){for(u=0;r+1>u;u++){var p=new i.Vector3,d=o+u/r*a;p.x=l*Math.cos(d),p.y=l*Math.sin(d),this.vertices.push(p),c.push(new i.Vector2((p.x/t+1)/2,(p.y/t+1)/2))}l+=h}var f=new i.Vector3(0,0,1);for(s=0;n>s;s++){var m=s*(r+1);for(u=0;r>u;u++){var d=u+m,v=d,g=d+r+1,y=d+r+2;this.faces.push(new i.Face3(v,g,y,[f.clone(),f.clone(),f.clone()])),this.faceVertexUvs[0].push([c[v].clone(),c[g].clone(),c[y].clone()]),v=d,g=d+r+2,y=d+1,this.faces.push(new i.Face3(v,g,y,[f.clone(),f.clone(),f.clone()])),this.faceVertexUvs[0].push([c[v].clone(),c[g].clone(),c[y].clone()])}}this.computeFaceNormals(),this.boundingSphere=new i.Sphere(new i.Vector3,l)},i.RingGeometry.prototype=Object.create(i.Geometry.prototype),i.RingGeometry.prototype.constructor=i.RingGeometry,i.SphereGeometry=function(e,t,r,n,o,a,s){i.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new i.SphereBufferGeometry(e,t,r,n,o,a,s))},i.SphereGeometry.prototype=Object.create(i.Geometry.prototype),i.SphereGeometry.prototype.constructor=i.SphereGeometry,i.SphereBufferGeometry=function(e,t,r,n,o,a,s){i.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:o,thetaStart:a,thetaLength:s},e=e||50,t=Math.max(3,Math.floor(t)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,o=void 0!==o?o:2*Math.PI,a=void 0!==a?a:0,s=void 0!==s?s:Math.PI;for(var u=a+s,c=(t+1)*(r+1),l=new i.BufferAttribute(new Float32Array(3*c),3),h=new i.BufferAttribute(new Float32Array(3*c),3),p=new i.BufferAttribute(new Float32Array(2*c),2),d=0,f=[],m=new i.Vector3,v=0;r>=v;v++){for(var g=[],y=v/r,b=0;t>=b;b++){var _=b/t,x=-e*Math.cos(n+_*o)*Math.sin(a+y*s),w=e*Math.cos(a+y*s),E=e*Math.sin(n+_*o)*Math.sin(a+y*s);m.set(x,w,E).normalize(),l.setXYZ(d,x,w,E),h.setXYZ(d,m.x,m.y,m.z),p.setXY(d,_,1-y),g.push(d),d++}f.push(g)}for(var S=[],v=0;r>v;v++)for(var b=0;t>b;b++){var C=f[v][b+1],M=f[v][b],A=f[v+1][b],T=f[v+1][b+1];(0!==v||a>0)&&S.push(C,M,T),(v!==r-1||u<Math.PI)&&S.push(M,A,T)}this.setIndex(new(l.count>65535?i.Uint32Attribute:i.Uint16Attribute)(S,1)),this.addAttribute("position",l),this.addAttribute("normal",h),this.addAttribute("uv",p),this.boundingSphere=new i.Sphere(new i.Vector3,e)},i.SphereBufferGeometry.prototype=Object.create(i.BufferGeometry.prototype),i.SphereBufferGeometry.prototype.constructor=i.SphereBufferGeometry,i.TextGeometry=function(e,t){t=t||{};var r=t.font;if(r instanceof i.Font==!1)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new i.Geometry;var n=r.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),i.ExtrudeGeometry.call(this,n,t),this.type="TextGeometry"},i.TextGeometry.prototype=Object.create(i.ExtrudeGeometry.prototype),i.TextGeometry.prototype.constructor=i.TextGeometry,i.TorusGeometry=function(e,t,r,n,o){i.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:o},e=e||100,t=t||40,r=r||8,n=n||6,o=o||2*Math.PI;for(var a=new i.Vector3,s=[],u=[],c=0;r>=c;c++)for(var l=0;n>=l;l++){var h=l/n*o,p=c/r*Math.PI*2;a.x=e*Math.cos(h),a.y=e*Math.sin(h);var d=new i.Vector3;d.x=(e+t*Math.cos(p))*Math.cos(h),d.y=(e+t*Math.cos(p))*Math.sin(h),d.z=t*Math.sin(p),this.vertices.push(d),s.push(new i.Vector2(l/n,c/r)),u.push(d.clone().sub(a).normalize())}for(var c=1;r>=c;c++)for(var l=1;n>=l;l++){var f=(n+1)*c+l-1,m=(n+1)*(c-1)+l-1,v=(n+1)*(c-1)+l,g=(n+1)*c+l,y=new i.Face3(f,m,g,[u[f].clone(),u[m].clone(),u[g].clone()]);this.faces.push(y),this.faceVertexUvs[0].push([s[f].clone(),s[m].clone(),s[g].clone()]),y=new i.Face3(m,v,g,[u[m].clone(),u[v].clone(),u[g].clone()]),this.faces.push(y),this.faceVertexUvs[0].push([s[m].clone(),s[v].clone(),s[g].clone()])}this.computeFaceNormals()},i.TorusGeometry.prototype=Object.create(i.Geometry.prototype),i.TorusGeometry.prototype.constructor=i.TorusGeometry,i.TorusKnotGeometry=function(e,t,r,n,o,a,s){function u(e,t,r,n,o){var a=Math.cos(e),s=Math.sin(e),u=t/r*e,c=Math.cos(u),l=n*(2+c)*.5*a,h=n*(2+c)*s*.5,p=o*n*Math.sin(u)*.5;return new i.Vector3(l,h,p)}i.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,p:o,q:a,heightScale:s},e=e||100,t=t||40,r=r||64,n=n||8,o=o||2,a=a||3,s=s||1;for(var c=new Array(r),l=new i.Vector3,h=new i.Vector3,p=new i.Vector3,d=0;r>d;++d){c[d]=new Array(n);var f=d/r*2*o*Math.PI,m=u(f,a,o,e,s),v=u(f+.01,a,o,e,s);l.subVectors(v,m),h.addVectors(v,m),p.crossVectors(l,h),h.crossVectors(p,l),p.normalize(),h.normalize();for(var g=0;n>g;++g){var y=g/n*2*Math.PI,b=-t*Math.cos(y),_=t*Math.sin(y),x=new i.Vector3;x.x=m.x+b*h.x+_*p.x,x.y=m.y+b*h.y+_*p.y,x.z=m.z+b*h.z+_*p.z,c[d][g]=this.vertices.push(x)-1}}for(var d=0;r>d;++d)for(var g=0;n>g;++g){var w=(d+1)%r,E=(g+1)%n,S=c[d][g],C=c[w][g],M=c[w][E],A=c[d][E],T=new i.Vector2(d/r,g/n),R=new i.Vector2((d+1)/r,g/n),O=new i.Vector2((d+1)/r,(g+1)/n),P=new i.Vector2(d/r,(g+1)/n);this.faces.push(new i.Face3(S,C,A)),this.faceVertexUvs[0].push([T,R,P]),this.faces.push(new i.Face3(C,M,A)),this.faceVertexUvs[0].push([R.clone(),O,P.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},i.TorusKnotGeometry.prototype=Object.create(i.Geometry.prototype),i.TorusKnotGeometry.prototype.constructor=i.TorusKnotGeometry,i.TubeGeometry=function(e,t,r,n,o,a){function s(e,t,r){return O.vertices.push(new i.Vector3(e,t,r))-1}i.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:e,segments:t,radius:r,radialSegments:n,closed:o,taper:a},t=t||64,r=r||1,n=n||8,o=o||!1,a=a||i.TubeGeometry.NoTaper;var u,c,l,h,p,d,f,m,v,g,y,b,_,x,w,E,S,C,M,A,T,R=[],O=this,P=t+1,D=new i.Vector3,I=new i.TubeGeometry.FrenetFrames(e,t,o),N=I.tangents,k=I.normals,L=I.binormals;for(this.tangents=N,this.normals=k,this.binormals=L,g=0;P>g;g++)for(R[g]=[],h=g/(P-1),v=e.getPointAt(h),u=N[g],c=k[g],l=L[g],d=r*a(h),y=0;n>y;y++)p=y/n*2*Math.PI,f=-d*Math.cos(p),m=d*Math.sin(p),D.copy(v),D.x+=f*c.x+m*l.x,D.y+=f*c.y+m*l.y,D.z+=f*c.z+m*l.z,R[g][y]=s(D.x,D.y,D.z);for(g=0;t>g;g++)for(y=0;n>y;y++)b=o?(g+1)%t:g+1,_=(y+1)%n,x=R[g][y],w=R[b][y],E=R[b][_],S=R[g][_],C=new i.Vector2(g/t,y/n),M=new i.Vector2((g+1)/t,y/n),A=new i.Vector2((g+1)/t,(y+1)/n),T=new i.Vector2(g/t,(y+1)/n),this.faces.push(new i.Face3(x,w,S)),this.faceVertexUvs[0].push([C,M,T]),this.faces.push(new i.Face3(w,E,S)),this.faceVertexUvs[0].push([M.clone(),A,T.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},i.TubeGeometry.prototype=Object.create(i.Geometry.prototype),i.TubeGeometry.prototype.constructor=i.TubeGeometry,i.TubeGeometry.NoTaper=function(e){return 1},i.TubeGeometry.SinusoidalTaper=function(e){return Math.sin(Math.PI*e)},i.TubeGeometry.FrenetFrames=function(e,t,r){function n(){f[0]=new i.Vector3,m[0]=new i.Vector3,a=Number.MAX_VALUE,s=Math.abs(d[0].x),u=Math.abs(d[0].y),c=Math.abs(d[0].z),a>=s&&(a=s,p.set(1,0,0)),a>=u&&(a=u,p.set(0,1,0)),a>=c&&p.set(0,0,1),v.crossVectors(d[0],p).normalize(),f[0].crossVectors(d[0],v),m[0].crossVectors(d[0],f[0])}var o,a,s,u,c,l,h,p=new i.Vector3,d=[],f=[],m=[],v=new i.Vector3,g=new i.Matrix4,y=t+1;for(this.tangents=d,this.normals=f,this.binormals=m,l=0;y>l;l++)h=l/(y-1),d[l]=e.getTangentAt(h),d[l].normalize();for(n(),l=1;y>l;l++)f[l]=f[l-1].clone(),m[l]=m[l-1].clone(),v.crossVectors(d[l-1],d[l]),v.length()>Number.EPSILON&&(v.normalize(),o=Math.acos(i.Math.clamp(d[l-1].dot(d[l]),-1,1)),f[l].applyMatrix4(g.makeRotationAxis(v,o))),m[l].crossVectors(d[l],f[l]);if(r)for(o=Math.acos(i.Math.clamp(f[0].dot(f[y-1]),-1,1)),o/=y-1,d[0].dot(v.crossVectors(f[0],f[y-1]))>0&&(o=-o),l=1;y>l;l++)f[l].applyMatrix4(g.makeRotationAxis(d[l],o*l)),m[l].crossVectors(d[l],f[l])},i.PolyhedronGeometry=function(e,t,r,n){function o(e){var t=e.normalize().clone();t.index=h.vertices.push(t)-1;var r=u(e)/2/Math.PI+.5,n=c(e)/Math.PI+.5;return t.uv=new i.Vector2(r,1-n),
t}function a(e,t,r,n){var o=new i.Face3(e.index,t.index,r.index,[e.clone(),t.clone(),r.clone()],void 0,n);h.faces.push(o),_.copy(e).add(t).add(r).divideScalar(3);var a=u(_);h.faceVertexUvs[0].push([l(e.uv,e,a),l(t.uv,t,a),l(r.uv,r,a)])}function s(e,t){for(var r=Math.pow(2,t),n=o(h.vertices[e.a]),i=o(h.vertices[e.b]),s=o(h.vertices[e.c]),u=[],c=e.materialIndex,l=0;r>=l;l++){u[l]=[];for(var p=o(n.clone().lerp(s,l/r)),d=o(i.clone().lerp(s,l/r)),f=r-l,m=0;f>=m;m++)0===m&&l===r?u[l][m]=p:u[l][m]=o(p.clone().lerp(d,m/f))}for(var l=0;r>l;l++)for(var m=0;2*(r-l)-1>m;m++){var v=Math.floor(m/2);m%2===0?a(u[l][v+1],u[l+1][v],u[l][v],c):a(u[l][v+1],u[l+1][v+1],u[l+1][v],c)}}function u(e){return Math.atan2(e.z,-e.x)}function c(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}function l(e,t,r){return 0>r&&1===e.x&&(e=new i.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new i.Vector2(r/2/Math.PI+.5,e.y)),e.clone()}i.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},r=r||1,n=n||0;for(var h=this,p=0,d=e.length;d>p;p+=3)o(new i.Vector3(e[p],e[p+1],e[p+2]));for(var f=this.vertices,m=[],p=0,v=0,d=t.length;d>p;p+=3,v++){var g=f[t[p]],y=f[t[p+1]],b=f[t[p+2]];m[v]=new i.Face3(g.index,y.index,b.index,[g.clone(),y.clone(),b.clone()],void 0,v)}for(var _=new i.Vector3,p=0,d=m.length;d>p;p++)s(m[p],n);for(var p=0,d=this.faceVertexUvs[0].length;d>p;p++){var x=this.faceVertexUvs[0][p],w=x[0].x,E=x[1].x,S=x[2].x,C=Math.max(w,E,S),M=Math.min(w,E,S);C>.9&&.1>M&&(.2>w&&(x[0].x+=1),.2>E&&(x[1].x+=1),.2>S&&(x[2].x+=1))}for(var p=0,d=this.vertices.length;d>p;p++)this.vertices[p].multiplyScalar(r);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new i.Sphere(new i.Vector3,r)},i.PolyhedronGeometry.prototype=Object.create(i.Geometry.prototype),i.PolyhedronGeometry.prototype.constructor=i.PolyhedronGeometry,i.DodecahedronGeometry=function(e,t){var r=(1+Math.sqrt(5))/2,n=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];i.PolyhedronGeometry.call(this,o,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}},i.DodecahedronGeometry.prototype=Object.create(i.PolyhedronGeometry.prototype),i.DodecahedronGeometry.prototype.constructor=i.DodecahedronGeometry,i.IcosahedronGeometry=function(e,t){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];i.PolyhedronGeometry.call(this,n,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}},i.IcosahedronGeometry.prototype=Object.create(i.PolyhedronGeometry.prototype),i.IcosahedronGeometry.prototype.constructor=i.IcosahedronGeometry,i.OctahedronGeometry=function(e,t){var r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];i.PolyhedronGeometry.call(this,r,n,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}},i.OctahedronGeometry.prototype=Object.create(i.PolyhedronGeometry.prototype),i.OctahedronGeometry.prototype.constructor=i.OctahedronGeometry,i.TetrahedronGeometry=function(e,t){var r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];i.PolyhedronGeometry.call(this,r,n,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}},i.TetrahedronGeometry.prototype=Object.create(i.PolyhedronGeometry.prototype),i.TetrahedronGeometry.prototype.constructor=i.TetrahedronGeometry,i.ParametricGeometry=function(e,t,r){i.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:r};var n,o,a,s,u,c=this.vertices,l=this.faces,h=this.faceVertexUvs[0],p=t+1;for(n=0;r>=n;n++)for(u=n/r,o=0;t>=o;o++)s=o/t,a=e(s,u),c.push(a);var d,f,m,v,g,y,b,_;for(n=0;r>n;n++)for(o=0;t>o;o++)d=n*p+o,f=n*p+o+1,m=(n+1)*p+o+1,v=(n+1)*p+o,g=new i.Vector2(o/t,n/r),y=new i.Vector2((o+1)/t,n/r),b=new i.Vector2((o+1)/t,(n+1)/r),_=new i.Vector2(o/t,(n+1)/r),l.push(new i.Face3(d,f,v)),h.push([g,y,_]),l.push(new i.Face3(f,m,v)),h.push([y.clone(),b,_.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},i.ParametricGeometry.prototype=Object.create(i.Geometry.prototype),i.ParametricGeometry.prototype.constructor=i.ParametricGeometry,i.WireframeGeometry=function(e){function t(e,t){return e-t}i.BufferGeometry.call(this);var r=[0,0],n={},o=["a","b","c"];if(e instanceof i.Geometry){for(var a=e.vertices,s=e.faces,u=0,c=new Uint32Array(6*s.length),l=0,h=s.length;h>l;l++)for(var p=s[l],d=0;3>d;d++){r[0]=p[o[d]],r[1]=p[o[(d+1)%3]],r.sort(t);var f=r.toString();void 0===n[f]&&(c[2*u]=r[0],c[2*u+1]=r[1],n[f]=!0,u++)}for(var m=new Float32Array(2*u*3),l=0,h=u;h>l;l++)for(var d=0;2>d;d++){var v=a[c[2*l+d]],g=6*l+3*d;m[g+0]=v.x,m[g+1]=v.y,m[g+2]=v.z}this.addAttribute("position",new i.BufferAttribute(m,3))}else if(e instanceof i.BufferGeometry)if(null!==e.index){var y=e.index.array,a=e.attributes.position,b=e.groups,u=0;0===b.length&&e.addGroup(0,y.length);for(var c=new Uint32Array(2*y.length),_=0,x=b.length;x>_;++_)for(var w=b[_],E=w.start,S=w.count,l=E,C=E+S;C>l;l+=3)for(var d=0;3>d;d++){r[0]=y[l+d],r[1]=y[l+(d+1)%3],r.sort(t);var f=r.toString();void 0===n[f]&&(c[2*u]=r[0],c[2*u+1]=r[1],n[f]=!0,u++)}for(var m=new Float32Array(2*u*3),l=0,h=u;h>l;l++)for(var d=0;2>d;d++){var g=6*l+3*d,M=c[2*l+d];m[g+0]=a.getX(M),m[g+1]=a.getY(M),m[g+2]=a.getZ(M)}this.addAttribute("position",new i.BufferAttribute(m,3))}else{for(var a=e.attributes.position.array,u=a.length/3,A=u/3,m=new Float32Array(2*u*3),l=0,h=A;h>l;l++)for(var d=0;3>d;d++){var g=18*l+6*d,T=9*l+3*d;m[g+0]=a[T],m[g+1]=a[T+1],m[g+2]=a[T+2];var M=9*l+3*((d+1)%3);m[g+3]=a[M],m[g+4]=a[M+1],m[g+5]=a[M+2]}this.addAttribute("position",new i.BufferAttribute(m,3))}},i.WireframeGeometry.prototype=Object.create(i.BufferGeometry.prototype),i.WireframeGeometry.prototype.constructor=i.WireframeGeometry,i.AxisHelper=function(e){e=e||1;var t=new Float32Array([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e]),r=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new i.BufferGeometry;n.addAttribute("position",new i.BufferAttribute(t,3)),n.addAttribute("color",new i.BufferAttribute(r,3));var o=new i.LineBasicMaterial({vertexColors:i.VertexColors});i.LineSegments.call(this,n,o)},i.AxisHelper.prototype=Object.create(i.LineSegments.prototype),i.AxisHelper.prototype.constructor=i.AxisHelper,i.ArrowHelper=function(){var e=new i.Geometry;e.vertices.push(new i.Vector3(0,0,0),new i.Vector3(0,1,0));var t=new i.CylinderGeometry(0,.5,1,5,1);return t.translate(0,-.5,0),function(r,n,o,a,s,u){i.Object3D.call(this),void 0===a&&(a=16776960),void 0===o&&(o=1),void 0===s&&(s=.2*o),void 0===u&&(u=.2*s),this.position.copy(n),this.line=new i.Line(e,new i.LineBasicMaterial({color:a})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new i.Mesh(t,new i.MeshBasicMaterial({color:a})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(r),this.setLength(o,s,u)}}(),i.ArrowHelper.prototype=Object.create(i.Object3D.prototype),i.ArrowHelper.prototype.constructor=i.ArrowHelper,i.ArrowHelper.prototype.setDirection=function(){var e,t=new i.Vector3;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(r.z,0,-r.x).normalize(),e=Math.acos(r.y),this.quaternion.setFromAxisAngle(t,e))}}(),i.ArrowHelper.prototype.setLength=function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},i.ArrowHelper.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},i.BoxHelper=function(e){var t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new i.BufferGeometry;n.setIndex(new i.BufferAttribute(t,1)),n.addAttribute("position",new i.BufferAttribute(r,3)),i.LineSegments.call(this,n,new i.LineBasicMaterial({color:16776960})),void 0!==e&&this.update(e)},i.BoxHelper.prototype=Object.create(i.LineSegments.prototype),i.BoxHelper.prototype.constructor=i.BoxHelper,i.BoxHelper.prototype.update=function(){var e=new i.Box3;return function(t){if(e.setFromObject(t),!e.isEmpty()){var r=e.min,n=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=r.x,o[4]=n.y,o[5]=n.z,o[6]=r.x,o[7]=r.y,o[8]=n.z,o[9]=n.x,o[10]=r.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=r.z,o[15]=r.x,o[16]=n.y,o[17]=r.z,o[18]=r.x,o[19]=r.y,o[20]=r.z,o[21]=n.x,o[22]=r.y,o[23]=r.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),i.BoundingBoxHelper=function(e,t){var r=void 0!==t?t:8947848;this.object=e,this.box=new i.Box3,i.Mesh.call(this,new i.BoxGeometry(1,1,1),new i.MeshBasicMaterial({color:r,wireframe:!0}))},i.BoundingBoxHelper.prototype=Object.create(i.Mesh.prototype),i.BoundingBoxHelper.prototype.constructor=i.BoundingBoxHelper,i.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},i.CameraHelper=function(e){function t(e,t,n){r(e,n),r(t,n)}function r(e,t){n.vertices.push(new i.Vector3),n.colors.push(new i.Color(t)),void 0===a[e]&&(a[e]=[]),a[e].push(n.vertices.length-1)}var n=new i.Geometry,o=new i.LineBasicMaterial({color:16777215,vertexColors:i.FaceColors}),a={},s=16755200,u=16711680,c=43775,l=16777215,h=3355443;t("n1","n2",s),t("n2","n4",s),t("n4","n3",s),t("n3","n1",s),t("f1","f2",s),t("f2","f4",s),t("f4","f3",s),t("f3","f1",s),t("n1","f1",s),t("n2","f2",s),t("n3","f3",s),t("n4","f4",s),t("p","n1",u),t("p","n2",u),t("p","n3",u),t("p","n4",u),t("u1","u2",c),t("u2","u3",c),t("u3","u1",c),t("c","t",l),t("p","c",h),t("cn1","cn2",h),t("cn3","cn4",h),t("cf1","cf2",h),t("cf3","cf4",h),i.LineSegments.call(this,n,o),this.camera=e,this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()},i.CameraHelper.prototype=Object.create(i.LineSegments.prototype),i.CameraHelper.prototype.constructor=i.CameraHelper,i.CameraHelper.prototype.update=function(){function e(e,i,a,s){n.set(i,a,s).unproject(o);var u=r[e];if(void 0!==u)for(var c=0,l=u.length;l>c;c++)t.vertices[u[c]].copy(n)}var t,r,n=new i.Vector3,o=new i.Camera;return function(){t=this.geometry,r=this.pointMap;var n=1,i=1;o.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-n,-i,-1),e("n2",n,-i,-1),e("n3",-n,i,-1),e("n4",n,i,-1),e("f1",-n,-i,1),e("f2",n,-i,1),e("f3",-n,i,1),e("f4",n,i,1),e("u1",.7*n,1.1*i,-1),e("u2",.7*-n,1.1*i,-1),e("u3",0,2*i,-1),e("cf1",-n,0,1),e("cf2",n,0,1),e("cf3",0,-i,1),e("cf4",0,i,1),e("cn1",-n,0,-1),e("cn2",n,0,-1),e("cn3",0,-i,-1),e("cn4",0,i,-1),t.verticesNeedUpdate=!0}}(),i.DirectionalLightHelper=function(e,t){i.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,t=t||1;var r=new i.Geometry;r.vertices.push(new i.Vector3(-t,t,0),new i.Vector3(t,t,0),new i.Vector3(t,-t,0),new i.Vector3(-t,-t,0),new i.Vector3(-t,t,0));var n=new i.LineBasicMaterial({fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new i.Line(r,n),this.add(this.lightPlane),r=new i.Geometry,r.vertices.push(new i.Vector3,new i.Vector3),n=new i.LineBasicMaterial({fog:!1}),n.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new i.Line(r,n),this.add(this.targetLine),this.update()},i.DirectionalLightHelper.prototype=Object.create(i.Object3D.prototype),i.DirectionalLightHelper.prototype.constructor=i.DirectionalLightHelper,i.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},i.DirectionalLightHelper.prototype.update=function(){var e=new i.Vector3,t=new i.Vector3,r=new i.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(t,e),this.lightPlane.lookAt(r),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(r),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),i.EdgesHelper=function(e,t,r){var n=void 0!==t?t:16777215;i.LineSegments.call(this,new i.EdgesGeometry(e.geometry,r),new i.LineBasicMaterial({color:n})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},i.EdgesHelper.prototype=Object.create(i.LineSegments.prototype),i.EdgesHelper.prototype.constructor=i.EdgesHelper,i.FaceNormalsHelper=function(e,t,r,n){this.object=e,this.size=void 0!==t?t:1;var o=void 0!==r?r:16776960,a=void 0!==n?n:1,s=0,u=this.object.geometry;u instanceof i.Geometry?s=u.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new i.BufferGeometry,l=new i.Float32Attribute(2*s*3,3);c.addAttribute("position",l),i.LineSegments.call(this,c,new i.LineBasicMaterial({color:o,linewidth:a})),this.matrixAutoUpdate=!1,this.update()},i.FaceNormalsHelper.prototype=Object.create(i.LineSegments.prototype),i.FaceNormalsHelper.prototype.constructor=i.FaceNormalsHelper,i.FaceNormalsHelper.prototype.update=function(){var e=new i.Vector3,t=new i.Vector3,r=new i.Matrix3;return function(){this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;l>c;c++){var h=s[c],p=h.normal;e.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(n),t.copy(p).applyMatrix3(r).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),u+=1,i.setXYZ(u,t.x,t.y,t.z),u+=1}return i.needsUpdate=!0,this}}(),i.GridHelper=function(e,t){var r=new i.Geometry,n=new i.LineBasicMaterial({vertexColors:i.VertexColors});this.color1=new i.Color(4473924),this.color2=new i.Color(8947848);for(var o=-e;e>=o;o+=t){r.vertices.push(new i.Vector3(-e,0,o),new i.Vector3(e,0,o),new i.Vector3(o,0,-e),new i.Vector3(o,0,e));var a=0===o?this.color1:this.color2;r.colors.push(a,a,a,a)}i.LineSegments.call(this,r,n)},i.GridHelper.prototype=Object.create(i.LineSegments.prototype),i.GridHelper.prototype.constructor=i.GridHelper,i.GridHelper.prototype.setColors=function(e,t){this.color1.set(e),this.color2.set(t),this.geometry.colorsNeedUpdate=!0},i.HemisphereLightHelper=function(e,t){i.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new i.Color,new i.Color];var r=new i.SphereGeometry(t,4,2);r.rotateX(-Math.PI/2);for(var n=0,o=8;o>n;n++)r.faces[n].color=this.colors[4>n?0:1];var a=new i.MeshBasicMaterial({vertexColors:i.FaceColors,wireframe:!0});this.lightSphere=new i.Mesh(r,a),this.add(this.lightSphere),this.update()},i.HemisphereLightHelper.prototype=Object.create(i.Object3D.prototype),i.HemisphereLightHelper.prototype.constructor=i.HemisphereLightHelper,i.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},i.HemisphereLightHelper.prototype.update=function(){var e=new i.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),i.PointLightHelper=function(e,t){this.light=e,this.light.updateMatrixWorld();var r=new i.SphereGeometry(t,4,2),n=new i.MeshBasicMaterial({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.Mesh.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},i.PointLightHelper.prototype=Object.create(i.Mesh.prototype),i.PointLightHelper.prototype.constructor=i.PointLightHelper,i.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},i.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},i.SkeletonHelper=function(e){this.bones=this.getBoneList(e);for(var t=new i.Geometry,r=0;r<this.bones.length;r++){var n=this.bones[r];n.parent instanceof i.Bone&&(t.vertices.push(new i.Vector3),t.vertices.push(new i.Vector3),t.colors.push(new i.Color(0,0,1)),t.colors.push(new i.Color(0,1,0)))}t.dynamic=!0;var o=new i.LineBasicMaterial({vertexColors:i.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});i.LineSegments.call(this,t,o),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},i.SkeletonHelper.prototype=Object.create(i.LineSegments.prototype),i.SkeletonHelper.prototype.constructor=i.SkeletonHelper,i.SkeletonHelper.prototype.getBoneList=function(e){var t=[];e instanceof i.Bone&&t.push(e);for(var r=0;r<e.children.length;r++)t.push.apply(t,this.getBoneList(e.children[r]));return t},i.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,t=(new i.Matrix4).getInverse(this.root.matrixWorld),r=new i.Matrix4,n=0,o=0;o<this.bones.length;o++){var a=this.bones[o];a.parent instanceof i.Bone&&(r.multiplyMatrices(t,a.matrixWorld),e.vertices[n].setFromMatrixPosition(r),r.multiplyMatrices(t,a.parent.matrixWorld),e.vertices[n+1].setFromMatrixPosition(r),n+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},i.SpotLightHelper=function(e){i.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var t=new i.CylinderGeometry(0,1,1,8,1,!0);t.translate(0,-.5,0),t.rotateX(-Math.PI/2);var r=new i.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new i.Mesh(t,r),this.add(this.cone),this.update()},i.SpotLightHelper.prototype=Object.create(i.Object3D.prototype),i.SpotLightHelper.prototype.constructor=i.SpotLightHelper,i.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},i.SpotLightHelper.prototype.update=function(){var e=new i.Vector3,t=new i.Vector3;return function(){var r=this.light.distance?this.light.distance:1e4,n=r*Math.tan(this.light.angle);this.cone.scale.set(n,n,r),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),i.VertexNormalsHelper=function(e,t,r,n){this.object=e,this.size=void 0!==t?t:1;var o=void 0!==r?r:16711680,a=void 0!==n?n:1,s=0,u=this.object.geometry;u instanceof i.Geometry?s=3*u.faces.length:u instanceof i.BufferGeometry&&(s=u.attributes.normal.count);var c=new i.BufferGeometry,l=new i.Float32Attribute(2*s*3,3);c.addAttribute("position",l),i.LineSegments.call(this,c,new i.LineBasicMaterial({color:o,linewidth:a})),this.matrixAutoUpdate=!1,this.update()},i.VertexNormalsHelper.prototype=Object.create(i.LineSegments.prototype),i.VertexNormalsHelper.prototype.constructor=i.VertexNormalsHelper,i.VertexNormalsHelper.prototype.update=function(){var e=new i.Vector3,t=new i.Vector3,r=new i.Matrix3;return function(){var n=["a","b","c"];this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);var o=this.object.matrixWorld,a=this.geometry.attributes.position,s=this.object.geometry;if(s instanceof i.Geometry)for(var u=s.vertices,c=s.faces,l=0,h=0,p=c.length;p>h;h++)for(var d=c[h],f=0,m=d.vertexNormals.length;m>f;f++){var v=u[d[n[f]]],g=d.vertexNormals[f];e.copy(v).applyMatrix4(o),t.copy(g).applyMatrix3(r).normalize().multiplyScalar(this.size).add(e),a.setXYZ(l,e.x,e.y,e.z),l+=1,a.setXYZ(l,t.x,t.y,t.z),l+=1}else if(s instanceof i.BufferGeometry)for(var y=s.attributes.position,b=s.attributes.normal,l=0,f=0,m=y.count;m>f;f++)e.set(y.getX(f),y.getY(f),y.getZ(f)).applyMatrix4(o),t.set(b.getX(f),b.getY(f),b.getZ(f)),t.applyMatrix3(r).normalize().multiplyScalar(this.size).add(e),a.setXYZ(l,e.x,e.y,e.z),l+=1,a.setXYZ(l,t.x,t.y,t.z),l+=1;return a.needsUpdate=!0,this}}(),i.WireframeHelper=function(e,t){var r=void 0!==t?t:16777215;i.LineSegments.call(this,new i.WireframeGeometry(e.geometry),new i.LineBasicMaterial({color:r})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},i.WireframeHelper.prototype=Object.create(i.LineSegments.prototype),i.WireframeHelper.prototype.constructor=i.WireframeHelper,i.ImmediateRenderObject=function(e){i.Object3D.call(this),this.material=e,this.render=function(e){}},i.ImmediateRenderObject.prototype=Object.create(i.Object3D.prototype),i.ImmediateRenderObject.prototype.constructor=i.ImmediateRenderObject,i.MorphBlendMesh=function(e,t){i.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var r=this.geometry.morphTargets.length,n="__default",o=0,a=r-1,s=r/1;this.createAnimation(n,o,a,s),this.setAnimationWeight(n,1)},i.MorphBlendMesh.prototype=Object.create(i.Mesh.prototype),i.MorphBlendMesh.prototype.constructor=i.MorphBlendMesh,i.MorphBlendMesh.prototype.createAnimation=function(e,t,r,n){var i={start:t,end:r,length:r-t+1,fps:n,duration:(r-t)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=i,this.animationsList.push(i)},i.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,r=/([a-z]+)_?(\d+)/i,n={},i=this.geometry,o=0,a=i.morphTargets.length;a>o;o++){var s=i.morphTargets[o],u=s.name.match(r);if(u&&u.length>1){var c=u[1];n[c]||(n[c]={start:1/0,end:-(1/0)});var l=n[c];o<l.start&&(l.start=o),o>l.end&&(l.end=o),t||(t=c)}}for(var c in n){var l=n[c];this.createAnimation(c,l.start,l.end,e)}this.firstAnimation=t},i.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},i.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},i.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var r=this.animationsMap[e];r&&(r.fps=t,r.duration=(r.end-r.start)/r.fps)},i.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var r=this.animationsMap[e];r&&(r.duration=t,r.fps=(r.end-r.start)/r.duration)},i.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var r=this.animationsMap[e];r&&(r.weight=t)},i.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var r=this.animationsMap[e];r&&(r.time=t)},i.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0,r=this.animationsMap[e];return r&&(t=r.time),t},i.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1,r=this.animationsMap[e];return r&&(t=r.duration),t},i.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("THREE.MorphBlendMesh: animation["+e+"] undefined in .playAnimation()")},i.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},i.MorphBlendMesh.prototype.update=function(e){for(var t=0,r=this.animationsList.length;r>t;t++){var n=this.animationsList[t];if(n.active){var o=n.duration/n.length;n.time+=n.direction*e,n.mirroredLoop?(n.time>n.duration||n.time<0)&&(n.direction*=-1,n.time>n.duration&&(n.time=n.duration,n.directionBackwards=!0),n.time<0&&(n.time=0,n.directionBackwards=!1)):(n.time=n.time%n.duration,n.time<0&&(n.time+=n.duration));var a=n.start+i.Math.clamp(Math.floor(n.time/o),0,n.length-1),s=n.weight;a!==n.currentFrame&&(this.morphTargetInfluences[n.lastFrame]=0,this.morphTargetInfluences[n.currentFrame]=1*s,this.morphTargetInfluences[a]=0,n.lastFrame=n.currentFrame,n.currentFrame=a);var u=n.time%o/o;n.directionBackwards&&(u=1-u),n.currentFrame!==n.lastFrame?(this.morphTargetInfluences[n.currentFrame]=u*s,this.morphTargetInfluences[n.lastFrame]=(1-u)*s):this.morphTargetInfluences[n.currentFrame]=s}}},"undefined"!=typeof n?("undefined"!=typeof r&&r.exports&&(n=r.exports=i),n.THREE=i):this.THREE=i},{}],22:[function(e,r,n){!function(e){if("performance"in e==!1&&(e.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in e.performance==!1){var t=e.performance.timing&&e.performance.timing.navigationStart?performance.timing.navigationStart:Date.now();e.performance.now=function(){return Date.now()-t}}}(this);var i=i||function(){var e=[];return{REVISION:"14",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var r=e.indexOf(t);-1!==r&&e.splice(r,1)},update:function(t){if(0===e.length)return!1;var r=0;for(t=void 0!==t?t:window.performance.now();r<e.length;)e[r].update(t)?r++:e.splice(r,1);return!0}}}();i.Tween=function(e){var t=e,r={},n={},o={},a=1e3,s=0,u=!1,c=!1,l=!1,h=0,p=null,d=i.Easing.Linear.None,f=i.Interpolation.Linear,m=[],v=null,g=!1,y=null,b=null,_=null;for(var x in e)r[x]=parseFloat(e[x],10);this.to=function(e,t){return void 0!==t&&(a=t),n=e,this},this.start=function(e){i.add(this),c=!0,g=!1,p=void 0!==e?e:window.performance.now(),p+=h;for(var a in n){if(n[a]instanceof Array){if(0===n[a].length)continue;n[a]=[t[a]].concat(n[a])}r[a]=t[a],r[a]instanceof Array==!1&&(r[a]*=1),o[a]=r[a]||0}return this},this.stop=function(){return c?(i.remove(this),c=!1,null!==_&&_.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=m.length;t>e;e++)m[e].stop()},this.delay=function(e){return h=e,this},this.repeat=function(e){return s=e,this},this.yoyo=function(e){return u=e,this},this.easing=function(e){return d=e,this},this.interpolation=function(e){return f=e,this},this.chain=function(){return m=arguments,this},this.onStart=function(e){return v=e,this},this.onUpdate=function(e){return y=e,this},this.onComplete=function(e){return b=e,this},this.onStop=function(e){return _=e,this},this.update=function(e){var i;if(p>e)return!0;g===!1&&(null!==v&&v.call(t),g=!0);var c=(e-p)/a;c=c>1?1:c;var _=d(c);for(i in n){var x=r[i]||0,w=n[i];w instanceof Array?t[i]=f(w,_):("string"==typeof w&&(w=x+parseFloat(w,10)),"number"==typeof w&&(t[i]=x+(w-x)*_))}if(null!==y&&y.call(t,_),1==c){if(s>0){isFinite(s)&&s--;for(i in o){if("string"==typeof n[i]&&(o[i]=o[i]+parseFloat(n[i],10)),u){var E=o[i];o[i]=n[i],n[i]=E}r[i]=o[i]}return u&&(l=!l),p=e+h,!0}null!==b&&b.call(t);for(var S=0,C=m.length;C>S;S++)m[S].start(e);return!1}return!0}},i.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,r=.1,n=.4;return 0===e?0:1===e?1:(!r||1>r?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},Out:function(e){var t,r=.1,n=.4;return 0===e?0:1===e?1:(!r||1>r?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},InOut:function(e){var t,r=.1,n=.4;return 0===e?0:1===e?1:(!r||1>r?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-i.Easing.Bounce.Out(1-e)},Out:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return.5>e?.5*i.Easing.Bounce.In(2*e):.5*i.Easing.Bounce.Out(2*e-1)+.5}}},i.Interpolation={Linear:function(e,t){var r=e.length-1,n=r*t,o=Math.floor(n),a=i.Interpolation.Utils.Linear;return 0>t?a(e[0],e[1],n):t>1?a(e[r],e[r-1],r-n):a(e[o],e[o+1>r?r:o+1],n-o)},Bezier:function(e,t){var r,n=0,o=e.length-1,a=Math.pow,s=i.Interpolation.Utils.Bernstein;for(r=0;o>=r;r++)n+=a(1-t,o-r)*a(t,r)*e[r]*s(o,r);return n},CatmullRom:function(e,t){var r=e.length-1,n=r*t,o=Math.floor(n),a=i.Interpolation.Utils.CatmullRom;return e[0]===e[r]?(0>t&&(o=Math.floor(n=r*(1+t))),a(e[(o-1+r)%r],e[o],e[(o+1)%r],e[(o+2)%r],n-o)):0>t?e[0]-(a(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[r]-(a(e[r],e[r],e[r-1],e[r-1],n-r)-e[r]):a(e[o?o-1:0],e[o],e[o+1>r?r:o+1],e[o+2>r?r:o+2],n-o)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(e,t){var r=i.Interpolation.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:function(){var e=[1];return function(t){var r,n=1;if(e[t])return e[t];for(r=t;r>1;r--)n*=r;return e[t]=n}}(),CatmullRom:function(e,t,r,n,i){var o=.5*(r-e),a=.5*(n-t),s=i*i,u=i*s;return(2*t-2*r+o+a)*u+(-3*t+3*r-2*o-a)*s+o*i+t}}},function(e){"function"==typeof t&&t.amd?t([],function(){return i}):"object"==typeof n?r.exports=i:e.TWEEN=i}(this)},{}],23:[function(e,t,r){!function n(t,r,i){function o(s,u){if(!r[s]){if(!t[s]){var c="function"==typeof e&&e;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=r[s]={exports:{}};t[s][0].call(h.exports,function(e){var r=t[s][1][e];return o(r?r:e)},h,h.exports,n,t,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,r){function n(){this.hardwareUnitId="webvr-polyfill hardwareUnitId",this.deviceId="webvr-polyfill deviceId",this.deviceName="webvr-polyfill deviceName"}function i(){}function o(){}i.prototype=new n,o.prototype=new n,t.exports.VRDevice=n,t.exports.HMDVRDevice=i,t.exports.PositionSensorVRDevice=o},{}],2:[function(e,t,r){function n(){this.fov={upDegrees:u,downDegrees:s,leftDegrees:a,rightDegrees:a},this.eyeTranslationLeft={x:o*-.5,y:0,z:0},this.eyeTranslationRight={x:.5*o,y:0,z:0}}var i=e("./base.js").HMDVRDevice,o=.06,a=40,s=40,u=40;n.prototype=new i,n.prototype.getEyeParameters=function(e){var t;if("left"==e)t=this.eyeTranslationLeft;else{if("right"!=e)return console.error("Invalid eye provided: %s",e),null;t=this.eyeTranslationRight}return{recommendedFieldOfView:this.fov,eyeTranslation:t}},t.exports=n},{"./base.js":1}],3:[function(e,t,r){function n(e){this.kFilter=e,this.currentAccelMeasurement=new i,this.currentGyroMeasurement=new i,this.previousGyroMeasurement=new i,this.filterQ=new o.Quaternion,this.previousFilterQ=new o.Quaternion,this.accelQ=new o.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new o.Vector3,this.measuredGravity=new o.Vector3,this.gyroIntegralQ=new o.Quaternion}var i=e("./sensor-sample.js"),o=e("./three-math.js"),a=e("./util.js"),s=!1;n.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},n.prototype.addGyroMeasurement=function(e,t){
this.currentGyroMeasurement.set(e,t);var r=t-this.previousGyroMeasurement.timestampS;a.isTimestampDeltaValid(r)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},n.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var r=new o.Quaternion;r.copy(this.filterQ),r.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(r),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var n=new o.Quaternion;n.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),n.inverse(),s&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",o.Math.radToDeg(a.getQuaternionAngle(n)),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var i=new o.Quaternion;i.copy(this.filterQ),i.multiply(n),this.filterQ.slerp(i,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},n.prototype.getOrientation=function(){return this.filterQ},n.prototype.accelToQuaternion_=function(e){var t=new o.Vector3;t.copy(e),t.normalize();var r=new o.Quaternion;return r.setFromUnitVectors(new o.Vector3(0,0,-1),t),r.inverse(),r},n.prototype.gyroToQuaternionDelta_=function(e,t){var r=new o.Quaternion,n=new o.Vector3;return n.copy(e),n.normalize(),r.setFromAxisAngle(n,e.length()*t),r},t.exports=n},{"./sensor-sample.js":8,"./three-math.js":9,"./util.js":11}],4:[function(e,t,r){function n(){this.deviceId="webvr-polyfill:fused",this.deviceName="VR Position Device (webvr-polyfill:fused)",this.accelerometer=new u.Vector3,this.gyroscope=new u.Vector3,window.addEventListener("devicemotion",this.onDeviceMotionChange_.bind(this)),window.addEventListener("orientationchange",this.onScreenOrientationChange_.bind(this)),this.filter=new o(WebVRConfig.K_FILTER||.98),this.posePredictor=new a(WebVRConfig.PREDICTION_TIME_S||.04),this.touchPanner=new s,this.filterToWorldQ=new u.Quaternion,c.isIOS()?this.filterToWorldQ.setFromAxisAngle(new u.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new u.Vector3(1,0,0),-Math.PI/2),this.worldToScreenQ=new u.Quaternion,this.setScreenTransform_(),this.resetQ=new u.Quaternion,this.isFirefoxAndroid=c.isFirefoxAndroid(),this.isIOS=c.isIOS()}var i=e("./base.js").PositionSensorVRDevice,o=e("./complementary-filter.js"),a=e("./pose-predictor.js"),s=e("./touch-panner.js"),u=e("./three-math.js"),c=e("./util.js");n.prototype=new i,n.prototype.getState=function(){return{hasOrientation:!0,orientation:this.getOrientation(),hasPosition:!1,position:null}},n.prototype.getOrientation=function(){var e=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS);var t=new u.Quaternion;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),WebVRConfig.TOUCH_PANNER_DISABLED||t.multiply(this.touchPanner.getOrientation()),t.multiply(this.predictedQ),t.multiply(this.worldToScreenQ),WebVRConfig.YAW_ONLY&&(t.x=0,t.z=0,t.normalize()),t},n.prototype.resetSensor=function(){var e=new u.Euler;e.setFromQuaternion(this.filter.getOrientation());var t=e.y;console.log("resetSensor with yaw: %f",t),this.resetQ.setFromAxisAngle(new u.Vector3(0,0,1),-t),WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},n.prototype.onDeviceMotionChange_=function(e){var t=e.accelerationIncludingGravity,r=e.rotationRate,n=e.timeStamp/1e3;this.isFirefoxAndroid&&(n/=1e3);var i=n-this.previousTimestampS;return i<=c.MIN_TIMESTEP||i>c.MAX_TIMESTEP?(console.warn("Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic"),void(this.previousTimestampS=n)):(this.accelerometer.set(-t.x,-t.y,-t.z),this.gyroscope.set(r.alpha,r.beta,r.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,n),this.filter.addGyroMeasurement(this.gyroscope,n),void(this.previousTimestampS=n))},n.prototype.onScreenOrientationChange_=function(e){this.setScreenTransform_()},n.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new u.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new u.Vector3(0,0,1),Math.PI/2);break;case 180:}},t.exports=n},{"./base.js":1,"./complementary-filter.js":3,"./pose-predictor.js":7,"./three-math.js":9,"./touch-panner.js":10,"./util.js":11}],5:[function(e,t,r){var n=e("./webvr-polyfill.js");window.WebVRConfig=window.WebVRConfig||{},new n},{"./webvr-polyfill.js":12}],6:[function(e,t,r){function n(){this.deviceId="webvr-polyfill:mouse-keyboard",this.deviceName="VR Position Device (webvr-polyfill:mouse-keyboard)",window.addEventListener("keydown",this.onKeyDown_.bind(this)),window.addEventListener("mousemove",this.onMouseMove_.bind(this)),window.addEventListener("mousedown",this.onMouseDown_.bind(this)),window.addEventListener("mouseup",this.onMouseUp_.bind(this)),this.phi=0,this.theta=0,this.targetAngle=null,this.euler=new o.Euler,this.orientation=new o.Quaternion,this.rotateStart=new o.Vector2,this.rotateEnd=new o.Vector2,this.rotateDelta=new o.Vector2}var i=e("./base.js").PositionSensorVRDevice,o=e("./three-math.js"),a=e("./util.js"),s=.15,u=80,c=.5,l=.3;n.prototype=new i,n.prototype.getState=function(){return this.euler.set(this.phi,this.theta,0,"YXZ"),this.orientation.setFromEuler(this.euler),{hasOrientation:!0,orientation:this.orientation,hasPosition:!1,position:null}},n.prototype.onKeyDown_=function(e){38==e.keyCode?this.animatePhi_(this.phi+s):39==e.keyCode?this.animateTheta_(this.theta-s):40==e.keyCode?this.animatePhi_(this.phi-s):37==e.keyCode&&this.animateTheta_(this.theta+s)},n.prototype.animateTheta_=function(e){this.animateKeyTransitions_("theta",e)},n.prototype.animatePhi_=function(e){e=a.clamp(e,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_("phi",e)},n.prototype.animateKeyTransitions_=function(e,t){this.angleAnimation&&clearInterval(this.angleAnimation);var r=this[e],n=new Date;this.angleAnimation=setInterval(function(){var i=new Date-n;if(i>=u)return this[e]=t,void clearInterval(this.angleAnimation);var o=i/u;this[e]=r+(t-r)*o}.bind(this),1e3/60)},n.prototype.onMouseDown_=function(e){this.rotateStart.set(e.clientX,e.clientY),this.isDragging=!0},n.prototype.onMouseMove_=function(e){if(this.isDragging||this.isPointerLocked_()){if(this.isPointerLocked_()){var t=e.movementX||e.mozMovementX||0,r=e.movementY||e.mozMovementY||0;this.rotateEnd.set(this.rotateStart.x-t,this.rotateStart.y-r)}else this.rotateEnd.set(e.clientX,e.clientY);this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd);var n=document.body;this.phi+=2*Math.PI*this.rotateDelta.y/n.clientHeight*l,this.theta+=2*Math.PI*this.rotateDelta.x/n.clientWidth*c,this.phi=a.clamp(this.phi,-Math.PI/2,Math.PI/2)}},n.prototype.onMouseUp_=function(e){this.isDragging=!1},n.prototype.isPointerLocked_=function(){var e=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return void 0!==e},n.prototype.resetSensor=function(){console.error("Not implemented yet.")},t.exports=n},{"./base.js":1,"./three-math.js":9,"./util.js":11}],7:[function(e,t,r){function n(e){this.predictionTimeS=e,this.previousQ=new i.Quaternion,this.previousTimestampS=null,this.deltaQ=new i.Quaternion,this.outQ=new i.Quaternion}var i=e("./three-math.js"),o=!1;n.prototype.getPrediction=function(e,t,r){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=r,e;var n=new i.Vector3;n.copy(t),n.normalize();var a=t.length();if(a<i.Math.degToRad(20))return o&&console.log("Moving slowly, at %s deg/s: no prediction",i.Math.radToDeg(a).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var s=(r-this.previousTimestampS,a*this.predictionTimeS);return this.deltaQ.setFromAxisAngle(n,s),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.outQ},t.exports=n},{"./three-math.js":9}],8:[function(e,t,r){function n(e,t){this.set(e,t)}n.prototype.set=function(e,t){this.sample=e,this.timestampS=t},n.prototype.copy=function(e){this.set(e.sample,e.timestampS)},t.exports=n},{}],9:[function(e,t,r){var n=window.THREE||{};n.Quaternion&&n.Vector3&&n.Vector2&&n.Euler&&n.Math||(console.log("No THREE.js found."),n.Quaternion=function(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0!==n?n:1},n.Quaternion.prototype={constructor:n.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this.onChangeCallback(),this},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(e instanceof n.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=Math.cos(e._x/2),i=Math.cos(e._y/2),o=Math.cos(e._z/2),a=Math.sin(e._x/2),s=Math.sin(e._y/2),u=Math.sin(e._z/2);return"XYZ"===e.order?(this._x=a*i*o+r*s*u,this._y=r*s*o-a*i*u,this._z=r*i*u+a*s*o,this._w=r*i*o-a*s*u):"YXZ"===e.order?(this._x=a*i*o+r*s*u,this._y=r*s*o-a*i*u,this._z=r*i*u-a*s*o,this._w=r*i*o+a*s*u):"ZXY"===e.order?(this._x=a*i*o-r*s*u,this._y=r*s*o+a*i*u,this._z=r*i*u+a*s*o,this._w=r*i*o-a*s*u):"ZYX"===e.order?(this._x=a*i*o-r*s*u,this._y=r*s*o+a*i*u,this._z=r*i*u-a*s*o,this._w=r*i*o+a*s*u):"YZX"===e.order?(this._x=a*i*o+r*s*u,this._y=r*s*o+a*i*u,this._z=r*i*u-a*s*o,this._w=r*i*o-a*s*u):"XZY"===e.order&&(this._x=a*i*o-r*s*u,this._y=r*s*o-a*i*u,this._z=r*i*u+a*s*o,this._w=r*i*o+a*s*u),t!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,r=e.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],u=r[9],c=r[2],l=r[6],h=r[10],p=n+s+h;return p>0?(t=.5/Math.sqrt(p+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):n>s&&n>h?(t=2*Math.sqrt(1+n-s-h),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>h?(t=2*Math.sqrt(1+s-n-h),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Math.sqrt(1+h-n-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t,r=1e-6;return function(i,o){return void 0===e&&(e=new n.Vector3),t=i.dot(o)+1,r>t?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,o),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var r=e._x,n=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=r*c+o*a+n*u-i*s,this._y=n*c+o*s+i*a-r*u,this._z=i*c+o*u+r*s-n*a,this._w=o*c-r*a-n*s-i*u,this.onChangeCallback(),this},multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*e._w+r*e._x+n*e._y+i*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=Math.acos(a),u=Math.sqrt(1-a*a);if(Math.abs(u)<.001)return this._w=.5*(o+this._w),this._x=.5*(r+this._x),this._y=.5*(n+this._y),this._z=.5*(i+this._z),this;var c=Math.sin((1-t)*s)/u,l=Math.sin(t*s)/u;return this._w=o*c+this._w*l,this._x=r*c+this._x*l,this._y=n*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){},clone:function(){return new n.Quaternion(this._x,this._y,this._z,this._w)}},n.Quaternion.slerp=function(e,t,r,n){return r.copy(e).slerp(t,n)},n.Vector2=function(e,t){this.x=e||0,this.y=t||0},n.Vector2.prototype={constructor:n.Vector2,set:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScalar:function(e){return this.x+=e,this.y+=e,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t}else this.x=0,this.y=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this},clampScalar:function(){var e,t;return function(r,i){return void 0===e&&(e=new n.Vector2,t=new n.Vector2),e.set(r,r),t.set(i,i),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromAttribute:function(e,t,r){return void 0===r&&(r=0),t=t*e.itemSize+r,this.x=e.array[t],this.y=e.array[t+1],this},clone:function(){return new n.Vector2(this.x,this.y)}},n.Vector3=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0},n.Vector3.prototype={constructor:n.Vector3,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return t instanceof n.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===e&&(e=new n.Quaternion),this.applyQuaternion(e.setFromEuler(t)),this}}(),applyAxisAngle:function(){var e;return function(t,r){return void 0===e&&(e=new n.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,r)),this}}(),applyMatrix3:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n+i[12],this.y=i[1]*t+i[5]*r+i[9]*n+i[13],this.z=i[2]*t+i[6]*r+i[10]*n+i[14],this},applyProjection:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements,o=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*n-a*r,c=s*r+a*t-i*n,l=s*n+i*r-o*t,h=-i*t-o*r-a*n;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var e;return function(t){return void 0===e&&(e=new n.Matrix4),e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(t){return void 0===e&&(e=new n.Matrix4),e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t}else this.x=0,this.y=0,this.z=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this},clampScalar:function(){var e,t;return function(r,i){return void 0===e&&(e=new n.Vector3,t=new n.Vector3),e.set(r,r,r),t.set(i,i,i),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var r=this.x,n=this.y,i=this.z;return this.x=n*e.z-i*e.y,this.y=i*e.x-r*e.z,this.z=r*e.y-n*e.x,this},crossVectors:function(e,t){var r=e.x,n=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(){var e,t;return function(r){return void 0===e&&(e=new n.Vector3),e.copy(r).normalize(),t=this.dot(e),this.copy(e).multiplyScalar(t)}}(),projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new n.Vector3),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new n.Vector3),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/(this.length()*e.length());return Math.acos(n.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n},setEulerFromRotationMatrix:function(e,t){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(e,t){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),r=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),n=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=r,this.z=n,this},setFromMatrixColumn:function(e,t){var r=4*e,n=t.elements;return this.x=n[r],this.y=n[r+1],this.z=n[r+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromAttribute:function(e,t,r){return void 0===r&&(r=0),t=t*e.itemSize+r,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this},clone:function(){return new n.Vector3(this.x,this.y,this.z)}},n.Euler=function(e,t,r,i){this._x=e||0,this._y=t||0,this._z=r||0,this._order=i||n.Euler.DefaultOrder},n.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],n.Euler.DefaultOrder="XYZ",n.Euler.prototype={constructor:n.Euler,_x:0,_y:0,_z:0,_order:n.Euler.DefaultOrder,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){var i=n.Math.clamp,o=e.elements,a=o[0],s=o[4],u=o[8],c=o[1],l=o[5],h=o[9],p=o[2],d=o[6],f=o[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(i(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-h,f),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(d,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(u,f),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-p,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-p,f),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(c,a))):"ZYX"===t?(this._y=Math.asin(-i(p,-1,1)),Math.abs(p)<.99999?(this._x=Math.atan2(d,f),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,l))):"YZX"===t?(this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(u,f))):"XZY"===t?(this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(d,l),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-h,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,r!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(t,r,i){return void 0===e&&(e=new n.Matrix4),e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,r,i),this}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new n.Quaternion;return function(t){e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(){return[this._x,this._y,this._z,this._order]},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new n.Vector3(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){},clone:function(){return new n.Euler(this._x,this._y,this._z,this._order)}},n.Math={generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=new Array(36),n=0;return function(){for(var i=0;36>i;i++)8==i||13==i||18==i||23==i?r[i]="-":14==i?r[i]="4":(2>=n&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,r[i]=t[19==i?3&e|8:e]);return r.join("")}}(),clamp:function(e,t,r){return t>e?t:e>r?r:e},clampBottom:function(e,t){return t>e?t:e},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},smoothstep:function(e,t,r){return t>=e?0:e>=r?1:(e=(e-t)/(r-t),e*e*(3-2*e))},smootherstep:function(e,t,r){return t>=e?0:e>=r?1:(e=(e-t)/(r-t),e*e*e*(e*(6*e-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return Math.floor(this.randFloat(e,t))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}(),radToDeg:function(){var e=180/Math.PI;return function(t){return t*e}}(),isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}}),t.exports=n},{}],10:[function(e,t,r){function n(){window.addEventListener("touchstart",this.onTouchStart_.bind(this)),window.addEventListener("touchmove",this.onTouchMove_.bind(this)),window.addEventListener("touchend",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new i.Vector2,this.rotateEnd=new i.Vector2,this.rotateDelta=new i.Vector2,this.theta=0,this.orientation=new i.Quaternion}var i=e("./three-math.js"),o=e("./util.js"),a=.5;n.prototype.getOrientation=function(){return this.orientation.setFromEuler(new i.Euler(0,0,this.theta)),this.orientation},n.prototype.resetSensor=function(){this.theta=0},n.prototype.onTouchStart_=function(e){1==e.touches.length&&(this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),this.isTouching=!0)},n.prototype.onTouchMove_=function(e){if(this.isTouching){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),o.isIOS()&&(this.rotateDelta.x*=-1);var t=document.body;this.theta+=2*Math.PI*this.rotateDelta.x/t.clientWidth*a}},n.prototype.onTouchEnd_=function(e){this.isTouching=!1},t.exports=n},{"./three-math.js":9,"./util.js":11}],11:[function(e,t,r){var n=window.Util||{};n.MIN_TIMESTEP=.001,n.MAX_TIMESTEP=1,n.clamp=function(e,t,r){return Math.min(Math.max(t,e),r)},n.isIOS=function(){return/iPad|iPhone|iPod/.test(navigator.platform)},n.isFirefoxAndroid=function(){return-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android")},n.isTimestampDeltaValid=function(e){return isNaN(e)?!1:e<=n.MIN_TIMESTEP?!1:e>n.MAX_TIMESTEP?!1:!0},t.exports=n},{}],12:[function(e,t,r){function n(){this.devices=[],this.isWebVRAvailable()||this.enablePolyfill()}var i=e("./cardboard-hmd-vr-device.js"),o=e("./fusion-position-sensor-vr-device.js"),a=e("./mouse-keyboard-position-sensor-vr-device.js"),s=e("./base.js").HMDVRDevice,u=e("./base.js").PositionSensorVRDevice;n.prototype.isWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator},n.prototype.enablePolyfill=function(){this.isCardboardCompatible()&&this.devices.push(new i),this.isMobile()?this.devices.push(new o):WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||this.devices.push(new a),navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=s,window.PositionSensorVRDevice=u},n.prototype.getVRDevices=function(){var e=this.devices;return new Promise(function(t,r){try{t(e)}catch(n){r(n)}})},n.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},n.prototype.isCardboardCompatible=function(){
return this.isMobile()||WebVRConfig.FORCE_ENABLE_VR},t.exports=n},{"./base.js":1,"./cardboard-hmd-vr-device.js":2,"./fusion-position-sensor-vr-device.js":4,"./mouse-keyboard-position-sensor-vr-device.js":6}]},{},[5])},{}],24:[function(e,t,r){t.exports={name:"aframe",version:"0.2.0-rc1",description:"Building blocks for the VR Web",main:"dist/aframe.js",scripts:{browserify:"browserify src/index.js -s 'AFRAME' -p browserify-derequire",build:"mkdirp build/ && npm run browserify -- --debug -o build/aframe.js",dev:"npm run build && node ./scripts/budo",dist:"mkdirp dist/ && npm run browserify -s -- --debug | exorcist dist/aframe.js.map > dist/aframe.js && uglifyjs dist/aframe.js -c warnings=false -m -o dist/aframe.min.js","gh-pages":"npm run ghpages",ghpages:"node ./scripts/gh-pages",lint:"semistandard -v | snazzy",precommit:"npm run lint",preghpages:"npm run dist && rimraf gh-pages && mkdirp gh-pages && cp -r {.nojekyll,dist,lib,examples,index.html,style} gh-pages/. 2>/dev/null || : && git checkout dist/ && replace 'build/aframe.js' 'dist/aframe.min.js' gh-pages/ -r --silent","release:bump":"npm run dist && git commit -am 'bump dist' && npm version patch --preminor","release:push":"npm login && npm publish && git push --follow-tags",start:"npm run dev",test:"karma start ./tests/karma.conf.js","test:ci":"TEST_ENV=ci karma start ./tests/karma.conf.js --single-run",version:"npm run dist"},repository:"aframevr/aframe",license:"MIT",dependencies:{"browserify-css":"^0.8.2",debug:"^2.2.0","deep-assign":"^2.0.0","document-register-element":"dmarcos/document-register-element#8ccc532b7","promise-polyfill":"^3.1.0","object-assign":"^4.0.1",polymerize:"^1.0.0",present:"0.0.6","request-interval":"^1.0.0","style-attr":"^1.0.2",three:"^0.74.0","tween.js":"^15.0.0","webvr-polyfill":"borismus/webvr-polyfill#3f47796"},devDependencies:{browserify:"^11.0.1","browserify-derequire":"^0.9.4",budo:"^8.1.0",chai:"^3.5.0","chai-shallow-deep-equal":"^1.3.0",exorcist:"^0.4.0","gh-pages":"^0.6.0",husky:"^0.10.1",karma:"^0.13.15","karma-browserify":"^4.4.0","karma-chai-shallow-deep-equal":"0.0.4","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^0.1.6","karma-mocha":"^0.2.0","karma-mocha-reporter":"^1.1.0","karma-sinon-chai":"^1.1.0",lolex:"^1.4.0",mkdirp:"0.5.1",mocha:"^2.3.3","mozilla-download":"^1.0.5",open:"0.0.5",replace:"^0.3.0",rimraf:"2.5.0",semistandard:"^7.0.2",sinon:"^1.17.3","sinon-chai":"^2.8.0",snazzy:"^3.0.0",uglifyjs:"^2.4.10"},link:!0,browserify:{transform:["browserify-css",["polymerize",{match:".*.html$"}]]},semistandard:{ignore:["build/**","dist/**","examples/_js/**","examples/**/shaders/*.js","vendor/**"]},keywords:["aframe","vr","webvr","3d","three","components","elements"],"browserify-css":{minify:!0},engines:{node:">= 0.12.7",npm:"^2.12.1"}}},{}],25:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../lib/three");t.exports.Component=n("camera",{schema:{active:{"default":!0},far:{"default":1e4},fov:{"default":80,min:0},near:{"default":.5,min:0}},init:function(){var e=this.camera=new i.PerspectiveCamera;this.el.setObject3D("camera",e)},remove:function(){this.el.removeObject3D("camera")},update:function(e){var t=this.el,r=this.data,n=this.camera,i=this.system;n.aspect=r.aspect||window.innerWidth/window.innerHeight,n.far=r.far,n.fov=r.fov,n.near=r.near,n.updateProjectionMatrix(),e&&e.active===r.active||(r.active&&i.activeCameraEl!==this.el?i.setActiveCamera(t,n):r.active||i.activeCameraEl!==this.el||i.disableActiveCamera())}})},{"../core/component":56,"../lib/three":90}],26:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../lib/three"),o=new i.ColladaLoader;o.options.convertUpAxis=!0,t.exports.Component=n("collada-model",{schema:{type:"src"},init:function(){this.model=null},update:function(){var e=this,t=this.el,r=this.data;r&&(this.remove(),o.load(r,function(r){e.model=r.scene,t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"collada",model:e.model})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":56,"../lib/three":90}],27:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../utils/");t.exports.Component=n("cursor",{schema:{timeout:{"default":1500,min:0},maxDistance:{"default":5,min:0},fuse:{"default":!1}},dependencies:["raycaster"],init:function(){this.raycaster=this.el.components.raycaster,this.schema.fuse["default"]=i.isMobile(),this.attachEventListeners()},attachEventListeners:function(){var e=this.el,t=e.sceneEl.canvas;return t?(t.addEventListener("mousedown",this.onMouseDown.bind(this)),t.addEventListener("mouseup",this.onMouseUp.bind(this)),e.addEventListener("intersection",this.onIntersection.bind(this)),void e.addEventListener("intersectioncleared",this.onIntersectionCleared.bind(this))):void e.sceneEl.addEventListener("render-target-loaded",this.attachEventListeners.bind(this))},onMouseDown:function(e){this.emit("mousedown"),this.mouseDownEl=this.intersectedEl},onMouseUp:function(){this.emit("mouseup"),this.data.fuse||this.intersectedEl&&this.mouseDownEl===this.intersectedEl&&this.emit("click")},emit:function(e){var t=this.intersectedEl;this.el.emit(e,{target:this.intersectedEl}),t&&t.emit(e)},emitter:function(e){return function(){this.emit(e)}.bind(this)},onIntersection:function(e){function t(){r.el.removeState("fusing"),r.emit("click")}var r=this,n=this.data,i=e.detail.el,o=e.detail.distance;this.intersectedEl!==i&&(o>=this.data.maxDistance||(this.intersectedEl=i,i.addState("hovered"),i.emit("mouseenter"),this.el.addState("hovering"),0!==n.timeout&&n.fuse&&(this.el.addState("fusing"),this.fuseTimeout=setTimeout(t,n.timeout))))},onIntersectionCleared:function(e){var t=e.detail.el;t&&this.intersectedEl&&(t.removeState("hovered"),t.emit("mouseleave"),this.el.removeState("hovering"),this.el.removeState("fusing"),this.intersectedEl=null,clearTimeout(this.fuseTimeout))}})},{"../core/component":56,"../utils/":102}],28:[function(e,t,r){function n(e,t){switch("cube"===e.primitive&&p('geometry.primitive="cube" should be "box"'),e.primitive){case"box":return new s.BoxGeometry(e.width,e.height,e.depth);case"circle":return new s.CircleGeometry(e.radius,e.segments,h(e.thetaStart),h(e.thetaLength));case"cone":return new s.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,h(e.thetaStart),h(e.thetaLength));case"cylinder":return new s.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,h(e.thetaStart),h(e.thetaLength));case"plane":return new s.PlaneBufferGeometry(e.width,e.height);case"ring":return new s.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,h(e.thetaStart),h(e.thetaLength));case"sphere":return 360===e.thetaLength&&(e.thetaLength=180),new s.SphereBufferGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,h(e.phiStart),h(e.phiLength),h(e.thetaStart),h(e.thetaLength));case"torus":return new s.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,h(e.arc));case"torusKnot":return new s.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,e.p,e.q,e.scaleHeight);default:return p("Primitive type not supported: "+e.primitive),new s.Geometry}}function i(e,t,r){var n=l.makeTranslation(t.x-r.x,t.y-r.y,t.z-r.z);e.applyMatrix(n),e.verticesNeedsUpdate=!0}var o=e("../utils/debug"),a=e("../core/component").registerComponent,s=e("../lib/three"),u=e("../utils"),c=1,l=new s.Matrix4,h=s.Math.degToRad,p=o("components:geometry:warn");t.exports.Component=a("geometry",{schema:{arc:{"default":360,"if":{primitive:["torus"]}},depth:{"default":1,min:0,"if":{primitive:["box"]}},height:{"default":1,min:0,"if":{primitive:["box","plane"]}},openEnded:{"default":!1,"if":{primitive:["cylinder"]}},p:{"default":2,"if":{primitive:["torusKnot"]},type:"int"},primitive:{"default":"",oneOf:["","box","circle","cylinder","plane","ring","sphere","torus","torusKnot"]},q:{"default":3,"if":{primitive:["torusKnot"]},type:"int"},phiLength:{"default":360,"if":{primitive:["sphere"]}},phiStart:{"default":0,min:0,"if":{primitive:["sphere"]}},radius:{"default":c,min:0,"if":{primitive:["circle","cylinder","sphere","torus","torusKnot"]}},radiusBottom:{"default":c,min:0,"if":{primitive:["cylinder"]}},radiusInner:{"default":.8,min:0,"if":{primitive:["ring"]}},radiusOuter:{"default":1.2,min:0,"if":{primitive:["ring"]}},radiusTop:{"default":c,"if":{primitive:["cylinder"]}},radiusTubular:{"default":.2,min:0,"if":{primitive:["torus"]}},scaleHeight:{"default":1,min:0,"if":{primitive:["torusKnot"]}},segments:{"default":32,min:0,"if":{primitive:["circle"]},type:"int"},segmentsHeight:{"default":18,min:0,"if":{primitive:["cylinder","sphere"]},type:"int"},segmentsPhi:{"default":8,min:0,"if":{primitive:["ring"]},type:"int"},segmentsRadial:{"default":36,min:0,"if":{primitive:["cylinder"]},type:"int"},segmentsTheta:{"default":32,min:0,"if":{primitive:["ring"]},type:"int"},segmentsTubular:{"default":32,min:0,"if":{primitive:["torus","torusKnot"]},type:"int"},segmentsWidth:{"default":36,min:0,"if":{primitive:["sphere"]},type:"int"},thetaLength:{"default":360,min:0,"if":{primitive:["circle","cylinder","ring","sphere"]}},thetaStart:{"default":0,"if":{primitive:["circle","cylinder","ring","sphere"]}},translate:{type:"vec3"},width:{"default":1,min:0,"if":{primitive:["box","plane"]}}},update:function(e){e=e||{};var t=this.data,r=e.translate||this.schema.translate["default"],o=u.diff(e,t),a=this.el.getOrCreateObject3D("mesh",s.Mesh),c=a.geometry,l=!(1===Object.keys(o).length&&"translate"in o),h=!u.deepEqual(t.translate,r);l&&(c=a.geometry=n(this.data,this.schema)),h&&i(c,t.translate,r)},remove:function(){this.el.getObject3D("mesh").geometry=new s.Geometry}})},{"../core/component":56,"../lib/three":90,"../utils":102,"../utils/debug":101}],29:[function(e,t,r){e("./camera"),e("./collada-model"),e("./cursor"),e("./geometry"),e("./light"),e("./look-at"),e("./look-controls"),e("./material"),e("./obj-model"),e("./position"),e("./raycaster"),e("./rotation"),e("./scale"),e("./sound"),e("./visible"),e("./wasd-controls"),e("./scene/canvas"),e("./scene/fog"),e("./scene/keyboard-shortcuts"),e("./scene/stats"),e("./scene/vr-mode-ui"),e("./loader")},{"./camera":25,"./collada-model":26,"./cursor":27,"./geometry":28,"./light":30,"./loader":31,"./look-at":32,"./look-controls":33,"./material":34,"./obj-model":35,"./position":36,"./raycaster":37,"./rotation":38,"./scale":39,"./scene/canvas":40,"./scene/fog":41,"./scene/keyboard-shortcuts":42,"./scene/stats":43,"./scene/vr-mode-ui":44,"./sound":45,"./visible":46,"./wasd-controls":47}],30:[function(e,t,r){function n(e){var t=e.angle,r=new s.Color(e.color).getHex(),n=e.decay,i=e.distance,o=new s.Color(e.groundColor).getHex(),a=e.intensity,l=e.type;switch(l.toLowerCase()){case"ambient":return new s.AmbientLight(r);case"directional":return new s.DirectionalLight(r,a);case"hemisphere":return new s.HemisphereLight(r,o,a);case"point":return new s.PointLight(r,a,i,n);case"spot":return new s.SpotLight(r,a,i,u(t),e.exponent,n);default:c("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",l)}}var i=e("../utils").diff,o=e("../utils/debug"),a=e("../core/component").registerComponent,s=e("../lib/three"),u=s.Math.degToRad,c=o("components:light:warn");t.exports.Component=a("light",{schema:{angle:{"default":60,"if":{type:["spot"]}},color:{type:"color"},groundColor:{type:"color","if":{type:["hemisphere"]}},decay:{"default":1,"if":{type:["point","spot"]}},distance:{"default":0,min:0,"if":{type:["point","spot"]}},exponent:{"default":10,"if":{type:["spot"]}},intensity:{"default":1,min:0,"if":{type:["directional","hemisphere","point","spot"]}},type:{"default":"directional",oneOf:["ambient","directional","hemisphere","point","spot"]}},init:function(){var e=this.el;this.light=null,this.system.registerLight(e)},update:function(e){var t=this.data,r=i(t,e||{}),n=this.light;return!n||"type"in r?void this.setLight(this.data):void Object.keys(r).forEach(function(e){var r=t[e];-1!==["color","groundColor"].indexOf(e)&&(r=new s.Color(r)),n[e]=r})},setLight:function(e){var t=this.el,r=n(e);r&&(this.light&&t.removeObject3D("light"),this.light=r,this.light.el=t,t.setObject3D("light",this.light))},remove:function(){this.el.removeObject3D("light")}})},{"../core/component":56,"../lib/three":90,"../utils":102,"../utils/debug":101}],31:[function(e,t,r){var n=e("../utils/debug"),i=e("../core/component").registerComponent,o=e("../utils/src-loader").parseUrl,a=e("../lib/three"),s=n("components:loader:warn");t.exports.Component=i("loader",{dependencies:["material"],schema:{src:{"default":""},format:{"default":"obj",oneOf:["obj","collada"]}},init:function(){s("loader component is deprecated. Use collada-model or obj-model component instead.")},update:function(){var e=this.el,t=this.data,r=this.model,n=o(t.src),i=t.format;if(r&&e.removeObject3D("mesh"),!n)return void s("Model URL not provided");switch(i){case"obj":this.loadObj(n);break;case"collada":this.loadCollada(n);break;default:s("Model format not supported")}},loadObj:function(e){var t=this.el,r=new a.OBJLoader;r.load(e,function(e){this.model=e,this.applyMaterial(),t.setObject3D("mesh",e)})},applyMaterial:function(){var e=this.el.components.material.material;this.model&&this.model.traverse(function(t){t instanceof a.Mesh&&(t.material=e)})},loadCollada:function(e){var t=this,r=this.el,n=new a.ColladaLoader;n.options.convertUpAxis=!0,n.load(e,function(e){t.model=e.scene,r.setObject3D("mesh",e.scene)})}})},{"../core/component":56,"../lib/three":90,"../utils/debug":101,"../utils/src-loader":103}],32:[function(e,t,r){var n=e("../utils/debug"),i=e("../utils/coordinates"),o=e("../core/component").registerComponent,a=e("../lib/three"),s=n("components:look-at:warn"),u=i.isCoordinate;t.exports.Component=o("look-at",{schema:{"default":"",parse:function(e){return u(e)||"object"==typeof e?i.parse(e):e},stringify:function(e){return"object"==typeof e?i.stringify(e):e}},init:function(){this.target3D=null,this.vector=new a.Vector3},update:function(){var e,t=this,r=t.data,n=t.el.object3D;return!r||"object"==typeof r&&!Object.keys(r).length?t.remove():"object"==typeof r?n.lookAt(new a.Vector3(r.x,r.y,r.z)):(e=t.el.sceneEl.querySelector(r),e?e.hasLoaded?t.beginTracking(e):e.addEventListener("loaded",function(){t.beginTracking(e)}):void s('"'+r+'" does not point to a valid entity to look-at'))},tick:function(e){var t=this.target3D;return t?this.el.object3D.lookAt(this.vector.setFromMatrixPosition(t.matrixWorld)):void 0},beginTracking:function(e){this.target3D=e.object3D}})},{"../core/component":56,"../lib/three":90,"../utils/coordinates":100,"../utils/debug":101}],33:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../lib/three"),o=Math.PI/2;t.exports.Component=n("look-controls",{dependencies:["position","rotation"],schema:{enabled:{"default":!0}},init:function(){this.previousPosition=new i.Vector3,this.deltaPosition=new i.Vector3,this.setupMouseControls(),this.setupHMDControls(),this.bindMethods()},update:function(){this.data.enabled&&(this.controls.update(),this.updateOrientation(),this.updatePosition())},play:function(){this.previousPosition.set(0,0,0),this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(e){this.update()},remove:function(){this.pause()},bindMethods:function(){this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.releaseMouse=this.releaseMouse.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new i.Object3D,this.yawObject=new i.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},setupHMDControls:function(){this.dolly=new i.Object3D,this.euler=new i.Euler,this.controls=new i.VRControls(this.dolly),this.zeroQuaternion=new i.Quaternion},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;return t?(t.addEventListener("mousedown",this.onMouseDown,!1),t.addEventListener("mousemove",this.onMouseMove,!1),t.addEventListener("mouseup",this.releaseMouse,!1),t.addEventListener("mouseout",this.releaseMouse,!1),t.addEventListener("touchstart",this.onTouchStart),t.addEventListener("touchmove",this.onTouchMove),void t.addEventListener("touchend",this.onTouchEnd)):void e.addEventListener("render-target-loaded",this.addEventListeners.bind(this))},removeEventListeners:function(){var e=document.querySelector("a-scene"),t=e&&e.canvas;t&&(t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mouseup",this.releaseMouse),t.removeEventListener("mouseout",this.releaseMouse),t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd))},updateOrientation:function(){var e=new i.Euler;return e.order="YXZ",function(){var t=this.pitchObject,r=this.yawObject,n=this.calculateHMDQuaternion();e.setFromQuaternion(n),this.el.setAttribute("rotation",{x:i.Math.radToDeg(e.x)+i.Math.radToDeg(t.rotation.x),y:i.Math.radToDeg(e.y)+i.Math.radToDeg(r.rotation.y),z:i.Math.radToDeg(e.z)})}}(),calculateHMDQuaternion:function(){var e=new i.Quaternion;return function(){var t=this.dolly;return this.zeroed||t.quaternion.equals(this.zeroQuaternion)||(this.zeroOrientation(),this.zeroed=!0),e.copy(this.zeroQuaternion).multiply(t.quaternion),e}}(),updatePosition:function(){var e=this.el,t=this.calculateDeltaPosition(),r=e.getComputedAttribute("position");e.setAttribute("position",{x:r.x+t.x,y:r.y+t.y,z:r.z+t.z})},calculateDeltaPosition:function(){var e=this.dolly,t=this.deltaPosition,r=this.previousPosition;return t.copy(e.position),t.sub(r),r.copy(e.position),t},updateHMDQuaternion:function(){var e=new i.Quaternion;return function(){var t=this.dolly;return this.controls.update(),this.zeroed||t.quaternion.equals(this.zeroQuaternion)||(this.zeroOrientation(),this.zeroed=!0),e.copy(this.zeroQuaternion).multiply(t.quaternion),e}}(),zeroOrientation:function(){var e=new i.Euler;e.setFromQuaternion(this.dolly.quaternion.clone().inverse()),e.z=0,e.x=0,this.zeroQuaternion.setFromEuler(e)},onMouseMove:function(e){var t=this.pitchObject,r=this.yawObject,n=this.previousMouseEvent;if(this.mouseDown&&this.data.enabled){var i=e.movementX||e.mozMovementX,a=e.movementY||e.mozMovementY;(void 0===i||void 0===a)&&(i=e.screenX-n.screenX,a=e.screenY-n.screenY),this.previousMouseEvent=e,r.rotation.y-=.002*i,t.rotation.x-=.002*a,t.rotation.x=Math.max(-o,Math.min(o,t.rotation.x))}},onMouseDown:function(e){this.mouseDown=!0,this.previousMouseEvent=e},releaseMouse:function(){this.mouseDown=!1},onTouchStart:function(e){1===e.touches.length&&(this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(e){var t,r=this.yawObject;this.touchStarted&&(t=2*Math.PI*(e.touches[0].pageX-this.touchStart.x)/this.el.sceneEl.canvas.clientWidth,r.rotation.y-=.5*t,this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1}})},{"../core/component":56,"../lib/three":90}],34:[function(e,t,r){function n(e){switch(e){case"back":return s.BackSide;case"double":return s.DoubleSide;default:return s.FrontSide}}var i=e("../utils/debug"),o=e("../utils"),a=e("../core/component"),s=e("../lib/three"),u=e("../core/shader"),c=i("components:material:error"),l=o.diff,h=a.registerComponent,p=u.shaders,d=u.shaderNames;t.exports.Component=h("material",{schema:{shader:{"default":"standard",oneOf:d},transparent:{"default":!1},opacity:{"default":1,min:0,max:1},side:{"default":"front",oneOf:["front","back","double"]},depthTest:{"default":!0}},init:function(){this.material=null},update:function(e){var t=this.data,r=e?l(e,t):t;(!this.shader||r.shader)&&this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial()},updateSchema:function(e){var t=e.shader,r=this.data&&this.data.shader,n=t||r,i=p[n]&&p[n].schema;i||c("Unknown shader schema "+n),r&&t===r||(this.extendSchema(i),this.updateBehavior())},updateBehavior:function(){var e=this.el.sceneEl,t=this.schema,r=this,n={},i=function(e,t){function i(t){n[t]=e}var o=Object.keys(n);o.forEach(i),r.shader.update(n)},o=Object.keys(t);o.forEach(function(o){"time"===t[o].type&&(r.tick=i,n[o]=!0,e.addBehavior(r))}),0===Object.keys(n).length&&e.removeBehavior(this)},updateShader:function(e){var t,r=this.data,n=p[e]&&p[e].Shader;if(!n)throw new Error("Unknown shader "+e);this.shader=new n,this.shader.el=this.el,t=this.shader.init(r),this.setMaterial(t),this.updateSchema(r)},updateMaterial:function(){var e=this.data,t=this.material;t.side=n(e.side),t.opacity=e.opacity,t.transparent=e.transparent!==!1||e.opacity<1,t.depthTest=e.depthTest!==!1},remove:function(){var e=new s.MeshBasicMaterial,t=this.el.getObject3D("mesh");t&&(t.material=e),this.system.unregisterMaterial(this.material)},setMaterial:function(e){var t=this.el.getOrCreateObject3D("mesh",s.Mesh),r=this.system;this.material&&r.unregisterMaterial(this.material),this.material=t.material=e,r.registerMaterial(e)}})},{"../core/component":56,"../core/shader":63,"../lib/three":90,"../utils":102,"../utils/debug":101}],35:[function(e,t,r){var n=e("../utils/debug"),i=e("../core/component").registerComponent,o=e("../lib/three"),a=n("components:obj-model:warn");t.exports.Component=i("obj-model",{dependencies:["material"],schema:{mtl:{type:"src"},obj:{type:"src"}},init:function(){this.model=null,this.objLoader=new o.OBJLoader,this.mtlLoader=new o.MTLLoader(this.objLoader.manager)},update:function(){var e=this.data;e.obj&&(this.remove(),this.loadObj(e.obj,e.mtl))},remove:function(){this.model&&this.el.removeObject3D("mesh")},loadObj:function(e,t){var r=this,n=this.el,i=this.mtlLoader,s=this.objLoader;return t?(HTMLElement.prototype.getAttribute.call(n,"material")&&a("Material component properties are ignored when a .MTL is provided"),i.setBaseUrl(t.substr(0,t.lastIndexOf("/")+1)),void i.load(t,function(t){t.preload(),s.setMaterials(t),s.load(e,function(e){r.model=e,n.setObject3D("mesh",e),n.emit("model-loaded",{format:"obj",model:e})})})):void s.load(e,function(e){var t=n.components.material.material;e.traverse(function(e){e instanceof o.Mesh&&(e.material=t)}),r.model=e,n.setObject3D("mesh",e),n.emit("model-loaded",{format:"obj",model:e})})}})},{"../core/component":56,"../lib/three":90,"../utils/debug":101}],36:[function(e,t,r){var n=e("../core/component").registerComponent;t.exports.Component=n("position",{schema:{type:"vec3"},update:function(){var e=this.el.object3D,t=this.data;e.position.set(t.x,t.y,t.z)}})},{"../core/component":56}],37:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("request-interval"),o=e("../lib/three");t.exports.Component=n("raycaster",{init:function(){this.raycaster=new o.Raycaster,this.intersectedEl=null},play:function(){this.pollForHoverIntersections()},pause:function(){var e=this.pollInterval;e&&i.clear(this.pollInterval)},remove:function(){this.pause()},pollForHoverIntersections:function(){this.pollInterval=i(100,this.getIntersections.bind(this))},getIntersections:function(){var e=this.getClosestIntersected();return e?void this.handleIntersection(e):void(this.intersectedEl&&this.clearExistingIntersection())},intersect:function(e){var t=this.el,r=this.raycaster,n=t.object3D,i=t.parentNode.object3D,a=(new o.Vector3).setFromMatrixPosition(i.matrixWorld),s=(new o.Vector3).setFromMatrixPosition(n.matrixWorld),u=s.sub(a).normalize();return r.set(a,u),r.intersectObjects(e,!0)},getClosestIntersected:function(){for(var e,t=this.el.sceneEl.object3D,r=this.el,n=this.intersect(t.children),i=0;i<n.length;++i){for(e=n[i];e.object.parent&&void 0===e.object.el;)e.object=e.object.parent;if(void 0!==e.object.el&&e.object.el!==r&&e.object.visible)return e}return null},setExistingIntersection:function(e,t){this.intersectedEl=e,this.el.emit("intersection",{el:e,distance:t})},clearExistingIntersection:function(){var e=this.intersectedEl;this.el.emit("intersectioncleared",{el:e}),this.intersectedEl=null},handleIntersection:function(e){var t=e.object.el;this.intersectedEl!==t&&this.clearExistingIntersection(),this.setExistingIntersection(t,e.distance)}})},{"../core/component":56,"../lib/three":90,"request-interval":12}],38:[function(e,t,r){var n=e("../lib/three").Math.degToRad,i=e("../core/component").registerComponent;t.exports.Component=i("rotation",{schema:{type:"vec3"},update:function(){var e=this.data,t=this.el.object3D;t.rotation.set(n(e.x),n(e.y),n(e.z)),t.rotation.order="YXZ"}})},{"../core/component":56,"../lib/three":90}],39:[function(e,t,r){var n=e("../core/component").registerComponent,i=1e-5;t.exports.Component=n("scale",{schema:{type:"vec3","default":{x:1,y:1,z:1}},update:function(){var e=this.data,t=this.el.object3D,r=0===e.x?i:e.x,n=0===e.y?i:e.y,o=0===e.z?i:e.z;t.scale.set(r,n,o)}})},{"../core/component":56}],40:[function(e,t,r){var n=e("../../core/component").registerComponent;t.exports.Component=n("canvas",{schema:{canvas:{type:"selector","default":void 0},height:{"default":100},width:{"default":100}},update:function(){var e=this.data,t=e.canvas,r=this.el;r.canvas||(t||(t=document.createElement("canvas"),t.classList.add("a-canvas"),t.style.height=e.height+"%",t.style.width=e.width+"%",r.appendChild(t)),t.addEventListener("touchmove",function(e){e.preventDefault()}),r.canvas=t,r.emit("render-target-loaded",{target:t}))}})},{"../../core/component":56}],41:[function(e,t,r){function n(e){var t;return t="exponential"===e.type?new o.FogExp2(e.color,e.density):new o.Fog(e.color,e.near,e.far),t.name=e.type,t}var i=e("../../core/component").registerComponent,o=e("../../lib/three"),a=e("../../utils/debug"),s=a("components:fog:warn");t.exports.Component=i("fog",{schema:{color:{"default":"#000"},density:{"default":25e-5},far:{"default":1e3,min:0},near:{"default":1,min:0},type:{"default":"linear",oneOf:["linear","exponential"]}},update:function(){var e=this.data,t=this.el,r=this.el.object3D.fog;return t.isScene?r&&e.type===r.name?void Object.keys(this.schema).forEach(function(t){var n=e[t];"color"===t&&(n=new o.Color(n)),r[t]=n}):(t.object3D.fog=n(e),void t.systems.material.updateMaterials()):void s("Fog component can only be applied to <a-scene>")},remove:function(){var e=this.el.object3D.fog;e&&(e.density=0,e.far=0,e.near=0)}})},{"../../core/component":56,"../../lib/three":90,"../../utils/debug":101}],42:[function(e,t,r){var n=e("../../core/component").registerComponent,i=e("../../utils/").shouldCaptureKeyEvent,o=e("../../lib/three"),a=new o.VRControls(new o.Object3D);t.exports.Component=n("keyboard-shortcuts",{schema:{enterVR:{"default":!0},resetSensor:{"default":!0}},init:function(){var e=this,t=this.el;this.listener=window.addEventListener("keyup",function(r){i(r)&&(e.enterVREnabled&&70===r.keyCode&&t.enterVR(),e.resetSensorEnabled&&90===r.keyCode&&a.resetSensor())},!1)},update:function(e){var t=this.data;this.enterVREnabled=t.enterVR,this.resetSensorEnabled=t.resetSensor},remove:function(){window.removeEventListener("keyup",this.listener)}})},{"../../core/component":56,"../../lib/three":90,"../../utils/":102}],43:[function(e,t,r){function n(e){var t=new s(e.renderer),r=new u(e),n=e.isMobile?[]:[t,r];return new o({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:n})}var i=e("../../core/component").registerComponent,o=e("../../../vendor/rStats");e("../../../vendor/rStats.extras"),e("../../lib/rStatsAframe");var a="a-hidden",s=window.threeStats,u=window.aframeStats;t.exports.Component=i("stats",{init:function(){var e=this.el;this.stats=n(e),this.statsEl=document.querySelector(".rs-base"),this.hideBound=this.hide.bind(this),this.showBound=this.show.bind(this),e.addEventListener("enter-vr",this.hideBound),e.addEventListener("exit-vr",this.showBound)},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var e=this.stats;e("rAF").tick(),e("FPS").frame(),e().update()},hide:function(){this.statsEl.classList.add(a)},show:function(){this.statsEl.classList.remove(a)}})},{"../../../vendor/rStats":107,"../../../vendor/rStats.extras":106,"../../core/component":56,"../../lib/rStatsAframe":89}],44:[function(e,t,r){function n(e,t){function r(){return c.update(),a=u.quaternion,0!==a._x||0!==a._y||0!==a._z?!0:void 0}var n,i,o,a,s,m,v=t||window.hasNonPolyfillWebVRSupport;return m=document.createElement("div"),m.classList.add(l),n=document.createElement("div"),n.className=f,o=document.createElement("p"),i=document.createElement("a"),i.setAttribute("href","http://mozvr.com/#start"),i.setAttribute("target","_blank"),i.innerHTML="Learn more.",s=document.createElement("button"),s.className=d,m.appendChild(s),n&&(n.appendChild(o),n.appendChild(i),m.appendChild(n)),r()||t||(o.innerHTML="Your browser supports WebVR. To enter VR, connect a headset, or use a mobile phone.",m.setAttribute(h,"")),v?s.addEventListener("click",e):(o.innerHTML="Your browser does not support WebVR. To enter VR, use a VR-compatible browser or a mobile phone.",m.setAttribute(p,"")),m}function i(e){var t=document.createElement("div");t.className=v,t.classList.add(m);var r=document.createElement("button");return r.innerHTML="Exit VR",r.addEventListener("click",e),t.appendChild(r),t}var o=e("../../core/component").registerComponent,a=e("../../lib/three"),s=e("../../utils/"),u=new a.Object3D,c=new a.VRControls(u),l="a-enter-vr",h="data-a-enter-vr-no-headset",p="data-a-enter-vr-no-webvr",d="a-enter-vr-button",f="a-enter-vr-modal",m="a-hidden",v="a-orientation-modal";t.exports.Component=o("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{"default":!0}},init:function(){var e=this,t=this.el;this.enterVR=t.enterVR.bind(t),this.exitVR=t.exitVR.bind(t),this.insideLoader=!1,this.enterVREl=null,this.orientationModalEl=null,t.addEventListener("enter-vr",this.updateEnterVRInterface.bind(this)),t.addEventListener("exit-vr",this.updateEnterVRInterface.bind(this)),window.addEventListener("message",function(t){"loaderReady"===t.data.type&&(e.insideLoader=!0,e.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded.bind(this))},update:function(){var e=this.el;return!this.data.enabled||this.insideLoader?this.remove():void(this.enterVREl||this.orientationModalEl||(this.enterVREl=n(this.enterVR,e.isMobile),this.el.appendChild(this.enterVREl),this.orientationModalEl=i(this.exitVR),this.el.appendChild(this.orientationModalEl),this.updateEnterVRInterface()))},remove:function(){[this.enterVREl,this.orientationModalEl].forEach(function(e){e&&e.parentNode.removeChild(e)})},updateEnterVRInterface:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){if(this.enterVREl){var e=this.el;e.is("vr-mode")?this.enterVREl.classList.add(m):this.enterVREl.classList.remove(m)}},toggleOrientationModalIfNeeded:function(){var e=this.el;this.orientationModalEl&&e.isMobile&&(!s.isLandscape()&&e.is("vr-mode")?this.orientationModalEl.classList.remove(m):this.orientationModalEl.classList.add(m))}})},{"../../core/component":56,"../../lib/three":90,"../../utils/":102}],45:[function(e,t,r){var n=e("../utils/debug"),i=e("../utils").diff,o=e("../core/component").registerComponent,a=e("../lib/three"),s=n("components:sound:warn");t.exports.Component=o("sound",{schema:{src:{"default":""},on:{"default":"click"},autoplay:{"default":!1},loop:{"default":!1},volume:{"default":1}},init:function(){this.listener=null,this.sound=null},update:function(e){var t=this.data,r=i(e||{},t),n=this.el,o=this.sound,a=t.src,u="src"in r;if(u){if(!a)return void s("Audio source was not specified with `src`");o=this.setupSound()}(u||"autoplay"in r)&&(o.autoplay=t.autoplay),(u||"loop"in r)&&o.setLoop(t.loop),(u||"volume"in r)&&o.setVolume(t.volume),
"on"in r&&(e&&e.on&&n.removeEventListener(e.on),n.addEventListener(t.on,this.play.bind(this))),u&&o.load(a)},remove:function(){this.el.removeObject3D("sound"),this.sound.disconnect()},setupSound:function(){var e=this.el,t=e.sceneEl,r=this.sound;r&&(this.stop(),e.removeObject3D("sound"));var n=this.listener=t.audioListener||new a.AudioListener;return t.audioListener=n,t.camera&&t.camera.add(n),t.addEventListener("camera-set-active",function(e){e.detail.cameraEl.getObject3D("camera").add(n)}),r=this.sound=new a.PositionalAudio(n),e.setObject3D("sound",r),r.source.onended=function(){r.onEnded(),e.emit("sound-ended")},r},play:function(){this.sound.source.buffer&&this.sound.play()},stop:function(){this.sound.source.buffer&&this.sound.stop()},pause:function(){this.sound.source.buffer&&this.sound.isPlaying&&this.sound.pause()}})},{"../core/component":56,"../lib/three":90,"../utils":102,"../utils/debug":101}],46:[function(e,t,r){var n=e("../core/component").registerComponent;t.exports.Component=n("visible",{schema:{type:"boolean","default":!0},update:function(){this.el.object3D.visible=this.data}})},{"../core/component":56}],47:[function(e,t,r){var n=e("../core/component").registerComponent,i=e("../utils/").shouldCaptureKeyEvent,o=e("../lib/three"),a=.2;t.exports.Component=n("wasd-controls",{schema:{easing:{"default":20},acceleration:{"default":65},enabled:{"default":!0},fly:{"default":!1},wsAxis:{"default":"z",oneOf:["x","y","z"]},adAxis:{"default":"x",oneOf:["x","y","z"]},wsInverted:{"default":!1},wsEnabled:{"default":!0},adInverted:{"default":!1},adEnabled:{"default":!0}},init:function(){this.velocity=new o.Vector3,this.keys={},this.onBlur=this.onBlur.bind(this),this.onFocus=this.onFocus.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.attachVisibilityEventListeners()},update:function(e){var t,r=this.data,n=r.acceleration,i=r.easing,o=this.velocity,s=this.prevTime=this.prevTime||Date.now(),u=window.performance.now(),c=(u-s)/1e3,l=this.keys,h=r.adAxis,p=r.wsAxis,d=r.adInverted?-1:1,f=r.wsInverted?-1:1,m=this.el;if(this.prevTime=u,e||c>a)return o[h]=0,void(o[p]=0);o[h]-=o[h]*i*c,o[p]-=o[p]*i*c;var v=m.getComputedAttribute("position");r.enabled&&(r.adEnabled&&(l[65]&&(o[h]-=d*n*c),l[68]&&(o[h]+=d*n*c)),r.wsEnabled&&(l[87]&&(o[p]-=f*n*c),l[83]&&(o[p]+=f*n*c))),t=this.getMovementVector(c),m.object3D.translateX(t.x),m.object3D.translateY(t.y),m.object3D.translateZ(t.z),m.setAttribute("position",{x:v.x+t.x,y:v.y+t.y,z:v.z+t.z})},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},tick:function(e){this.update()},remove:function(){this.pause(),this.removeVisibilityEventListeners()},attachVisibilityEventListeners:function(){window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){i(e)&&(this.keys[e.keyCode]=!0)},onKeyUp:function(e){i(e)&&(this.keys[e.keyCode]=!1)},getMovementVector:function(e){var t=new o.Vector3(0,0,0),r=new o.Euler(0,0,0,"YXZ");return function(e){var n=this.velocity,i=this.el.getAttribute("rotation");return t.copy(n),t.multiplyScalar(e),i?(this.data.fly||(i.x=0),r.set(o.Math.degToRad(i.x),o.Math.degToRad(i.y),0),t.applyEuler(r),t):t}}()})},{"../core/component":56,"../lib/three":90,"../utils/":102}],48:[function(e,t,r){var n=e("tween.js"),i={alternate:"alternate",alternateReverse:"alternate-reverse",normal:"normal",reverse:"reverse"},o={linear:n.Easing.Linear.None,ease:n.Easing.Cubic.InOut,"ease-in":n.Easing.Cubic.In,"ease-out":n.Easing.Cubic.Out,"ease-in-out":n.Easing.Cubic.InOut,"ease-cubic":n.Easing.Cubic.In,"ease-in-cubic":n.Easing.Cubic.In,"ease-out-cubic":n.Easing.Cubic.Out,"ease-in-out-cubic":n.Easing.Cubic.InOut,"ease-quad":n.Easing.Quadratic.InOut,"ease-in-quad":n.Easing.Quadratic.In,"ease-out-quad":n.Easing.Quadratic.Out,"ease-in-out-quad":n.Easing.Quadratic.InOut,"ease-quart":n.Easing.Quartic.InOut,"ease-in-quart":n.Easing.Quartic.In,"ease-out-quart":n.Easing.Quartic.Out,"ease-in-out-quart":n.Easing.Quartic.InOut,"ease-quint":n.Easing.Quintic.InOut,"ease-in-quint":n.Easing.Quintic.In,"ease-out-quint":n.Easing.Quintic.Out,"ease-in-out-quint":n.Easing.Quintic.InOut,"ease-sine":n.Easing.Sinusoidal.InOut,"ease-in-sine":n.Easing.Sinusoidal.In,"ease-out-sine":n.Easing.Sinusoidal.Out,"ease-in-out-sine":n.Easing.Sinusoidal.InOut,"ease-expo":n.Easing.Exponential.InOut,"ease-in-expo":n.Easing.Exponential.In,"ease-out-expo":n.Easing.Exponential.Out,"ease-in-out-expo":n.Easing.Exponential.InOut,"ease-circ":n.Easing.Circular.InOut,"ease-in-circ":n.Easing.Circular.In,"ease-out-circ":n.Easing.Circular.Out,"ease-in-out-circ":n.Easing.Circular.InOut,"ease-elastic":n.Easing.Elastic.InOut,"ease-in-elastic":n.Easing.Elastic.In,"ease-out-elastic":n.Easing.Elastic.Out,"ease-in-out-elastic":n.Easing.Elastic.InOut,"ease-back":n.Easing.Back.InOut,"ease-in-back":n.Easing.Back.In,"ease-out-back":n.Easing.Back.Out,"ease-in-out-back":n.Easing.Back.InOut,"ease-bounce":n.Easing.Bounce.InOut,"ease-in-bounce":n.Easing.Bounce.In,"ease-out-bounce":n.Easing.Bounce.Out,"ease-in-out-bounce":n.Easing.Bounce.InOut},a={backwards:"backwards",both:"both",forwards:"forwards",none:"none"},s={indefinite:"indefinite"},u={attribute:"rotation",begin:"0",dur:1e3,easing:"ease",direction:i.normal,fill:a.forwards,from:void 0,repeat:0,to:void 0};t.exports.defaults=u,t.exports.directions=i,t.exports.easingFunctions=o,t.exports.fills=a,t.exports.repeats=s},{"tween.js":22}],49:[function(e,t,r){function n(e){return d.extend({},e)}function i(e,t,r,n,i){function s(){v=y[0],m=y[1],f=e.components[v],f||(e.setAttribute(v,""),f=e.components[v]),d=f.schema,void 0===r?_[t]=e.getComputedAttribute(v)[m]:_[t]=r,_[t]=l(_[t],d[m]),x[t]=l(n,d[m]),g=function(r){t in r&&e.setAttribute(v,m,r[t])}}function u(){_=r?c.parse(r):i,x=c.parse(n),g=function(r){e.setAttribute(t,r)}}function h(){void 0===r?_[t]=!1:_[t]=o(r),_[t]=a(_[t]),x[t]=a(o(n)),g=function(r){e.setAttribute(t,!!r[t])}}function p(){void 0===r?_[t]=parseFloat(e.getAttribute(t)):_[t]=parseFloat(r),x[t]=parseFloat(n),g=function(r){e.setAttribute(t,r[t])}}var d,f,m,v,g,y=t.split("."),_={},x={};return 2===y.length?s():n&&b(n)?u():-1!==["true","false"].indexOf(n)?h():p(),{from:_,partialSetAttribute:g,to:x}}function o(e){return"true"===e?!0:!1}function a(e){return e?1:0}var s=e("./a-node"),u=e("../constants/animation"),c=e("../utils/").coordinates,l=e("./schema").parseProperty,h=e("./a-register-element").registerElement,p=e("tween.js"),d=e("../utils/"),f=u.defaults,m=u.directions,v=u.easingFunctions,g=u.fills,y=u.repeats,b=c.isCoordinate;t.exports.AAnimation=h("a-animation",{prototype:Object.create(s.prototype,{createdCallback:{value:function(){this.bindMethods(),this.isRunning=!1,this.partialSetAttribute=function(){},this.tween=null}},attachedCallback:{value:function(){function e(){t.applyMixin(),t.update(),t.load()}var t=this,r=t.el=t.parentNode;r.isNode?r.hasLoaded?e():r.addEventListener("loaded",e.bind(t)):r.addEventListener("nodeready",e.bind(t))}},attributeChangedCallback:{value:function(e,t,r){this.hasLoaded&&this.isRunning&&(this.stop(),this.applyMixin(),this.update())}},detachedCallback:{value:function(){this.isRunning&&this.stop()}},getTween:{value:function(){var e,t,r,o,a=this,s=a.data,u=a.el,c=s.attribute,l=parseInt(s.begin,10),h=u.getComputedAttribute(c),d=a.getDirection(s.direction),f=v[s.easing],b=s.fill,_=s.repeat===y.indefinite?1/0:0,x=!1;return e=i(u,c,s.from||a.initialValue,s.to,h),t=e.from,r=e.to,a.partialSetAttribute=e.partialSetAttribute,void 0===a.count&&(a.count=_===1/0?0:parseInt(s.repeat,10)),isNaN(l)&&(l=0),a.initialValue=a.initialValue||n(h),_===1/0&&b===g.forwards&&-1!==[m.alternate,m.alternateReverse].indexOf(s.direction)&&(x=!0),d===m.reverse&&(o=r,r=n(t),t=n(o)),-1!==[g.backwards,g.both].indexOf(b)&&a.partialSetAttribute(t),new p.Tween(n(t)).to(r,s.dur).delay(l).easing(f).repeat(_).yoyo(x).onUpdate(function(){a.partialSetAttribute(this)}).onComplete(a.onCompleted.bind(a))}},update:{value:function(){var e=this.data,t=e.begin;this.removeEventListeners(this.evt),this.addEventListeners(t),this.evt=t,isNaN(t)||(this.stop(),this.start())},writable:window.debug},onCompleted:{value:function(){var e=this.data;return this.isRunning=!1,-1!==[g.backwards,g.none].indexOf(e.fill)&&this.partialSetAttribute(this.initialValue),0===this.count?(this.count=void 0,void this.emit("animationend")):(this.isRunning=!1,this.count--,void this.start())}},start:{value:function(){!this.isRunning&&this.el.isPlaying&&(this.tween=this.getTween(),this.isRunning=!0,this.tween.start(),this.emit("animationstart"))},writable:!0},stop:{value:function(){var e=this.tween;e&&(e.stop(),this.isRunning=!1,-1!==[g.backwards,g.none].indexOf(this.data.fill)&&this.partialSetAttribute(this.initialValue),this.emit("animationstop"))},writable:!0},getDirection:{value:function(e){return e===m.alternate?(this.prevDirection=this.prevDirection===m.normal?m.reverse:m.normal,this.prevDirection):e===m.alternateReverse?(this.prevDirection=this.prevDirection===m.reverse?m.normal:m.reverse,this.prevDirection):e}},bindMethods:{value:function(){this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.onStateAdded=this.onStateAdded.bind(this),this.onStateRemoved=this.onStateRemoved.bind(this)}},addEventListeners:{value:function(e){var t=this.el,r=this;d.splitString(e).forEach(function(e){t.addEventListener(e,r.start)}),isNaN(e)||t.addEventListener("play",this.start),t.addEventListener("pause",this.stop),t.addEventListener("stateadded",this.onStateAdded),t.addEventListener("stateremoved",this.onStateRemoved)}},removeEventListeners:{value:function(e){var t=this.el,r=this.start;d.splitString(e).forEach(function(e){t.removeEventListener(e,r)}),t.removeEventListener("stateadded",this.onStateAdded),t.removeEventListener("stateremoved",this.onStateRemoved)}},onStateAdded:{value:function(e){e.detail.state===this.data.begin&&this.start()},writable:!0},onStateRemoved:{value:function(e){e.detail.state===this.data.begin&&this.stop()},writable:!0},applyMixin:{value:function(){var e,t,r,n={};r=document.querySelector("#"+this.getAttribute("mixin")),t=r?d.getElData(r,f):{},e=d.getElData(this,f),d.extend(n,f,t,e),this.data=n}}})}),t.exports.getAnimationValues=i},{"../constants/animation":48,"../utils/":102,"./a-node":54,"./a-register-element":55,"./schema":62,"tween.js":22}],50:[function(e,t,r){function n(e){return e.hasAttribute("autoplay")||"auto"===e.getAttribute("preload")?new Promise(function(t,r){function n(){for(var r=0,n=0;n<e.buffered.length;n++)r+=e.buffered.end(n)-e.buffered.start(n);r>=e.duration&&t()}return 4===e.readyState?t():e.error?r():(e.addEventListener("loadeddata",n,!1),e.addEventListener("progress",n,!1),void e.addEventListener("error",r,!1))}):void 0}var i=e("./a-node"),o=e("../utils/debug"),a=e("./a-register-element").registerElement,s=e("../lib/three"),u=new s.XHRLoader,c=o("core:a-assets:warn");t.exports=a("a-assets",{prototype:Object.create(i.prototype,{createdCallback:{value:function(){this.isAssets=!0}},attachedCallback:{value:function(){var e=this,t=[],r=this.querySelectorAll("audio"),i=this.querySelectorAll("img"),o=parseInt(this.getAttribute("timeout"),10)||3e3,a=this.querySelectorAll("video");if("A-SCENE"!==this.parentNode.tagName)throw new Error("<a-assets> must be a child of a <a-scene>.");for(var s=0;s<i.length;s++)t.push(new Promise(function(e,t){var r=i[s];r.onload=e,r.onerror=t}));for(s=0;s<r.length;s++)t.push(n(r[s]));for(s=0;s<a.length;s++)t.push(n(a[s]));Promise.all(t).then(this.load.bind(this)),setTimeout(function(){e.hasLoaded||(c("Asset loading timed out in ",o,"ms"),e.emit("timeout"),e.load())},o)}},load:{value:function(){i.prototype.load.call(this,null,function(e){return e.isAssetItem&&e.hasAttribute("src")})}}})}),a("a-asset-item",{prototype:Object.create(i.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var e=this,t=this.getAttribute("src");u.load(t,function(t){e.data=t,i.prototype.load.call(e)})}}})})},{"../lib/three":90,"../utils/debug":101,"./a-node":54,"./a-register-element":55}],51:[function(e,t,r){var n=e("../utils/debug"),i=e("./a-register-element").registerElement,o=n("core:cubemap:warn");t.exports=i("a-cubemap",{prototype:Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var e,t=this.querySelectorAll("[src]"),r=[];if(6===t.length){for(e=0;e<t.length;e++)r.push(t[e].getAttribute("src"));return r}o("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")},writable:window.debug}})})},{"../utils/debug":101,"./a-register-element":55}],52:[function(e,t,r){function n(e,t){return void 0!==e.defaultComponents[t]?!0:e.hasAttribute(t)?!0:i(t,e.mixinEls)}function i(e,t){var r,n=!1;for(r=0;r<t.length&&!(n=t[r].hasAttribute(e));++r);return n}function o(e,t){e.pause(),e.tick&&t.removeBehavior(e)}function a(e,t){e.play(),e.tick&&t.addBehavior(e)}var s,u=e("./a-node"),c=e("./component").components,l=e("./a-register-element"),h=e("../lib/three"),p=e("../utils/"),d=l.isNode,f=p.debug("core:a-entity:debug"),m=l.registerElement,v=p.styleParser,g=Object.create(u.prototype,{defaultComponents:{value:{position:"",rotation:"",scale:"",visible:""}},createdCallback:{value:function(){this.components={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new h.Group,this.object3D.el=this,this.object3DMap={},this.states=[]}},attributeChangedCallback:{value:function(e,t,r){this.setEntityAttribute(e,t,r)}},attachedCallback:{value:function(){this.addToParent(),this.isScene||(this.load(),this.parentNode.paused||this.play())}},detachedCallback:{value:function(){this.parentEl&&!this.isScene&&(Object.keys(this.components).forEach(this.removeComponent.bind(this)),this.parentEl.remove(this))}},applyMixin:{value:function(e){var t=this.getAttribute(e);return e?void this.updateComponent(e,t):void this.updateComponents()}},mapStateMixins:{value:function(e,t){var r,n=this.getAttribute("mixin");n&&(r=n.split(" "),r.forEach(function(r){var n=r+"-"+e;t(n)}),this.updateComponents())}},updateStateMixins:{value:function(e,t){var r=this;t=t||"";var n=e.split(" "),i=t?t.split(" "):[],o=i.filter(function(e){return n.indexOf(e)<0});o.forEach(function(e){var t=Array.prototype.forEach,n=document.querySelectorAll("[id^="+e+"-]"),i=[];t.call(n,function(e){i.push(e.id)}),i.forEach(r.unregisterMixin.bind(r))}),this.states.forEach(function(e){n.forEach(function(t){var n=t+"-"+e;r.registerMixin(n)})})}},getObject3D:{value:function(e){return this.object3DMap[e]}},setObject3D:{value:function(e,t){var r=this.object3DMap[e];r&&this.object3D.remove(r),t instanceof h.Object3D&&(t.el=this,this.object3D.add(t)),this.object3DMap[e]=t}},removeObject3D:{value:function(e){this.setObject3D(e,null)}},getOrCreateObject3D:{value:function(e,t){var r=this.getObject3D(e);return!r&&t&&(r=new t,this.setObject3D(e,r)),r}},add:{value:function(e){if(!e.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.emit("child-attached",{el:e}),this.object3D.add(e.object3D)}},addToParent:{value:function(){function e(){t.attachedToParent=!0,r.add&&r.add(t)}var t=this,r=this.parentEl=this.parentNode,n=this.attachedToParent;return r&&!n?d(r)?void e():void r.addEventListener("nodeready",e):void 0}},load:{value:function(){this.hasLoaded||(this.addToParent(),this.isScene?u.prototype.load.call(this,this.updateComponents.bind(this)):u.prototype.load.call(this,this.updateComponents.bind(this),function(e){return e.isEntity}))},writable:window.debug},remove:{value:function(e){this.object3D.remove(e.object3D)}},getChildEntities:{value:function(){for(var e=this.children,t=[],r=0;r<e.length;r++){var n=e[r];n instanceof s&&t.push(n)}return t}},initComponent:{value:function(e,t){var r,i=n(this,e);if(c[e]&&(i||t)){if(this.initComponentDependencies(e),t&&!i)this.setAttribute(e,"");else{if(this.isScene&&!this.hasAttribute(e)&&e in this.defaultComponents&&HTMLElement.prototype.setAttribute.call(this,e,this.defaultComponents[e]),e in this.components)return;r=this.components[e]=new c[e].Component(this),this.isPlaying&&a(r,this.sceneEl)}f("Component initialized: %s",e)}},writable:window.debug},initComponentDependencies:{value:function(e){var t,r=this,n=c[e];n&&(t=c[e].dependencies,t&&t.forEach(function(e){r.initComponent(e,!0)}))}},removeComponent:{value:function(e){var t=this.components[e];o(t,this.sceneEl),t.remove(),delete this.components[e]}},updateComponents:{value:function(){function e(e){var r=t.getAttribute(e);t.updateComponent(e,r)}var t=this,r=Object.keys(c);r.forEach(e)}},updateComponent:{value:function(e,t){var r=this.components[e],o=e in this.defaultComponents,a=i(e,this.mixinEls);return r?n(this,e)&&(null!==t||o||a)?void r.updateProperties(t):void this.removeComponent(e):void this.initComponent(e)}},removeAttribute:{value:function(e){var t=c[e];t&&this.setEntityAttribute(e,void 0,null),HTMLElement.prototype.removeAttribute.call(this,e)}},play:{value:function(){var e=this.components,t=Object.keys(e),r=this.sceneEl;this.isPlaying||(this.isPlaying=!0,t.forEach(function(t){a(e[t],r)}),this.getChildEntities().forEach(function(e){e.play()}),this.emit("play"))},writable:!0},pause:{value:function(){var e=this.components,t=Object.keys(e),r=this.sceneEl;this.isPlaying&&(this.isPlaying=!1,t.forEach(function(t){o(e[t],r)}),this.getChildEntities().forEach(function(e){e.pause()}),this.emit("pause"))},writable:!0},setEntityAttribute:{value:function(e,t,r){var n=c[e];return t=t||this.getAttribute(e),this.hasLoaded||this.isScene?"mixin"===e?(this.updateStateMixins(r,t),void this.updateComponents()):void(n&&this.updateComponent(e,r)):void 0}},setAttribute:{value:function(e,t,r){var n,i=this,o=this.components[e]||c[e];t=void 0===t?"":t;var a,s=t,l=t;o&&("string"==typeof t&&void 0!==r&&(n=v.parse(HTMLElement.prototype.getAttribute.call(this,e))||{},n[t]=r,s=n),l=o.stringify(s)),a=this.getAttribute(e),u.prototype.setAttribute.call(i,e,l),i.setEntityAttribute(e,a,s)},writable:window.debug},getAttribute:{value:function(e){var t=this.components[e]||c[e],r=HTMLElement.prototype.getAttribute.call(this,e);return t&&"string"==typeof r?t.parse(r,!0):r},writable:window.debug},getComputedAttribute:{value:function(e){var t=this.components[e];return t?t.getData():HTMLElement.prototype.getAttribute.call(this,e)}},addState:{value:function(e){this.is(e)||(this.states.push(e),this.mapStateMixins(e,this.registerMixin.bind(this)),this.emit("stateadded",{state:e}))}},removeState:{value:function(e){var t=this.states.indexOf(e);-1!==t&&(this.states.splice(t,1),this.mapStateMixins(e,this.unregisterMixin.bind(this)),this.emit("stateremoved",{state:e}))}},is:{value:function(e){return-1!==this.states.indexOf(e)}}});s=m("a-entity",{prototype:g}),t.exports=s},{"../lib/three":90,"../utils/":102,"./a-node":54,"./a-register-element":55,"./component":56}],53:[function(e,t,r){var n=e("./component").components,i=e("./a-node"),o=e("./a-register-element").registerElement;t.exports=o("a-mixin",{prototype:Object.create(i.prototype,{attachedCallback:{value:function(){this.load()},writable:window.debug},setAttribute:{value:function(e,t){var r=n[e];r&&"object"==typeof t&&(t=r.stringify(t)),HTMLElement.prototype.setAttribute.call(this,e,t)},writable:window.debug},getAttribute:{value:function(e){var t=n[e],r=HTMLElement.prototype.getAttribute.call(this,e);return t&&"string"==typeof r?t.parse(r):r},writable:window.debug}})})},{"./a-node":54,"./a-register-element":55,"./component":56}],54:[function(e,t,r){var n=e("./a-register-element").registerElement,i=e("../utils/");t.exports=n("a-node",{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[],this.mixinObservers={}}},attachedCallback:{value:function(){var e=this.getAttribute("mixin");this.sceneEl="A-SCENE"===this.tagName?this:this.closest("a-scene"),this.emit("nodeready",{},!1),e&&this.updateMixins(e)}},attributeChangedCallback:{value:function(e,t,r){"mixin"===e&&this.updateMixins(r,t)}},closest:{value:function(e){for(var t=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,r=this;r&&!t.call(r,e);)r=r.parentElement;return r}},detachedCallback:{value:function(){}},load:{value:function(e,t){var r,n,i=this;this.hasLoaded||(t=t||function(e){return e.isNode},r=this.getChildren(),n=r.filter(t).map(function(e){return new Promise(function(t){return e.hasLoaded?t():void e.addEventListener("loaded",t)})}),Promise.all(n).then(function(){e&&e(),i.hasLoaded=!0,i.emit("loaded",{},!1)}))},writable:!0},getChildren:{value:function(){for(var e=[],t=0;t<this.children.length;t++)e.push(this.children[t]);return e}},updateMixins:{value:function(e,t){var r=e.split(" "),n=t?t.split(" "):[],i=n.filter(function(e){return r.indexOf(e)<0});this.mixinEls=[],i.forEach(this.unregisterMixin.bind(this)),r.forEach(this.registerMixin.bind(this))}},addMixin:{value:function(e){var t,r=this.getAttribute("mixin"),n=r.split(" ");for(t=0;t<n.length;++t)if(n[t]===e)return;n.push(e),this.setAttribute("mixin",n.join(" "))}},removeMixin:{value:function(e){var t,r=this.getAttribute("mixin"),n=r.split(" ");for(t=0;t<n.length;++t)if(n[t]===e)return n.splice(t,1),void this.setAttribute("mixin",n.join(" "))}},registerMixin:{value:function(e){if(this.sceneEl){var t=this.sceneEl.querySelector("a-mixin#"+e);t&&(this.attachMixinListener(t),this.mixinEls.push(t))}}},setAttribute:{value:function(e,t){"mixin"===e&&this.updateMixins(t),HTMLElement.prototype.setAttribute.call(this,e,t)}},unregisterMixin:{value:function(e){var t,r,n=this.mixinEls;for(r=0;r<n.length;++r)if(t=n[r],e===t.id){n.splice(r,1);break}this.removeMixinListener(e)}},removeMixinListener:{value:function(e){var t=this.mixinObservers[e];t&&(t.disconnect(),this.mixinObservers[e]=null)}},attachMixinListener:{value:function(e){var t=this,r=e.id,n=this.mixinObservers[r];if(e&&!n){var i=new MutationObserver(function(e){var r=e[0].attributeName;t.applyMixin(r)}),o={attributes:!0};i.observe(e,o),this.mixinObservers[r]=i}}},applyMixin:{value:function(){}},emit:{value:function(e,t,r){var n=this;t=t||{},void 0===r&&(r=!0);var o={bubbles:!!r,detail:t};return e.split(" ").map(function(e){return i.fireEvent(n,e,o)})}},emitter:{value:function(e,t,r){var n=this;return function(){n.emit(e,t,r)}}}})})},{"../utils/":102,"./a-register-element":55}],55:[function(e,t,r){function n(e){var t={},r=["attachedCallback","attributeChangedCallback","createdCallback"];return o(t,r,e,h.prototype),s(e,t),t}function i(e){var t={},r=["attachedCallback","attributeChangedCallback","createdCallback"],n=["attributeChangedCallback","attachedCallback","createdCallback","detachedCallback"];return o(t,r,e,h.prototype),o(t,n,e,p.prototype),s(e,t),t}function o(e,t,r,n){t.forEach(function(t){a(e,t,r,n)})}function a(e,t,r,n){var i=r[t],o=n[t];if(i&&o&&i!==o){var a=function(){return o.apply(this,arguments),i.apply(this,arguments)};e[t]={value:a,writable:window.debug}}}function s(e,t){var r=Object.getOwnPropertyNames(e);r.forEach(function(r){var n;t[r]||(n=Object.getOwnPropertyDescriptor(e,r),t[r]={value:e[r],writable:n.writable})})}e("document-register-element");var u=document.registerElement,c=t.exports.knownTags={},l=function(e){c[e.toLowerCase()]=!0};t.exports.isNode=function(e){return e.tagName.toLowerCase()in c||e.isNode},t.exports.registerElement=document.registerElement=function(e,t){var r=Object.getPrototypeOf(t.prototype),o=t,a=h&&r===h.prototype,s=p&&r===p.prototype;return(a||s)&&l(e),a&&(o=n(t.prototype),o={prototype:Object.create(r,o)}),s&&(o=i(t.prototype),o={prototype:Object.create(r,o)}),u.call(document,e,o)};var h=e("./a-node"),p=e("./a-entity")},{"./a-entity":52,"./a-node":54,"document-register-element":8}],56:[function(e,t,r){function n(e,t,r,n,o){function a(e){var r=HTMLElement.prototype.getAttribute.call(e,t);r&&(r=h?r:m.parse(r),u=i(u,r,h))}var s=null!==n,u={},h=p(r),d=e.mixinEls;return h||"string"!=typeof n||(n=m.parse(n)),h?u=r["default"]:Object.keys(r).forEach(function(e){u[e]=r[e]["default"]}),d.forEach(a),s&&(u=i(u,n,h)),p(r)?l(u,r):c(u,r,void 0,o)}function i(e,t,r){return r?void 0===t||"object"==typeof t&&0===Object.keys(t).length?e:t:s.extend(e,t)}var o=e("./schema"),a=e("./system"),s=e("../utils/"),u=t.exports.components={},c=o.parseProperties,l=o.parseProperty,h=o.process,p=o.isSingleProperty,d=o.stringifyProperties,f=o.stringifyProperty,m=s.styleParser,v=t.exports.Component=function(e){var t=this.name,r=HTMLElement.prototype.getAttribute.call(e,t);this.el=e,this.updateSchema&&this.updateSchema(n(e,t,this.schema,r,!0)),this.data=n(e,t,this.schema,r),this.init(),this.update()};v.prototype={schema:{},init:function(){},update:function(e){},updateSchema:void 0,tick:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(e,t){var r=this.schema;return p(r)?l(e,r):c(m.parse(e),r,!0,t)},stringify:function(e){var t=this.schema;return"string"==typeof e?e:p(t)?f(e,t):(e=d(e,t),m.stringify(e))},getData:function(){var e=this.data;return"object"!=typeof e?e:s.extend({},e)},updateProperties:function(e){var t=this.el,r=p(this.schema),o=i({},this.data,r);this.updateSchema&&this.updateSchema(n(t,this.name,this.schema,e,!0)),this.data=n(t,this.name,this.schema,e),(r||!s.deepEqual(o,this.data))&&(this.update(o),t.emit("componentchanged",{name:this.name,newData:this.getData(),oldData:o}))},extendSchema:function(e){var t=s.extend({},u[this.name].schema);s.extend(t,e),this.schema=h(t),this.el.emit("schemachanged",{component:this.name})}},t.exports.registerComponent=function(e,t){var r,n={};if(Object.keys(t).forEach(function(e){n[e]={value:t[e],writable:!0}}),u[e])throw new Error("The component `"+e+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");return r=function(e){v.call(this,e)},r.prototype=Object.create(v.prototype,n),r.prototype.name=e,r.prototype.constructor=r,r.prototype.system=a&&a.systems[e],u[e]={Component:r,dependencies:r.prototype.dependencies,parse:r.prototype.parse.bind(r.prototype),schema:s.extend(h(r.prototype.schema)),stringify:r.prototype.stringify.bind(r.prototype),type:r.prototype.type},r},t.exports.buildData=n},{"../utils/":102,"./schema":62,"./system":64}],57:[function(e,t,r){function n(e,t,r,n){return"type"in _?void b("Property type "+e+" is already registered."):void(_[e]={"default":t,parse:r||a,stringify:n||s})}function i(e){function t(e){return e.trim()}return Array.isArray(e)?e:e&&"string"==typeof e?e.split(",").map(t):[]}function o(e){return e.join(", ")}function a(e){return e}function s(e){return null===e?"null":e.toString()}function u(e){return"false"!==e&&e!==!1}function c(e){return parseInt(e,10)}function l(e){return parseFloat(e,10)}function h(e){return e?"string"!=typeof e?e:document.querySelector(e):null}function p(e){return e?"string"!=typeof e?e:document.querySelectorAll(e):null}function d(e){return e.getAttribute?"#"+e.getAttribute("id"):s(e)}function f(e){if(e.item){var t,r="";for(t=0;t<e.length;++t)r+="#"+e[t].getAttribute("id"),t!==e.length-1&&(r+=", ");return r}return s(e)}function m(e){var t=e.match(/\url\((.+)\)/);if(t)return t[1];var r=h(e);return r?r.getAttribute("src"):""}function v(e){return g.parse(e,this["default"])}var g=e("../utils/coordinates"),y=e("debug"),b=y("core:propertyTypes:warn"),_=t.exports.propertyTypes={};n("array",[],i,o),n("boolean",!1,u),n("color","#FFF",a,s),n("int",0,c),n("number",0,l),n("selector","",h,d),n("selectorAll","",p,f),n("src","",m),n("string","",a,s),n("time",0,c),n("vec2",{x:0,y:0},v,g.stringify),n("vec3",{x:0,y:0,z:0},v,g.stringify),n("vec4",{x:0,y:0,z:0,w:0},v,g.stringify),t.exports.registerPropertyType=n},{"../utils/coordinates":100,debug:3}],58:[function(e,t,r){function n(e){return g?{height:window.innerHeight,width:window.innerWidth}:{height:e.offsetHeight,width:e.offsetWidth}}function i(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}var o=e("./fullscreen"),a=e("./metaTags").inject,s=e("./wakelock"),u=e("../a-register-element"),c=e("../system").systems,l=e("../../lib/three"),h=e("tween.js"),p=e("../../utils/"),d=e("../a-entity"),f=e("../a-node"),m=u.registerElement,v=p.isIOS(),g=p.isMobile(),y=t.exports=m("a-scene",{prototype:Object.create(d.prototype,{defaultComponents:{value:{canvas:"","keyboard-shortcuts":"","vr-mode-ui":""}},createdCallback:{value:function(){this.isMobile=g,this.isIOS=v,this.isScene=!0,this.object3D=new l.Scene,this.systems={},this.time=0,this.init()}},init:{value:function(){this.behaviors=[],this.hasLoaded=!1,this.isPlaying=!0,this.originalHTML=this.innerHTML,this.setupSystems(),this.addEventListener("render-target-loaded",function(){this.setupRenderer(),this.resize()})},writable:!0},attachedCallback:{value:function(){o(this),a(this),s(this),window.addEventListener("load",this.resize.bind(this)),window.addEventListener("resize",this.resize.bind(this),!1),this.addEventListener("fullscreen-exit",this.exitVR.bind(this)),this.play()},writable:window.debug},setupSystems:{value:function(){var e=Object.keys(c);e.forEach(this.initSystem.bind(this))}},initSystem:{value:function(e){var t;this.systems[e]||(t=this.systems[e]=new c[e],t.sceneEl=this,t.init())}},detachedCallback:{value:function(){window.cancelAnimationFrame(this.animationFrameID),this.animationFrameID=null}},addBehavior:{value:function(e){var t=this.behaviors;-1===t.indexOf(e)&&t.push(e)}},enterVR:{value:function(e){this.setStereoRenderer(),g?i(this.canvas):this.stereoRenderer.setFullScreen(!0),this.addState("vr-mode"),this.emit("enter-vr",e)}},exitVR:{value:function(){this.setMonoRenderer(),this.removeState("vr-mode"),this.emit("exit-vr",{target:this})}},removeBehavior:{value:function(e){var t=this.behaviors,r=t.indexOf(e);-1!==r&&t.splice(r,1)}},resize:{value:function(){var e,t=this.camera,r=this.canvas;t&&r&&(g||(r.style.width="100%",r.style.height="100%"),e=n(r,g),t.aspect=e.width/e.height,t.updateProjectionMatrix(),this.renderer.setSize(e.width,e.height,!0))},writable:window.debug},setMonoRenderer:{value:function(){this.renderer=this.monoRenderer,this.resize()}},setStereoRenderer:{value:function(){this.renderer=this.stereoRenderer,this.resize()}},setupRenderer:{value:function(){var e=this.canvas,t="true"===this.getAttribute("antialias"),r=this.renderer=this.monoRenderer=new l.WebGLRenderer({canvas:e,antialias:t,alpha:!0});r.setPixelRatio(window.devicePixelRatio),r.sortObjects=!1,y.renderer=r,this.stereoRenderer=new l.VREffect(r)},writable:window.debug},play:{value:function(){var e=this;return this.renderStarted?void d.prototype.play.call(this):(this.addEventListener("loaded",function(){this.renderStarted||(d.prototype.play.call(this),this.resize(),this.renderer&&(window.performance&&window.performance.mark("render-started"),this.render(),this.renderStarted=!0,this.emit("renderstart")))}),void setTimeout(function(){d.prototype.load.call(e)}))}},reload:{value:function(e){function t(){r.isPlaying&&d.prototype.play.call(r)}var r=this;e&&this.pause(),this.innerHTML=this.originalHTML,this.init(),
f.prototype.load.call(this,t)}},render:{value:function(e){var t=this.camera,r=e-this.time,n=this.systems;this.isPlaying&&(h.update(e),this.behaviors.forEach(function(t){t.el.isPlaying&&t.tick(e,r)}),Object.keys(n).forEach(function(t){n[t].tick&&n[t].tick(e,r)})),this.renderer.render(this.object3D,t),this.time=e,this.animationFrameID=window.requestAnimationFrame(this.render.bind(this))},writable:window.debug}})})},{"../../lib/three":90,"../../utils/":102,"../a-entity":52,"../a-node":54,"../a-register-element":55,"../system":64,"./fullscreen":59,"./metaTags":60,"./wakelock":61,"tween.js":22}],59:[function(e,t,r){function n(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,r=this;r.isMobile&&window.screen.orientation&&(t?window.screen.orientation.lock("landscape"):window.screen.orientation.unlock()),t?o(r):a(r)}function i(e){var t=this;if(e.data)switch(e.data.type){case"fullscreen":switch(e.data.data){case"enter":o(t);break;case"exit":a(t)}}}function o(e){e.addState("fullscreen"),e.emit("fullscreen-enter")}function a(e){e.removeState("fullscreen"),e.emit("fullscreen-exit")}var s=e("../../utils/").isIframed;t.exports=function(e){var t=n.bind(e);document.addEventListener("mozfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),s()&&window.addEventListener("message",i.bind(e))}},{"../../utils/":102}],60:[function(e,t,r){function n(e){return{tagName:"meta",attributes:e,exists:function(){return document.querySelector('meta[name="'+e.name+'"]')}}}function i(e){return{tagName:"link",attributes:e,exists:function(){return document.querySelector('link[rel="'+e.rel+'"]')}}}function o(e){if(e&&e.tagName){var t=document.createElement(e.tagName);return a(t,e.attributes)}}var a=e("../../utils").extend,s=t.exports.MOBILE_HEAD_TAGS=[n({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui"}),n({name:"mobile-web-app-capable",content:"yes"}),n({name:"theme-color",content:"black"}),i({rel:"icon",sizes:"192x192",href:"https://aframe.io/images/aframe-logo-192.png"})],u=[n({name:"apple-mobile-web-app-capable",content:"yes"}),n({name:"apple-mobile-web-app-status-bar-style",content:"black"}),i({rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"})];t.exports.inject=function(e){function t(e){e&&!e.exists()&&(r=o(e),r&&(i?i.parentNode.insertBefore(r,i):n.appendChild(r),a.push(r)))}var r,n=document.head,i=n.querySelector("script"),a=[];return s.forEach(t),e.isIOS&&u.forEach(t),a}},{"../../utils":102}],61:[function(e,t,r){var n=e("../../../vendor/wakelock/wakelock");t.exports=function(e){if(e.isMobile){var t=e.wakelock=new n;e.addEventListener("enter-vr",function(){t.request()}),e.addEventListener("exit-vr",function(){t.release()})}}},{"../../../vendor/wakelock/wakelock":109}],62:[function(e,t,r){function n(e){return"type"in e?"string"==typeof e.type:"default"in e}function i(e){var t,r=e["default"],n=e.type;return e.type?"bool"===e.type?n="boolean":"float"===e.type&&(n="number"):n=void 0!==r&&-1!==["boolean","number"].indexOf(typeof r)?typeof r:Array.isArray(r)?"array":"string",t=u[n],t||c("Unknown property type: "+n),e.parse=e.parse||t.parse,e.stringify=e.stringify||t.stringify,e.type=n,"default"in e||(e["default"]=t["default"]),e}function o(e,t){return"string"!=typeof e?e:"undefined"==typeof e?e:t.parse(e)}function a(e,t){return"object"!=typeof e?e:t?t.stringify(e):JSON.stringify(e)}var s=e("../utils/debug"),u=e("./propertyTypes").propertyTypes,c=s("core:schema:warn");t.exports.isSingleProperty=n,t.exports.process=function(e){return n(e)?i(e):(Object.keys(e).forEach(function(t){e[t]=i(e[t])}),e)},t.exports.processPropertyDefinition=i,t.exports.parseProperties=function(e,t,r,n){var i=Object.keys(r?e:t);return null===e||"object"!=typeof e?e:(Object.keys(e).forEach(function(e){t[e]||n||c("Unknown component property: "+e)}),i.forEach(function(r){var n=t[r],i=e[r];t[r]&&(i=void 0===i?n["default"]:i,e[r]=o(i,n))}),e)},t.exports.parseProperty=o,t.exports.stringifyProperties=function(e,t){var r={};return Object.keys(e).forEach(function(n){var i=t[n],o=e[n],s=o;"object"==typeof s&&(s=a(o,i),i||c("Unknown component property: "+n)),r[n]=s}),r},t.exports.stringifyProperty=a},{"../utils/debug":101,"./propertyTypes":57}],63:[function(e,t,r){var n=e("./schema"),i=n.process,o=t.exports.shaders={},a=t.exports.shaderNames=[],s=e("../lib/three"),u={number:"f",time:"f",vec4:"v4",vec3:"v3",vec2:"v2",color:"v3"},c=t.exports.Shader=function(){};c.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0,0.0,1.0,1.0);}",init:function(e){return this.attributes=this.initVariables(e,"attribute"),this.uniforms=this.initVariables(e,"uniform"),this.material=new s.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(e,t){function r(r){if(o[r].is===t){var a=u[o[r].type],s=o[r].parse(e[r]||o[r]["default"]);i[r]={type:a,value:n.parseValue(o[r].type,s)}}}var n=this,i={},o=this.schema,a=Object.keys(o);return a.forEach(r),i},update:function(e){this.updateVariables(e,"attribute"),this.updateVariables(e,"uniform")},updateVariables:function(e,t){function r(r){a[r]&&a[r].is===t&&i[r].value!==e[r]&&(i[r].value=n.parseValue(a[r].type,e[r]),i[r].needsUpdate=!0)}var n=this,i="uniform"===t?this.uniforms:this.attributes,o=Object.keys(e),a=this.schema;o.forEach(r)},parseValue:function(e,t){var r;switch(e){case"vec2":return new s.Vector2(t.x,t.y);case"vec3":return new s.Vector3(t.x,t.y,t.z);case"vec4":return new s.Vector4(t.x,t.y,t.z,t.w);case"color":return r=new s.Color(t),new s.Vector3(r.r,r.g,r.b);default:return t}}},t.exports.registerShader=function(e,t){var r,n={};if(Object.keys(t).forEach(function(e){n[e]={value:t[e],writable:!0}}),o[e])throw Error("The shader "+e+" has been already registered");return r=function(){c.call(this)},r.prototype=Object.create(c.prototype,n),r.prototype.name=e,r.prototype.constructor=r,o[e]={Shader:r,schema:i(r.prototype.schema)},a.push(e),r}},{"../lib/three":90,"./schema":62}],64:[function(e,t,r){var n=e("./component"),i=t.exports.systems={},o=t.exports.System=function(){var e=n&&n.components[this.name];e&&(e.Component.prototype.system=this)};o.prototype={init:function(){},tick:void 0,play:function(){},pause:function(){}},t.exports.registerSystem=function(e,t){var r,n,a={},s=document.querySelectorAll("a-scene");if(Object.keys(t).forEach(function(e){a[e]={value:t[e],writable:!0}}),i[e])throw new Error("The system `"+e+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(n=function(){o.call(this)},n.prototype=Object.create(o.prototype,a),n.prototype.name=e,n.prototype.constructor=n,i[e]=n,r=0;r<s.length;r++)s[r].initSystem(e)}},{"./component":56}],65:[function(e,t,r){var n=e("../../core/a-node"),i=e("../../core/a-register-element").registerElement;t.exports=i("a-event",{prototype:Object.create(n.prototype,{createdCallback:{value:function(){this.el=null,this.isAEvent=!0,this.name="",this.targetEls=[]}},attachedCallback:{value:function(){var e=this.getAttribute("target");this.el=this.parentNode,this.name=this.getAttribute("name")||this.getAttribute("type"),e?this.targetEls=this.closest("a-scene").querySelectorAll(e):this.targetEls=[this.el],this.deprecated&&console.warn("<"+this.tagName.toLowerCase()+'> has been DEPRECATED. Use <a-event name="'+this.name+'"> instead.'),this.hasAttribute("type")&&console.log("<a-event type> has been DEPRECATED. Use <a-event name> instead."),this.listener=this.attachEventListener(),this.load()}},detachedCallback:{value:function(){var e=this.listener;e&&this.removeEventListener(this.name,e)}},attachEventListener:{value:function(){var e=this.attributes,t=this.el,r=this.name,n=this.targetEls;return t.addEventListener(r,function(){for(var t,r,i,o,a,s=0;s<n.length;s++)for(var u=0;u<e.length;u++)t=e[u],r=t.name,o=t.value,a=n[s],"target"!==r&&(-1===r.indexOf(".")?a.setAttribute(r,o):(i=r.split("."),a.setAttribute(i[0],i[1],o)))})}}})})},{"../../core/a-node":54,"../../core/a-register-element":55}],66:[function(e,t,r){t.exports=function(){return{defaultAttributes:{material:{}},mappings:{color:"material.color",metalness:"material.metalness",opacity:"material.opacity",repeat:"material.repeat",roughness:"material.roughness",shader:"material.shader",side:"material.side",src:"material.src",translate:"geometry.translate",transparent:"material.transparent"},transforms:{src:function(e){return"#"===e[0]?e:"url("+e+")"}}}}},{}],67:[function(e,t,r){e("./primitives/a-box"),e("./primitives/a-camera"),e("./primitives/a-circle"),e("./primitives/a-collada-model"),e("./primitives/a-cone"),e("./primitives/a-cursor"),e("./primitives/a-curvedimage"),e("./primitives/a-cylinder"),e("./primitives/a-image"),e("./primitives/a-light"),e("./primitives/a-model"),e("./primitives/a-obj-model"),e("./primitives/a-plane"),e("./primitives/a-ring"),e("./primitives/a-sky"),e("./primitives/a-sphere"),e("./primitives/a-torus"),e("./primitives/a-video"),e("./primitives/a-videosphere")},{"./primitives/a-box":68,"./primitives/a-camera":69,"./primitives/a-circle":70,"./primitives/a-collada-model":71,"./primitives/a-cone":72,"./primitives/a-cursor":73,"./primitives/a-curvedimage":74,"./primitives/a-cylinder":75,"./primitives/a-image":76,"./primitives/a-light":77,"./primitives/a-model":78,"./primitives/a-obj-model":79,"./primitives/a-plane":80,"./primitives/a-ring":81,"./primitives/a-sky":82,"./primitives/a-sphere":83,"./primitives/a-torus":84,"./primitives/a-video":85,"./primitives/a-videosphere":86}],68:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/"),a=o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"box"}},mappings:{depth:"geometry.depth",height:"geometry.height",translate:"geometry.translate",width:"geometry.width"}});i("a-box",a),i("a-cube",o.extendDeep({deprecated:"<a-cube> is deprecated. Use <a-box> instead."},a))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],69:[function(e,t,r){var n=e("../registerPrimitive");n("a-camera",{defaultAttributes:{camera:{},"look-controls":{},"wasd-controls":{}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","wasd-controls-enabled":"wasd-controls.enabled"},deprecatedMappings:{"cursor-color":"a-camera[cursor-color] has been removed. Use a-cursor[color] instead.","cursor-maxdistance":"a-camera[cursor-maxdistance] has been removed. Use a-cursor[max-distance] instead.","cursor-offset":"a-camera[cursor-offset] has been removed. Use a-cursor[position] instead.","cursor-opacity":"a-camera[cursor-offset] has been removed. Use a-cursor[opacity] instead.","cursor-scale":"a-camera[cursor-scale] has been removed. Use a-cursor[scale] instead.","cursor-visible":"a-camera[cursor-visible] has been removed. Use a-cursor[visible] instead."}})},{"../registerPrimitive":87}],70:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-circle",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"circle"}},mappings:{radius:"geometry.radius",segments:"geometry.segments","theta-length":"geometry.theta-length","theta-start":"geometry.theta-start"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],71:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-collada-model",o.extendDeep({},n(),{mappings:{src:"collada-model"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],72:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-cone",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"cone"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded","radius-bottom":"geometry.radiusBottom","radius-top":"geometry.radiusTop","segments-height":"geometry.segmentsHeight","segments-radial":"geometry.segmentsRadial","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",translate:"geometry.translate"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],73:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-cursor",o.extendDeep({},n(),{defaultAttributes:{cursor:{maxDistance:1e3},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:64},material:{shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{fuse:"cursor.fuse","max-distance":"cursor.maxDistance",timeout:"cursor.timeout"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],74:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-curvedimage",o.extendDeep({},n(),{defaultAttributes:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",translate:"geometry.translate",width:"geometry.thetaLength"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],75:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-cylinder",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"cylinder"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius","radius-bottom":"geometry.radiusBottom","radius-top":"geometry.radiusTop","segments-radial":"geometry.segmentsRadial","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",translate:"geometry.translate"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],76:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-image",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",translate:"geometry.translate",width:"geometry.width"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],77:[function(e,t,r){var n=e("../registerPrimitive");n("a-light",{defaultAttributes:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",exponent:"light.exponent",intensity:"light.intensity",type:"light.type"}})},{"../registerPrimitive":87}],78:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-model",o.extend({},n(),{deprecated:"<a-model> is deprecated. Use <a-obj-model> or <a-collada-model> instead.",defaultAttributes:{loader:{format:"collada"},material:{color:"#FFF"}},mappings:{src:"loader.src",format:"loader.format"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],79:[function(e,t,r){var n=e("../getMeshMixin")(),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-obj-model",o.extendDeep({},n,{mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"},transforms:{mtl:n.transforms.src}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],80:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-plane",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"plane"}},mappings:{height:"geometry.height",translate:"geometry.translate",width:"geometry.width"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],81:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-ring",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"ring"}},mappings:{"radius-inner":"geometry.radiusInner","radius-outer":"geometry.radiusOuter","segments-phi":"geometry.segments-phi","segments-theta":"geometry.segments-theta","theta-length":"geometry.theta-length","theta-start":"geometry.theta-start"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],82:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-sky",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:64},material:{color:"#FFF",shader:"flat"},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-width":"geometry.segmentsWidth","segments-height":"geometry.segmentsHeight"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],83:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-sphere",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"sphere"}},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth",translate:"geometry.translate"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],84:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-torus",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"torus"}},mappings:{arc:"geometry.arc",radius:"geometry.radius","radius-tubular":"geometry.radiusTubular","segments-radial":"geometry.segmentsRadial","segments-tubular":"geometry.segmentsTubular"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],85:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-video",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",translate:"geometry.translate",width:"geometry.width"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],86:[function(e,t,r){var n=e("../getMeshMixin"),i=e("../registerPrimitive"),o=e("../../../utils/");i("a-videosphere",o.extendDeep({},n(),{defaultAttributes:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:64},material:{color:"#FFF",shader:"flat"},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},{"../../../utils/":102,"../getMeshMixin":66,"../registerPrimitive":87}],87:[function(e,t,r){function n(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];"object"==typeof n?t[r]=s.extend({},n):t[r]=n}),t}var i=e("../../core/a-entity"),o=e("../../core/component").components,a=e("../../core/a-register-element").registerElement,s=e("../../utils/"),u=s.debug,c=u("extras:primitives");t.exports=function(e,t){return e=e.toLowerCase(),c("Registering <%s>",e),a(e,{prototype:Object.create(i.prototype,{defaultAttributes:{value:t.defaultAttributes||{}},deprecated:{value:t.deprecated||null},deprecatedMappings:{value:t.deprecatedMappings||{}},mappings:{value:t.mappings||{}},transforms:{value:t.transforms||{}},createdCallback:{value:function(){this.componentData={},t.deprecated&&console.warn(t.deprecated)}},attachedCallback:{value:function(){var e=this,t=this.attributes;this.componentData=n(this.defaultAttributes),Object.keys(this.componentData).forEach(function(t){e.hasAttribute(t)||e.setAttribute(t,e.componentData[t])}),Object.keys(t).forEach(function(r){var n=t[r];e.syncAttributeToComponent(n.name,n.value)})}},attributeChangedCallback:{value:function(e,t,r){return this.mappings[e]?void this.syncAttributeToComponent(e,r):void i.prototype.attributeChangedCallback.call(this,e,t,r)}},syncAttributeToComponent:{value:function(e,t){var r,n,i;e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&this.mappings[e]&&(r=this.mappings[e],-1!==r.indexOf(".")&&(n=this.mappings[e].split("."),r=n[0],i=n[1]),o[r]&&(t=this.getTransformedValue(e,t),this.componentData[r]||(this.componentData[r]=this.defaultAttributes[r]||{}),i?this.componentData[r][i]=t:this.componentData[r]=t,this.setAttribute(r,this.componentData[r])))}},getTransformedValue:{value:function(e,t){return this.transforms&&this.transforms[e]?this.transforms[e].bind(this)(t):t}}})})}},{"../../core/a-entity":52,"../../core/a-register-element":55,"../../core/component":56,"../../utils/":102}],88:[function(e,t,r){window.Promise=window.Promise||e("promise-polyfill"),e("present"),e("./style/aframe.css"),e("./style/rStats.css");var n=e("./core/scene/a-scene"),i=e("./core/component").components,o=e("./core/component").registerComponent,a=e("./extras/primitives/registerPrimitive"),s=e("./core/shader").registerShader,u=e("./core/system").registerSystem,c=e("./core/shader").shaders,l=e("./core/system").systems,h=window.THREE=e("./lib/three"),p=window.TWEEN=e("tween.js"),d=e("../package"),f=e("./utils/");e("./systems/index"),e("./components/index"),e("./shaders/index");var m=e("./core/a-node"),v=e("./core/a-entity");window.hasNonPolyfillWebVRSupport=!!navigator.getVRDevices,window.WebVRConfig={TOUCH_PANNER_DISABLED:!0,MOUSE_KEYBOARD_CONTROLS_DISABLED:!0},e("webvr-polyfill"),e("./core/a-animation"),e("./core/a-assets"),e("./core/a-cubemap"),e("./core/a-mixin"),e("./extras/declarative-events/"),e("./extras/primitives/"),console.log("A-Frame Version:",d.version),console.log("three Version:",d.dependencies.three),console.log("WebVR Polyfill Version:",d.dependencies["webvr-polyfill"]),t.exports=window.AFRAME={AEntity:v,ANode:m,AScene:n,components:i,registerComponent:o,registerShader:s,registerSystem:u,registerPrimitive:a,shaders:c,systems:l,THREE:h,TWEEN:p,utils:f,version:d.version}},{"../package":24,"./components/index":29,"./core/a-animation":49,"./core/a-assets":50,"./core/a-cubemap":51,"./core/a-entity":52,"./core/a-mixin":53,"./core/a-node":54,"./core/component":56,"./core/scene/a-scene":58,"./core/shader":63,"./core/system":64,"./extras/declarative-events/":65,"./extras/primitives/":67,"./extras/primitives/registerPrimitive":87,"./lib/three":90,"./shaders/index":92,"./style/aframe.css":94,"./style/rStats.css":95,"./systems/index":97,"./utils/":102,present:10,"promise-polyfill":11,"tween.js":22,"webvr-polyfill":23}],89:[function(e,t,r){window.aframeStats=function(e){function t(){o("te").set(a.querySelectorAll("a-entity").length),o("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))}function r(){}function n(){}function i(e){o=e}var o=null,a=e,s={te:{caption:"Entities"},lt:{caption:"Load Time"}},u=[{caption:"A-Frame",values:["te","lt"]}];return{update:t,start:r,end:n,attach:i,values:s,groups:u,fractions:[]}},"object"==typeof t&&(t.exports={aframeStats:window.aframeStats})},{}],90:[function(e,t,n){(function(r){var n=r.THREE=e("three");n.TextureLoader&&(n.TextureLoader.prototype.crossOrigin=""),n.ImageLoader&&(n.ImageLoader.prototype.crossOrigin=""),n.Cache&&(n.Cache.enabled=!0),e("../../node_modules/three/examples/js/loaders/OBJLoader"),e("../../node_modules/three/examples/js/loaders/MTLLoader"),e("../../node_modules/three/examples/js/loaders/ColladaLoader"),e("../../node_modules/three/examples/js/controls/VRControls"),e("../../node_modules/three/examples/js/effects/VREffect"),t.exports=n}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../node_modules/three/examples/js/controls/VRControls":16,"../../node_modules/three/examples/js/effects/VREffect":17,"../../node_modules/three/examples/js/loaders/ColladaLoader":18,"../../node_modules/three/examples/js/loaders/MTLLoader":19,"../../node_modules/three/examples/js/loaders/OBJLoader":20,three:21}],91:[function(e,t,r){function n(e){var t={fog:e.fog,color:new a.Color(e.color)};return t}var i=e("../core/shader").registerShader,o=e("../utils/src-loader"),a=e("../lib/three"),s=e("../utils/texture");t.exports.Component=i("flat",{schema:{color:{type:"color"},fog:{"default":!0},height:{"default":256},repeat:{"default":""},src:{"default":""},width:{"default":512}},init:function(e){return this.textureSrc=null,this.material=new a.MeshBasicMaterial(n(e)),this.updateTexture(e),this.material},update:function(e){return this.updateMaterial(e),this.updateTexture(e),this.material},updateTexture:function(e){var t=e.src,r=this.material;if(t){if(t===this.textureSrc)return;this.textureSrc=t,o.validateSrc(t,s.loadImage.bind(this,r,e),s.loadVideo.bind(this,r,e))}else s.updateMaterial(r,null)},updateMaterial:function(e){var t=this.material;e=n(e),Object.keys(e).forEach(function(r){t[r]=e[r]})}})},{"../core/shader":63,"../lib/three":90,"../utils/src-loader":103,"../utils/texture":105}],92:[function(e,t,r){e("./flat"),e("./standard")},{"./flat":91,"./standard":93}],93:[function(e,t,r){function n(e){var t={color:new a.Color(e.color),metalness:e.metalness,roughness:e.roughness};return t}var i=e("../core/shader").registerShader,o=e("../utils/src-loader"),a=e("../lib/three"),s=e("../utils/"),u=new a.CubeTextureLoader,c={};t.exports.Component=i("standard",{schema:{color:{type:"color"},envMap:{"default":""},fog:{"default":!0},height:{"default":256},metalness:{"default":0,min:0,max:1},repeat:{"default":""},src:{"default":""},roughness:{"default":.5,min:0,max:1},width:{"default":512}},init:function(e){return this.material=new a.MeshStandardMaterial(n(e)),this.updateTexture(e),this.updateEnvMap(e),this.material},update:function(e){return this.updateMaterial(e),this.updateTexture(e),this.updateEnvMap(e),this.material},updateTexture:function(e){var t=e.src,r=this.material;if(t){if(t===this.textureSrc)return;this.textureSrc=t,o.validateSrc(t,s.texture.loadImage.bind(this,r,e),s.texture.loadVideo.bind(this,r,e))}else s.texture.updateMaterial(r,null)},updateMaterial:function(e){var t=this.material;e=n(e),Object.keys(e).forEach(function(r){t[r]=e[r]})},updateEnvMap:function(e){var t=this,r=this.material,n=e.envMap;return!n||this.isLoadingEnvMap?(r.envMap=null,void(r.needsUpdate=!0)):(this.isLoadingEnvMap=!0,c[n]?void c[n].then(function(e){t.isLoadingEnvMap=!1,r.envMap=e,r.needsUpdate=!0}):void(c[n]=new Promise(function(e){o.validateCubemapSrc(n,function(n){u.load(n,function(n){t.isLoadingEnvMap=!1,r.envMap=n,e(n)})})})))}})},{"../core/shader":63,"../lib/three":90,"../utils/":102,"../utils/src-loader":103}],94:[function(e,t,r){var n="html{bottom:0;left:0;position:fixed;right:0;top:0}body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}a-assets,a-scene img,a-scene video{display:none}.a-enter-vr{align-items:flex-end;-webkit-align-items:flex-end;bottom:5px;display:flex;display:-webkit-flex;font-family:sans-serif,monospace;font-size:13px;font-weight:200;line-height:16px;height:72px;position:fixed;right:5px}.a-enter-vr-button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E) 50% 50%/70% 70% no-repeat rgba(0,0,0,.35);border:0;bottom:0;color:#FFF;cursor:pointer;height:50px;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;width:60px;z-index:999999}.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#666}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;color:#FFF;height:32px;margin-right:70px;padding:9px;width:280px;position:relative;display:none}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal p{margin:0;display:inline}.a-enter-vr-modal p:after{content:' '}.a-enter-vr-modal a{color:#FFF;display:inline}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{position:absolute;width:100%;height:100%;top:0;left:0;background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center center/50% 50% no-repeat rgba(244,244,244,1)}.a-orientation-modal:after{display:block;content:\"Insert phone into Cardboard holder.\";color:#333;font-family:sans-serif,monospace;font-size:13px;text-align:center;position:absolute;width:100%;top:70%;transform:translateY(-70%)}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E);width:50px;height:50px;border:none;text-indent:-9999px}@media (min-width:480px){.a-enter-vr{bottom:20px;right:20px}.a-enter-vr-modal{width:400px}}";
e("browserify-css").createStyle(n,{href:"src/style/aframe.css"}),t.exports=n},{"browserify-css":1}],95:[function(e,t,r){var n=".rs-base{background-color:#EF2D5E;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.75;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:50px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}";e("browserify-css").createStyle(n,{href:"src/style/rStats.css"}),t.exports=n},{"browserify-css":1}],96:[function(e,t,r){function n(e){var t,r=e.camera;r&&(t=e.querySelector("["+o+"]"),t&&e.removeChild(t))}var i=e("../core/system").registerSystem,o="data-aframe-default-camera";t.exports.System=i("camera",{init:function(){this.activeCameraEl=null,this.setupDefaultCamera()},setupDefaultCamera:function(){var e,t,r=this.sceneEl;setTimeout(function(){var n=r.querySelector("[camera]");return n&&n.isEntity?void r.emit("camera-ready",{cameraEl:n}):(e=document.createElement("a-entity"),e.setAttribute("position",{x:0,y:1.8,z:4}),e.setAttribute(o,""),t=document.createElement("a-entity"),t.setAttribute("camera",{active:!0}),t.setAttribute("wasd-controls"),t.setAttribute("look-controls"),e.appendChild(t),r.appendChild(e),void r.emit("camera-ready",{cameraEl:t}))})},disableActiveCamera:function(){var e=this.sceneEl,t=e.querySelectorAll("[camera]"),r=t[t.length-1];r.setAttribute("camera","active",!0)},setActiveCamera:function(e,t){var r,i,a=this.sceneEl,s=a.querySelectorAll("[camera]"),u=a.querySelector("["+o+"]"),c=u&&u.querySelector("[camera]");for(e!==c&&n(a),this.activeCameraEl=e,a.isPlaying&&e.play(),e.setAttribute("camera","active",!0),a.camera=t,a.emit("camera-set-active",{cameraEl:e}),i=0;i<s.length;i++)r=s[i],e!==r&&(r.setAttribute("camera","active",!1),r.pause())}})},{"../core/system":64}],97:[function(e,t,r){e("./camera"),e("./material"),e("./light")},{"./camera":96,"./light":98,"./material":99}],98:[function(e,t,r){var n=e("../core/system").registerSystem,i="data-aframe-default-light";t.exports.System=n("light",{init:function(){this.defaultLightsEnabled=null,this.setupDefaultLights()},registerLight:function(e){var t,r=this.sceneEl;if(this.defaultLightsEnabled&&!e.hasAttribute(i)){t=document.querySelectorAll("["+i+"]");for(var n=0;n<t.length;n++)r.removeChild(t[n]);this.defaultLightsEnabled=!1}},setupDefaultLights:function(){var e=this.sceneEl,t=document.createElement("a-entity"),r=document.createElement("a-entity");t.setAttribute("light",{color:"#fff",type:"ambient"}),t.setAttribute(i,""),e.appendChild(t),r.setAttribute("light",{color:"#fff",intensity:.2}),r.setAttribute("position",{x:-1,y:2,z:1}),r.setAttribute(i,""),e.appendChild(r),this.defaultLightsEnabled=!0}})},{"../core/system":64}],99:[function(e,t,r){var n=e("../core/system").registerSystem;t.exports.System=n("material",{init:function(){this.materials={}},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(e){delete this.materials[e.uuid]},updateMaterials:function(e){var t=this.materials;Object.keys(t).forEach(function(e){t[e].needsUpdate=!0})}})},{"../core/system":64}],100:[function(e,t,r){function n(e,t){var r,n={};return e&&"object"==typeof e?o(e):"string"!=typeof e||null===e?t:(r=e.trim().replace(/\s+/g," ").split(" "),n.x=r[0]||t&&t.x,n.y=r[1]||t&&t.y,n.z=r[2]||t&&t.z,n.w=r[3]||t&&t.w,o(n))}function i(e){return"object"!=typeof e?e:[e.x,e.y,e.z].join(" ")}function o(e){return Object.keys(e).forEach(function(t){return void 0===e[t]?void delete e[t]:void(e[t]=parseFloat(e[t],10))}),e}var a=/\s*(-?\d*\.{0,1}\d+)\s*(-?\d*\.{0,1}\d+)\s*(-?\d*\.{0,1}\d+)\s*/;t.exports.regex=a,t.exports.parse=n,t.exports.stringify=i,t.exports.isCoordinate=function(e){return a.test(e)}},{}],101:[function(e,t,r){(function(r){function n(e){var t=e.split(":");return t[t.length-1]}function i(e){var t=n(e),r=u.colors&&u.colors[t];return r||null}function o(){try{return window.localStorage}catch(e){}}var a=e("debug"),s=e("object-assign"),u={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},c=function(e){var t=a(e);return t.color=i(e),t};s(c,a);var l=o();l&&(parseInt(l.logs,10)||"true"===l.logs)?c.enable("*"):c.enable("*:error,*:info,*:warn"),r.browser&&(window.logs=c),t.exports=c}).call(this,e("_process"))},{_process:2,debug:3,"object-assign":9}],102:[function(e,t,r){function n(e,t){var r,n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(0===n.length)return e===t;for(r=0;r<n.length;++r)if(e[n[r]]!==t[n[r]])return!1;return!0}var i=e("deep-assign"),o=e("object-assign");t.exports.coordinates=e("./coordinates"),t.exports.debug=e("./debug"),t.exports.styleParser=e("./styleParser"),t.exports.texture=e("./texture"),t.exports.fireEvent=function(e,t,r){r=r||{},r.detail=r.detail||{},r.detail.target=r.detail.target||e;var n=new CustomEvent(t,r);n.target=e,e.dispatchEvent(n)},t.exports.error=function(e){throw new Error(e)},t.exports.warn=function(){console.warn.apply(console,arguments)},t.exports.log=function(){console.log.apply(console,arguments)},t.exports.extend=o,t.exports.extendDeep=i,t.exports.deepEqual=n,t.exports.diff=function(e,t){var r={},i=Object.keys(e);return Object.keys(t).forEach(function(e){-1===i.indexOf(e)&&i.push(e)}),i.forEach(function(i){var o=e[i],a=t[i],s=o&&a&&o.constructor===Object&&a.constructor===Object;(s&&!n(o,a)||!s&&o!==a)&&(r[i]=a)}),r},t.exports.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),a()&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e};var a=t.exports.isIOS=function(){return/iPad|iPhone|iPod/.test(navigator.platform)};t.exports.isLandscape=function(){return 90===window.orientation||-90===window.orientation},t.exports.shouldCaptureKeyEvent=function(e){return e.shiftKey||e.metaKey||e.altKey||e.ctrlKey?!1:document.activeElement===document.body},t.exports.splitString=function(e,t){"undefined"==typeof t&&(t=" ");var r=new RegExp(t,"g");return e=(e||"").replace(r,t),e.split(t)},t.exports.getElData=function(e,t){function r(t){e.hasAttribute(t)&&(n[t]=e.getAttribute(t))}t=t||{};var n={};return Object.keys(t).forEach(r),n},t.exports.getUrlParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=t.exec(location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},t.exports.isIframed=function(){return window.top!==window.self},t.exports.srcLoader=e("./src-loader")},{"./coordinates":100,"./debug":101,"./src-loader":103,"./styleParser":104,"./texture":105,"deep-assign":6,"object-assign":9}],103:[function(e,t,r){function n(e,t,r){var n,i,u,l=o(e);return l?void a(l,function(e){return e?void t(l):void r(l)}):(n=s(e))?(i=n&&"IMG"===n.tagName,u=n&&"VIDEO"===n.tagName,i?t(n):u?r(n):void c('"%s" does not point to a valid <img> or <video> element',e)):void 0}function i(e,t){function r(e){l.push(e),6===l.length&&t(l)}var i,o,a,u="",l=[];for(o=0;6>o;o++)u+="url((.+))s*,s*";if(a=e.match(u))for(o=1;7>o;o++)n(a[o],r);else if(i=s(e))return"A-CUBEMAP"===i.tagName&&i.srcs?t(i.srcs):void c('Selector "%s" does not point to <a-cubemap>',e)}function o(e){var t=e.match(/\url\((.+)\)/);if(t)return t[1]}function a(e,t){function r(){t(!0)}function n(){t(!1)}var i=new Image;i.addEventListener("load",r),i.addEventListener("error",n),i.src=e}function s(e){try{var t=document.querySelector(e);return t||c('No element was found matching the selector: "%s"',e),t}catch(r){return void c('"%s" is not a valid selector',e)}}var u=e("./debug"),c=u("utils:src-loader:warn");t.exports={parseUrl:o,validateSrc:n,validateCubemapSrc:i}},{"./debug":101}],104:[function(e,t,r){function n(e){function t(e){return e[1].toUpperCase()}return e.replace(/-([a-z])/g,t)}function i(e){var t=Object.keys(e),r={};return t.forEach(function(t){var i=n(t);r[i]=e[t]}),r}var o=e("style-attr");t.exports.parse=function(e){var t;return"string"!=typeof e?e:(t=o.parse(e),i(t))},t.exports.stringify=function(e){return"string"==typeof e?e:o.stringify(e)},t.exports.toCamelCase=n,t.exports.transformKeysToCamelCase=i},{"style-attr":15}],105:[function(e,t,r){function n(e,t,r){function n(t){a(e,t),i.emit(d.TEXTURE_LOADED,{src:r,texture:t})}var i=this.el,o=t.repeat||"1 1",u=r;return"string"!=typeof r&&(u=r.getAttribute("src")),m[r]&&m[r][o]?void m[r][o].then(n):(m[u]=m[u]||{},m[u][o]=m[u][o]||{},m[u][o]=s(e,r,o),void m[u][o].then(n))}function i(e,t,r){function n(t){s=t.texture,l=t.videoEl,a(e,s),f.emit(d.TEXTURE_LOADED,{element:l,src:r}),l.addEventListener("loadeddata",function(){f.emit("material-video-loadeddata",{element:l,src:r})}),l.addEventListener("ended",function(){f.emit("material-video-ended",{element:l,src:r})})}var i,s,l,h,f=this.el;if("string"!=typeof r){if(l=r,i=o(l),m[i])return void m[i].then(n);c(l)}return l=l||u(e,r,t.width,t.height),i=o(l),m[i]?void m[i].then(n):(s=new p.VideoTexture(l),s.minFilter=p.LinearFilter,h={texture:s,videoEl:l},m[i]=Promise.resolve(h),void n(h))}function o(e){var t,r,n,i=e.getAttribute("id");if(i)return i;for(r="",n={},t=0;t<e.attributes.length;t++)n[e.attributes[t].name]=e.attributes[t].value;return Object.keys(n).sort().forEach(function(e){r+=e+":"+n[e]+";"}),r}function a(e,t){var r=e.map;t&&(t.needsUpdate=!0),e.map=t,(null===r&&e.map||null===e.map&&r)&&(e.needsUpdate=!0)}function s(e,t,r){function n(e,n){function i(t){var n;t instanceof p.Texture||(t=new p.Texture(t)),n=r.split(" "),2===n.length&&(t.wrapS=p.RepeatWrapping,t.wrapT=p.RepeatWrapping,t.repeat.set(parseInt(n[0],10),parseInt(n[1],10))),e(t)}var o="string"!=typeof t;return o?void i(t):void v.load(t,i,function(){},function(e){f("`$s` could not be fetched (Error code: %s; Response: %s)",e.status,e.statusText)})}return new Promise(n)}function u(e,t,r,n){var i=e.videoEl||document.createElement("video");return i.width=r,i.height=n,i!==this.videoEl&&(i.setAttribute("webkit-playsinline",""),i.autoplay=!0,i.loop=!0,i.crossOrigin=!0,i.addEventListener("error",function(){g("`$s` is not a valid video",t)},!0),e.videoEl=i),i.src=t,i}function c(e){return e.autoplay="false"!==e.getAttribute("autoplay"),e.controls="false"!==e.getAttribute("controls"),"false"===e.getAttribute("loop")&&e.removeAttribute("loop"),"false"===e.getAttribute("preload")&&(e.preload="none"),e.hasAttribute("crossorigin")||(e.crossOrigin=!0),e.hasAttribute("webkit-playsinline")||e.setAttribute("webkit-playsinline",""),e}function l(){m={}}var h=e("./debug"),p=e("../lib/three"),d={TEXTURE_LOADED:"material-texture-loaded"},f=h("components:texture:error"),m={},v=new p.TextureLoader,g=h("components:texture:warn");t.exports={clearTextureCache:l,createVideoEl:u,fixVideoAttributes:c,loadImage:n,loadVideo:i,textureCache:m,updateMaterial:a}},{"../lib/three":90,"./debug":101}],106:[function(e,t,r){window.glStats=function(){function e(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function t(){o("allcalls").set(a+s),o("drawElements").set(s),o("drawArrays").set(a),o("bindTexture").set(p),o("useProgram").set(u),o("glfaces").set(c),o("glvertices").set(l),o("glpoints").set(h)}function r(){a=0,s=0,u=0,c=0,l=0,h=0,p=0}function n(){}function i(e){o=e}var o=null,a=0,s=0,u=0,c=0,l=0,h=0,p=0;WebGLRenderingContext.prototype.drawArrays=e(WebGLRenderingContext.prototype.drawArrays,function(){a++,arguments[0]==this.POINTS?h+=arguments[2]:l+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=e(WebGLRenderingContext.prototype.drawElements,function(){s++,c+=arguments[1]/3,l+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=e(WebGLRenderingContext.prototype.useProgram,function(){u++}),WebGLRenderingContext.prototype.bindTexture=e(WebGLRenderingContext.prototype.bindTexture,function(){p++});var d={allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},f=[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],m=[{base:"allcalls",steps:["drawelements","drawarrays"]}];return{update:t,start:r,end:n,attach:i,values:d,groups:f,fractions:m}},window.threeStats=function(e){function t(){o("renderer.info.memory.geometries").set(e.info.memory.geometries),o("renderer.info.memory.programs").set(e.info.memory.programs),o("renderer.info.memory.textures").set(e.info.memory.textures),o("renderer.info.render.calls").set(e.info.render.calls),o("renderer.info.render.faces").set(e.info.render.faces),o("renderer.info.render.points").set(e.info.render.points),o("renderer.info.render.vertices").set(e.info.render.vertices)}function r(){}function n(){}function i(e){o=e}var o=null,a={"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.memory.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.faces":{caption:"Faces",over:1e3},"renderer.info.render.points":{caption:"Points"},"renderer.info.render.vertices":{caption:"Vertices"}},s=[{caption:"Three.js - memory",values:["renderer.info.memory.geometries","renderer.info.memory.programs","renderer.info.memory.textures"]},{caption:"Three.js - render",values:["renderer.info.render.calls","renderer.info.render.faces","renderer.info.render.points","renderer.info.render.vertices"]}],u=[];return{update:t,start:r,end:n,attach:i,values:a,groups:s,fractions:u}},window.BrowserStats=function(){function e(e){var t=100,r=Math.floor(Math.log(e)/h);return Math.round(e*t/Math.pow(1024,r))/t}function t(){a=e(performance.memory.usedJSHeapSize),s=e(performance.memory.totalJSHeapSize),o("memory").set(a),o("total").set(s)}function r(){a=0}function n(){}function i(e){o=e}var o=null,a=0,s=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var u={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},c=[{caption:"Browser",values:["memory","total"]}],l=[{base:"total",steps:["memory"]}],h=Math.log(1024);return{update:t,start:r,end:n,attach:i,values:u,groups:c,fractions:l}},"object"==typeof t&&(t.exports={aframeStats:window.aframeStats,glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats})},{}],107:[function(e,t,r){"use strict";!function(){if("undefined"==typeof window.performance&&(window.performance={}),!window.performance.now){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}window.performance.mark||(window.performance.mark=function(){}),window.performance.measure||(window.performance.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var r=Object.keys(e),n=0,i=r.length;i>n;n++)t(r[n])}function r(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t)}function n(e,t,r){function n(){a.width=g,a.height=v,a.style.width=a.width+"px",a.style.height=a.height+"px",a.className="rs-canvas",e.appendChild(a),s.fillStyle="#444444",s.fillRect(0,0,a.width,a.height)}function i(e,t){c+=.1*(e-c),u*=.99,c>u&&(u=c),s.drawImage(a,1,0,a.width-1,a.height,0,0,a.width-1,a.height),t?s.drawImage(d,a.width-1,a.height-c*a.height/u-v):s.drawImage(h,a.width-1,a.height-c*a.height/u-v)}var o=r||{},a=document.createElement("canvas"),s=a.getContext("2d"),u=0,c=0,l=o.color?o.color:"#666666",h=document.createElement("canvas"),p=h.getContext("2d");h.width=1,h.height=2*v,p.fillStyle="#444444",p.fillRect(0,0,1,2*v),p.fillStyle=l,p.fillRect(0,v,1,v),p.fillStyle="#ffffff",p.globalAlpha=.5,p.fillRect(0,v,1,1),p.globalAlpha=1;var d=document.createElement("canvas"),f=d.getContext("2d");return d.width=1,d.height=2*v,f.fillStyle="#444444",f.fillRect(0,0,1,2*v),f.fillStyle="#b70000",f.fillRect(0,v,1,v),f.globalAlpha=.5,f.fillStyle="#ffffff",f.fillRect(0,v,1,1),f.globalAlpha=1,n(),{draw:i}}function i(e,r){function n(){o.width=g,o.height=v*r,o.style.width=o.width+"px",o.style.height=o.height+"px",o.className="rs-canvas",e.appendChild(o),a.fillStyle="#444444",a.fillRect(0,0,o.width,o.height)}function i(e){a.drawImage(o,1,0,o.width-1,o.height,0,0,o.width-1,o.height);var r=0;t(e,function(t){var n=e[t]*o.height;a.fillStyle=l[t],a.fillRect(o.width-1,r,1,n),r+=n})}var o=document.createElement("canvas"),a=o.getContext("2d");return n(),{draw:i}}function o(e,t){function r(e){if(S&&S.average){g+=e,b++;var t=performance.now();t-y>=(S.avgMs||1e3)&&(v=g/b,g=0,y=t,b=0)}}function i(){h=performance.now(),c.userTimingAPI&&performance.mark(p+"-start"),M=!0}function o(){d=performance.now()-h,c.userTimingAPI&&(performance.mark(p+"-end"),M&&performance.measure(p,p+"-start",p+"-end")),r(d)}function a(){o(),i()}function s(){var e=S&&S.average?v:d;E.nodeValue=Math.round(100*e)/100;var t=S&&(S.below&&d<S.below||S.over&&d>S.over);C.draw(d,t),_.style.color=t?"#b70000":"#ffffff"}function u(){var e=performance.now(),t=e-h;f++,t>1e3&&(d=S&&S.interpolate===!1?f:1e3*f/t,f=0,h=e,r(d))}function l(e){d=e,r(d)}var h,p=e,d=0,f=0,v=0,g=0,y=performance.now(),b=0,_=document.createElement("div"),x=document.createElement("span"),w=document.createElement("div"),E=document.createTextNode(""),S=c?c.values[p.toLowerCase()]:null,C=new n(_,p,S),M=!1;return _.className="rs-counter-base",x.className="rs-counter-id",x.textContent=S&&S.caption?S.caption:p,w.className="rs-counter-value",w.appendChild(E),_.appendChild(x),_.appendChild(w),t?t.div.appendChild(_):m.appendChild(_),h=performance.now(),{set:l,start:i,tick:a,end:o,frame:u,value:function(){return d},draw:s}}function a(e){var r=e.toLowerCase();if(void 0===r&&(r="default"),y[r])return y[r];var n=null;c&&c.groups&&t(c.groups,function(e){var t=c.groups[parseInt(e,10)];n||-1===t.values.indexOf(r.toLowerCase())||(n=t)});var i=new o(r,n);return y[r]=i,i}function s(){if(c.plugins){c.values||(c.values={}),c.groups||(c.groups=[]),c.fractions||(c.fractions=[]);for(var e=0;e<c.plugins.length;e++)c.plugins[e].attach(a),t(c.plugins[e].values,function(t){c.values[t]=c.plugins[e].values[t]}),c.groups=c.groups.concat(c.plugins[e].groups),c.fractions=c.fractions.concat(c.plugins[e].fractions)}else c.plugins={};f=document.createElement("div"),f.className="rs-base",m=document.createElement("div"),m.className="rs-container",m.style.height="auto",f.appendChild(m),document.body.appendChild(f),c&&(c.groups&&t(c.groups,function(e){var t=c.groups[parseInt(e,10)],r=document.createElement("div");r.className="rs-group",t.div=r;var n=document.createElement("h1");n.textContent=t.caption,n.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(r)),m.appendChild(n),m.appendChild(r)}),c.fractions&&t(c.fractions,function(e){var r=c.fractions[parseInt(e,10)],n=document.createElement("div");n.className="rs-fraction";var o=document.createElement("div");o.className="rs-legend";var a=0;t(c.fractions[e].steps,function(t){var r=document.createElement("p");r.textContent=c.fractions[e].steps[t],r.style.color=l[a],o.appendChild(r),a++}),n.appendChild(o),n.style.height=a*v+"px",r.div=n;var s=new i(n,a);r.graph=s,m.appendChild(n)}))}function u(){t(c.plugins,function(e){c.plugins[e].update()}),t(y,function(e){y[e].draw()}),c&&c.fractions&&t(c.fractions,function(e){var r=c.fractions[parseInt(e,10)],n=[],i=y[r.base.toLowerCase()];i&&(i=i.value(),t(c.fractions[e].steps,function(t){var r=c.fractions[e].steps[parseInt(t,10)].toLowerCase(),o=y[r];o&&n.push(o.value()/i)})),r.graph.draw(n)})}var c=e||{},l=c.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],h="//fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",p=(c.CSSPath?c.CSSPath:"")+"rStats.css",d=c.css||[h,p];d.forEach(function(e){r(e)}),c.values||(c.values={});var f,m,v=10,g=200,y={};return s(),function(e){return e?a(e):{element:f,update:u}}},"object"==typeof t&&(t.exports=window.rStats)},{}],108:[function(e,t,r){var n={};n.base64=function(e,t){return"data:"+e+";base64,"+t},n.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},n.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},n.isIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},n.appendQueryParameter=function(e,t,r){var n=e.indexOf("?")<0?"?":"&";return e+=n+t+"="+r},n.getQueryParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=t.exec(location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},n.isLandscapeMode=function(){return 90==window.orientation||-90==window.orientation},t.exports=n},{}],109:[function(e,t,r){function n(){var e=document.createElement("video");e.addEventListener("ended",function(){e.play()}),this.request=function(){e.paused&&(e.src=a.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),e.play())},this.release=function(){e.pause(),e.src=""}}function i(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}function o(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?i:n}var a=e("./util.js");t.exports=o()},{"./util.js":108}]},{},[88])(88)})}).call(r,function(){return this}(),n(89).setImmediate)},function(e,t,r){var n=r(44);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";var n={};e.exports=n},function(e,t,r){"use strict";function n(){return i?void 0:s(!1),i}var i,o=r(38),a=r(13),s=r(5),u={injectNetworkLayer:function(e){i=e},sendMutation:function(e){var t=n(),r=t.sendMutation(e);r&&o.resolve(r).done()},sendQueries:function(e){var t=n(),r=t.sendQueries(e);r&&o.resolve(r).done()},supports:function(){var e=n();return e.supports.apply(e,arguments)}};a.instrumentMethods(u,{sendMutation:"RelayNetworkLayer.sendMutation",sendQueries:"RelayNetworkLayer.sendQueries"}),e.exports=u},function(e,t,r){"use strict";var n=r(3)["default"],i=r(15)["default"],o=r(27),a=r(12),s=r(21),u=r(5),c=o.ID,l=o.NODE_TYPE,h=o.TYPENAME,p=a.Field.build({fieldName:c,type:"String"}),d=a.Field.build({fieldName:h,type:"String"}),f=function(){function e(t,r){n(this,e),t instanceof a.Root?(r?u(!1):void 0,this._name=t.getName()):(r?void 0:u(!1),this._name=r.getName()),this._node=t,this._parent=r}return e.prototype.isRootPath=function(){return!this._parent},e.prototype.getParent=function(){var e=this._parent;return e?void 0:u(!1),e},e.prototype.getName=function(){return this._name},e.prototype.getPath=function(t,r){if(s.isClientID(r))return new e(t,this);var n=a.Root.build(this.getName(),o.NODE,r,[p,d],{identifyingArgName:o.ID,identifyingArgType:o.ID_TYPE,isAbstract:!0,isDeferred:!1,isPlural:!1},l);return new e(n)},e.prototype.getQuery=function(e){for(var t=this._node,r=this,n=e;t instanceof a.Field||t instanceof a.Fragment;){var o=t instanceof a.Field?t.getInferredPrimaryKey():c;n=o?t.clone([n,t.getFieldByStorageKey(o),t.getFieldByStorageKey(h)]):t.clone([n]),r=r._parent,r?void 0:u(!1),t=r._node}n?void 0:u(!1),t instanceof a.Root?void 0:u(!1);var s=i({},t.getConcreteQueryNode().metadata),l=t.getIdentifyingArg();return l&&null!=l.name&&(s.identifyingArgName=l.name),a.Root.build(this.getName(),t.getFieldName(),l&&l.value||null,[n,t.getFieldByStorageKey(c),t.getFieldByStorageKey(h)],s,t.getType())},e}();e.exports=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={EXISTENT:"EXISTENT",NONEXISTENT:"NONEXISTENT",UNKNOWN:"UNKNOWN"};e.exports=r},function(e,t,r){"use strict";function n(e,t){function r(e,t){Array.isArray(e)?e.forEach(function(e){return r(e,t)}):null==e?t(e):("string"!=typeof e&&"number"!=typeof e?i(!1):void 0,t(""+e))}e.getBatchCall()?i(!1):void 0;var n=e.getIdentifyingArg(),o=n&&n.value||null;r(o,t)}var i=r(5);e.exports=n},function(e,t){"use strict";function r(e,t){return t===e.getType()||!t||e.isAbstract()}e.exports=r},function(e,t,r){"use strict";var n=r(278),i=r(551),o=r(291),a=r(300),s=r(301),u=r(6),c=(r(8),{}),l=null,h=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return h(e,!0)},d=function(e){return h(e,!1)},f=null,m={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){f=e},getInstanceHandle:function(){return f},injectEventPluginOrder:n.injectEventPluginOrder,injectEventPluginsByName:n.injectEventPluginsByName},eventNameDispatchConfigs:n.eventNameDispatchConfigs,
registrationNameModules:n.registrationNameModules,putListener:function(e,t,r){"function"!=typeof r?u(!1):void 0;var i=c[t]||(c[t]={});i[e]=r;var o=n.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,r)},getListener:function(e,t){var r=c[t];return r&&r[e]},deleteListener:function(e,t){var r=n.registrationNameModules[t];r&&r.willDeleteListener&&r.willDeleteListener(e,t);var i=c[t];i&&delete i[e]},deleteAllListeners:function(e){for(var t in c)if(c[t][e]){var r=n.registrationNameModules[t];r&&r.willDeleteListener&&r.willDeleteListener(e,t),delete c[t][e]}},extractEvents:function(e,t,r,i,o){for(var s,u=n.plugins,c=0;c<u.length;c++){var l=u[c];if(l){var h=l.extractEvents(e,t,r,i,o);h&&(s=a(s,h))}}return s},enqueueEvents:function(e){e&&(l=a(l,e))},processEventQueue:function(e){var t=l;l=null,e?s(t,p):s(t,d),l?u(!1):void 0,o.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=m},function(e,t,r){"use strict";function n(e,t,r){var n=t.dispatchConfig.phasedRegistrationNames[r];return y(e,n)}function i(e,t,r){var i=t?g.bubbled:g.captured,o=n(e,r,i);o&&(r._dispatchListeners=m(r._dispatchListeners,o),r._dispatchIDs=m(r._dispatchIDs,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,i,e)}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,i,e)}function s(e,t,r){if(r&&r.dispatchConfig.registrationName){var n=r.dispatchConfig.registrationName,i=y(e,n);i&&(r._dispatchListeners=m(r._dispatchListeners,i),r._dispatchIDs=m(r._dispatchIDs,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function c(e){v(e,o)}function l(e){v(e,a)}function h(e,t,r,n){f.injection.getInstanceHandle().traverseEnterLeave(r,n,s,e,t)}function p(e){v(e,u)}var d=r(41),f=r(85),m=(r(8),r(300)),v=r(301),g=d.PropagationPhases,y=f.getListener,b={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:l,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:h};e.exports=b},function(e,t){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(58),o=r(175),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var r=t.ownerDocument;return r?r.defaultView||r.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(n,a),e.exports=n},function(e,t,r){(function(e,n){function i(e,t){this._id=e,this._clearFn=t}var o=r(235).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var r=c++,n=arguments.length<2?!1:s.call(arguments,1);return u[r]=!0,o(function(){u[r]&&(n?e.apply(null,n):e.call(null),t.clearImmediate(r))}),r},t.clearImmediate="function"==typeof n?n:function(e){delete u[e]}}).call(t,r(89).setImmediate,r(89).clearImmediate)},function(e,t){"use strict";t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0},function(e,t,r){(function(e,n){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(e.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):u(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function a(t,r){if(t=m(t,0>r?0:0|v(r)),!e.TYPED_ARRAY_SUPPORT)for(var n=0;r>n;n++)t[n]=0;return t}function s(e,t,r){("string"!=typeof r||""===r)&&(r="utf8");var n=0|y(t,r);return e=m(e,n),e.write(t,r),e}function u(t,r){if(e.isBuffer(r))return c(t,r);if(K(r))return l(t,r);if(null==r)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(r.buffer instanceof ArrayBuffer)return h(t,r);if(r instanceof ArrayBuffer)return p(t,r)}return r.length?d(t,r):f(t,r)}function c(e,t){var r=0|v(t.length);return e=m(e,r),t.copy(e,0,0,r),e}function l(e,t){var r=0|v(t.length);e=m(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function h(e,t){var r=0|v(t.length);e=m(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function p(t,r){return e.TYPED_ARRAY_SUPPORT?(r.byteLength,t=e._augment(new Uint8Array(r))):t=h(t,new Uint8Array(r)),t}function d(e,t){var r=0|v(t.length);e=m(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function f(e,t){var r,n=0;"Buffer"===t.type&&K(t.data)&&(r=t.data,n=0|v(r.length)),e=m(e,n);for(var i=0;n>i;i+=1)e[i]=255&r[i];return e}function m(t,r){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(r)),t.__proto__=e.prototype):(t.length=r,t._isBuffer=!0);var n=0!==r&&r<=e.poolSize>>>1;return n&&(t.parent=Z),t}function v(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(t,r){if(!(this instanceof g))return new g(t,r);var n=new e(t,r);return delete n.parent,n}function y(e,t){"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,r){var n=!1;if(t=0|t,r=void 0===r||r===1/0?this.length:0|r,e||(e="utf8"),0>t&&(t=0),r>this.length&&(r=this.length),t>=r)return"";for(;;)switch(e){case"hex":return P(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return R(this,t,r);case"binary":return O(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;n>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[r+a]=s}return a}function x(e,t,r,n){return Q(H(t,e.length-r),e,r,n)}function w(e,t,r,n){return Q(G(t),e,r,n)}function E(e,t,r,n){return w(e,t,r,n)}function S(e,t,r,n){return Q(q(t),e,r,n)}function C(e,t,r,n){return Q(W(t,e.length-r),e,r,n)}function M(e,t,r){return 0===t&&r===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;r>i;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r>=i+s){var u,c,l,h;switch(s){case 1:128>o&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(h=(31&o)<<6|63&u,h>127&&(a=h));break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(h=(15&o)<<12|(63&u)<<6|63&c,h>2047&&(55296>h||h>57343)&&(a=h));break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(h=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,h>65535&&1114112>h&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return T(n)}function T(e){var t=e.length;if(J>=t)return String.fromCharCode.apply(String,e);for(var r="",n=0;t>n;)r+=String.fromCharCode.apply(String,e.slice(n,n+=J));return r}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(127&e[i]);return n}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(e[i]);return n}function P(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",o=t;r>o;o++)i+=z(e[o]);return i}function D(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(t,r,n,i,o,a){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(r>o||a>r)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range")}function k(e,t,r,n){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);o>i;i++)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(e,t,r,n){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);o>i;i++)e[r+i]=t>>>8*(n?i:3-i)&255}function F(e,t,r,n,i,o){if(t>i||o>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function j(e,t,r,n,i){return i||F(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),Y.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return i||F(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),Y.write(e,t,r,n,52,8),r+8}function B(e){if(e=V(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return 16>e?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;n>a;a++){if(r=e.charCodeAt(a),r>55295&&57344>r){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(56320>r){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>r){if((t-=1)<0)break;o.push(r)}else if(2048>r){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(65536>r){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function W(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function q(e){return X.toByteArray(B(e))}function Q(e,t,r,n){for(var i=0;n>i&&!(i+r>=t.length||i>=e.length);i++)t[i+r]=e[i];return i}var X=r(352),Y=r(406),K=r(353);t.Buffer=e,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var Z={};e.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:i(),e.TYPED_ARRAY_SUPPORT?(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array):(e.prototype.length=void 0,e.prototype.parent=void 0),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,r){if(!e.isBuffer(t)||!e.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,i=r.length,o=0,a=Math.min(n,i);a>o&&t[o]===r[o];)++o;return o!==a&&(n=t[o],i=r[o]),i>n?-1:n>i?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,r){if(!K(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;n++)r+=t[n].length;var i=new e(r),o=0;for(n=0;n<t.length;n++){var a=t[n];a.copy(i,o),o+=a.length}return i},e.byteLength=y,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):b.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,r){function n(e,t,r){for(var n=-1,i=0;r+i<e.length;i++)if(e[r+i]===t[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===t.length)return r+n}else n=-1;return-1}if(r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r>>=0,0===this.length)return-1;if(r>=this.length)return-1;if(0>r&&(r=Math.max(this.length+r,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,r);if(e.isBuffer(t))return n(this,t,r);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,r):n(this,[t],r);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=t,t=0|r,r=i}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(0>r||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":return w(this,e,t,r);case"binary":return E(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;e.prototype.slice=function(t,r){var n=this.length;t=~~t,r=void 0===r?n:~~r,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>r?(r+=n,0>r&&(r=0)):r>n&&(r=n),t>r&&(r=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=e._augment(this.subarray(t,r));else{var o=r-t;i=new e(o,void 0);for(var a=0;o>a;a++)i[a]=this[a+t]}return i.length&&(i.parent=this.parent||this),i},e.prototype.readUIntLE=function(e,t,r){e=0|e,t=0|t,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},e.prototype.readUIntBE=function(e,t,r){e=0|e,t=0|t,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},e.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,r){e=0|e,t=0|t,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},e.prototype.readIntBE=function(e,t,r){e=0|e,t=0|t,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),Y.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),Y.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),Y.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),Y.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||N(this,e,t,r,Math.pow(2,8*r),0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},e.prototype.writeUIntBE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||N(this,e,t,r,Math.pow(2,8*r),0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},e.prototype.writeUInt8=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},e.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):k(this,t,r,!0),r+2},e.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):k(this,t,r,!1),r+2},e.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):L(this,t,r,!0),r+4},e.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):L(this,t,r,!1),r+4},e.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=0|t,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var o=0,a=1,s=0>e?1:0;for(this[t]=255&e;++o<r&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+r},e.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=0|t,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+r},e.prototype.writeInt8=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[r]=255&t,r+1},e.prototype.writeInt16LE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):k(this,t,r,!0),r+2},e.prototype.writeInt16BE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):k(this,t,r,!1),r+2},e.prototype.writeInt32LE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):L(this,t,r,!0),r+4},e.prototype.writeInt32BE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):L(this,t,r,!1),r+4},e.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},e.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},e.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},e.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},e.prototype.copy=function(t,r,n,i){if(n||(n=0),i||0===i||(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var o,a=i-n;if(this===t&&r>n&&i>r)for(o=a-1;o>=0;o--)t[o+r]=this[o+n];else if(1e3>a||!e.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)t[o+r]=this[o+n];else t._set(this.subarray(n,n+a),r);return a},e.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),t>r)throw new RangeError("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof e)for(n=t;r>n;n++)this[n]=e;else{var i=H(e.toString()),o=i.length;for(n=t;r>n;n++)this[n]=i[n%o]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),r=0,n=t.length;n>r;r+=1)t[r]=this[r];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=$.get,t.set=$.set,t.write=$.write,t.toString=$.toString,t.toLocaleString=$.toString,t.toJSON=$.toJSON,t.equals=$.equals,t.compare=$.compare,t.indexOf=$.indexOf,t.copy=$.copy,t.slice=$.slice,t.readUIntLE=$.readUIntLE,t.readUIntBE=$.readUIntBE,t.readUInt8=$.readUInt8,t.readUInt16LE=$.readUInt16LE,t.readUInt16BE=$.readUInt16BE,t.readUInt32LE=$.readUInt32LE,t.readUInt32BE=$.readUInt32BE,t.readIntLE=$.readIntLE,t.readIntBE=$.readIntBE,t.readInt8=$.readInt8,t.readInt16LE=$.readInt16LE,t.readInt16BE=$.readInt16BE,t.readInt32LE=$.readInt32LE,t.readInt32BE=$.readInt32BE,t.readFloatLE=$.readFloatLE,t.readFloatBE=$.readFloatBE,t.readDoubleLE=$.readDoubleLE,t.readDoubleBE=$.readDoubleBE,t.writeUInt8=$.writeUInt8,t.writeUIntLE=$.writeUIntLE,t.writeUIntBE=$.writeUIntBE,t.writeUInt16LE=$.writeUInt16LE,t.writeUInt16BE=$.writeUInt16BE,t.writeUInt32LE=$.writeUInt32LE,t.writeUInt32BE=$.writeUInt32BE,t.writeIntLE=$.writeIntLE,t.writeIntBE=$.writeIntBE,t.writeInt8=$.writeInt8,t.writeInt16LE=$.writeInt16LE,t.writeInt16BE=$.writeInt16BE,t.writeInt32LE=$.writeInt32LE,t.writeInt32BE=$.writeInt32BE,t.writeFloatLE=$.writeFloatLE,t.writeFloatBE=$.writeFloatBE,t.writeDoubleLE=$.writeDoubleLE,t.writeDoubleBE=$.writeDoubleBE,t.fill=$.fill,t.inspect=$.inspect,t.toArrayBuffer=$.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,r(91).Buffer,function(){return this}())},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){e.exports=!r(94)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(92);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";var n=r(373)(!0);r(134)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){r(378);var n=r(64);n.NodeList=n.HTMLCollection=n.Array},function(e,t,r){"use strict";var n=r(6),i=function(e){var t,r={};e instanceof Object&&!Array.isArray(e)?void 0:n(!1);for(t in e)e.hasOwnProperty(t)&&(r[t]=t);return r};e.exports=i},function(e,t){"use strict";t.__esModule=!0;var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.canUseDOM=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e){return c.stringify(e).replace(/%20/g,"+")}function a(e){return function(){function t(e){if(null==e.query){var t=e.search;e.query=w(t.substring(1)),e[m]={search:t,searchBase:""}}return e}function r(e,t){var r,n=e[m],i=t?x(t):"";if(!n&&!i)return e;"string"==typeof e&&(e=p.parsePath(e));var o=void 0;o=n&&e.search===n.search?n.searchBase:e.search||"";var a=o;return i&&(a+=(a?"&":"?")+i),s({},e,(r={search:a},r[m]={search:a,searchBase:o},r))}function n(e){return S.listenBefore(function(r,n){h["default"](e,t(r),n)})}function a(e){return S.listen(function(r){e(t(r))})}function u(e){S.push(r(e,e.query))}function c(e){S.replace(r(e,e.query))}function l(e,t){return S.createPath(r(e,t||e.query))}function d(e,t){return S.createHref(r(e,t||e.query))}function g(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];var a=S.createLocation.apply(S,[r(e,e.query)].concat(i));return e.query&&(a.query=e.query),t(a)}function y(e,t,r){"string"==typeof t&&(t=p.parsePath(t)),u(s({state:e},t,{query:r}))}function b(e,t,r){"string"==typeof t&&(t=p.parsePath(t)),c(s({state:e},t,{query:r}))}var _=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],x=_.stringifyQuery,w=_.parseQueryString,E=i(_,["stringifyQuery","parseQueryString"]),S=e(E);return"function"!=typeof x&&(x=o),"function"!=typeof w&&(w=v),s({},S,{listenBefore:n,listen:a,push:u,replace:c,createPath:l,createHref:d,createLocation:g,pushState:f["default"](y,"pushState is deprecated; use push instead"),replaceState:f["default"](b,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=r(39),c=(n(u),r(430)),l=r(144),h=n(l),p=r(53),d=r(143),f=n(d),m="$searchBase",v=c.parse;t["default"]=a,e.exports=t["default"]},function(e,t,r){"use strict";e.exports=r(282)},function(e,t){"use strict";var r={APPEND:"append",PREPEND:"prepend",REMOVE:"remove",NODE_DELETE_HANDLER:"node_delete",RANGE_ADD_HANDLER:"range_add",RANGE_DELETE_HANDLER:"range_delete",HANDLER_TYPES:{},OPTIMISTIC_UPDATE:"optimistic",SERVER_UPDATE:"server",POLLER_UPDATE:"poller",UPDATE_TYPES:{},RANGE_OPERATIONS:{}};r.HANDLER_TYPES[r.NODE_DELETE_HANDLER]=!0,r.HANDLER_TYPES[r.RANGE_ADD_HANDLER]=!0,r.HANDLER_TYPES[r.RANGE_DELETE_HANDLER]=!0,r.UPDATE_TYPES[r.OPTIMISTIC_UPDATE]=!0,r.UPDATE_TYPES[r.SERVER_UPDATE]=!0,r.UPDATE_TYPES[r.POLLER_UPDATE]=!0,r.RANGE_OPERATIONS[r.APPEND]=!0,r.RANGE_OPERATIONS[r.PREPEND]=!0,r.RANGE_OPERATIONS[r.REMOVE]=!0,e.exports=r},function(e,t,r){"use strict";var n=r(3)["default"],i=r(15)["default"],o=r(45),a=r(28),s=r(5),u=(r(17),function(){function e(t,r,i,o){n(this,e),this._initialVariables=r||{},this._fragment=void 0,this._fragmentGetter=t,this._isContainerFragment=!1,this._isDeferred=!1,this._variableMapping=i,this._prepareVariables=o}return e.createForContainer=function(t,r,n,i){var o=new e(t,r,n,i);return o._isContainerFragment=!0,o},e.prototype.defer=function(){return this._isDeferred=!0,this},e.prototype["if"]=function(e){var t=o.getCallVariable(e);return t?void 0:s(!1),this._addCondition(function(e){return!!e[t.callVariableName]}),this},e.prototype.unless=function(e){var t=o.getCallVariable(e);return t?void 0:s(!1),this._addCondition(function(e){return!e[t.callVariableName]}),this},e.prototype._getFragment=function(){var e=this._fragment;return null==e&&(e=this._fragmentGetter(),this._fragment=e),e},e.prototype.getFragment=function(e){var t=this._conditions;return t&&!t.every(function(t){return t(e)})?null:this._getFragment()},e.prototype.getVariables=function(e,t){var r=i({},this._initialVariables),n=this._variableMapping;n&&a(n,function(e,n){var i=o.getCallVariable(e);i&&(e=t[i.callVariableName]),void 0===e||(r[n]=e)});var s=this._prepareVariables;return s&&(r=s(r,e)),r},e.prototype.isContainerFragment=function(){return this._isContainerFragment},e.prototype.isDeferred=function(){return this._isDeferred},e.prototype._addCondition=function(e){var t=this._conditions;t||(t=[],this._conditions=t),t.push(e)},e}());e.exports=u},function(e,t,r){"use strict";var n=r(4),i=n.PropTypes,o=r(251),a=r(252),s=r(263),u={Container:function(e,t,r){var n=e[t];return null==n?new Error(s("Required prop `%s` was not specified in `%s`.",t,r)):o(n)?null:new Error(s("Invalid prop `%s` supplied to `%s`, expected a RelayContainer.",t,r))},Context:function(e,t,r){var n=e[t];return a(n)?null:new Error(s("Invalid prop/context `%s` supplied to `%s`, expected `%s` to be an object conforming to the `RelayContext` interface.",t,r,n))},QueryConfig:i.shape({name:i.string.isRequired,params:i.object.isRequired,queries:i.object.isRequired})};e.exports=u},function(e,t,r){"use strict";var n=r(241);e.exports=new n},function(e,t,r){"use strict";function n(e){var t,r=e.value;return t=Array.isArray(r)?o(r).map(i).join(","):i(r),"."+e.name+"("+t+")"}function i(e){return null==e?"":"string"!=typeof e?JSON.stringify(e):e}var o=r(515);e.exports=n},function(e,t,r){"use strict";var n=r(510)["default"];t["default"]=function(e,t,r){return t in e?n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},t.__esModule=!0},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=r(38),o=function(){function e(){var t=this;n(this,e),this._settled=!1,this._promise=new i(function(e,r){t._resolve=e,t._reject=r})}return e.prototype.getPromise=function(){return this._promise},e.prototype.resolve=function(e){this._settled=!0,this._resolve(e)},e.prototype.reject=function(e){this._settled=!0,this._reject(e)},e.prototype.then=function(){return i.prototype.then.apply(this._promise,arguments)},e.prototype.done=function(){i.prototype.done.apply(this._promise,arguments)},e.prototype.isSettled=function(){return this._settled},e}();e.exports=o},function(e,t,r){"use strict";e.exports=r(354)},function(e,t){"use strict";function r(e,t,r){if(!e)return null;var i={};for(var o in e)n.call(e,o)&&(i[o]=t.call(r,e[o],o,e));return i}var n=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,r){"use strict";function n(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=f++,p[e[v]]={}),p[e[v]]}var i=r(41),o=r(85),a=r(278),s=r(566),u=r(34),c=r(299),l=r(7),h=r(178),p={},d=!1,f=0,m={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),g=l({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var r=t,o=n(r),s=a.registrationNameDependencies[e],u=i.topLevelTypes,c=0;c<s.length;c++){var l=s[c];o.hasOwnProperty(l)&&o[l]||(l===u.topWheel?h("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",r):h("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",r):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",r):l===u.topScroll?h("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",r):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):l===u.topFocus||l===u.topBlur?(h("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",r),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",r)):h("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",r),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",r)),o[u.topBlur]=!0,o[u.topFocus]=!0):m.hasOwnProperty(l)&&g.ReactEventListener.trapBubbledEvent(l,m[l],r),o[l]=!0)}},trapBubbledEvent:function(e,t,r){return g.ReactEventListener.trapBubbledEvent(e,t,r)},trapCapturedEvent:function(e,t,r){return g.ReactEventListener.trapCapturedEvent(e,t,r)},ensureScrollValueMonitoring:function(){if(!d){var e=c.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});u.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),e.exports=g},function(e,t,r){"use strict";var n={};e.exports=n},function(e,t,r){"use strict";var n=r(99),i=n({prop:null,context:null,childContext:null});e.exports=i},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(88),o=r(299),a=r(174),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(n,s),e.exports=n},function(e,t,r){"use strict";var n=r(6),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,r,i,o,a,s,u){this.isInTransaction()?n(!1):void 0;var c,l;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=e.call(t,r,i,o,a,s,u),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,r=e;r<t.length;r++){var n=t[r];try{this.wrapperInitData[r]=o.OBSERVED_ERROR,this.wrapperInitData[r]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[r]===o.OBSERVED_ERROR)try{this.initializeAll(r+1)}catch(i){}}}},closeAll:function(e){this.isInTransaction()?void 0:n(!1);for(var t=this.transactionWrappers,r=e;r<t.length;r++){var i,a=t[r],s=this.wrapperInitData[r];try{i=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(r+1)}catch(u){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};e.exports=o},function(e,t,r){"use strict";var n=!1;e.exports=n},function(e,t){"use strict";function r(e){return i[e]}function n(e){return(""+e).replace(o,r)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;e.exports=n},function(e,t,r){"use strict";var n=r(19),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(e,t){
e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),n.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&o.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var r=e.firstChild;1===r.data.length?e.removeChild(r):r.deleteData(0,1)}else e.innerHTML=t})}e.exports=a},function(e,t,r){"use strict";var n=r(1),i=function(){function e(e,t,r){this.kind=e,this.value=t,this.exception=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.exception);case"C":return e.complete&&e.complete()}},e.prototype["do"]=function(e,t,r){var n=this.kind;switch(n){case"N":return e&&e(this.value);case"E":return t&&t(this.exception);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this["do"](e,t,r)},e.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return n.Observable.of(this.value);case"E":return n.Observable["throw"](this.exception);case"C":return n.Observable.empty()}},e.createNext=function(t){return"undefined"!=typeof t?new e("N",t):this.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return this.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=i},function(e,t,r){"use strict";function n(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.mergeAll=n;var s=function(){function e(e){this.concurrent=e}return e.prototype.call=function(e){return new u(e,this.concurrent)},e}();t.MergeAllOperator=s;var u=function(e){function t(t,r){e.call(this,t),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(t,e),t.prototype._next=function(e){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,e))):this.buffer.push(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeAllSubscriber=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(30),o=function(e){function t(){e.apply(this,arguments),this.value=null,this.hasNext=!1}return n(t,e),t.prototype._subscribe=function(t){return this.hasCompleted&&this.hasNext&&t.next(this.value),e.prototype._subscribe.call(this,t)},t.prototype._next=function(e){this.value=e,this.hasNext=!0},t.prototype._complete=function(){var e=-1,t=this.observers,r=t.length;if(this.isUnsubscribed=!0,this.hasNext)for(;++e<r;){var n=t[e];n.next(this.value),n.complete()}else for(;++e<r;)t[e].complete();this.isUnsubscribed=!1,this.unsubscribe()},t}(i.Subject);t.AsyncSubject=o},function(e,t,r){"use strict";var n=r(75);t.rxSubscriber=n.SymbolShim["for"]("rxSubscriber")},function(e,t){"use strict";var r=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=function(e){function t(){e.call(this,"no elements in sequence"),this.name="EmptyError"}return r(t,e),t}(Error);t.EmptyError=n},function(e,t){"use strict";function r(e){return e instanceof Date&&!isNaN(+e)}t.isDate=r},function(e,t){"use strict";function r(e){return"function"==typeof e}t.isFunction=r},function(e,t,r){e.exports={"default":r(206),__esModule:!0}},function(e,t,r){"use strict";var n=r(347)["default"];t["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t.__esModule=!0},function(e,t,r){"use strict";var n=r(127)["default"];t["default"]=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.__esModule=!0},function(e,t,r){"use strict";var n=r(346)["default"],i=r(349)["default"];t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},t.__esModule=!0},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(61),i=r(214),o=r(213),a=r(77),s=r(139),u=r(141);e.exports=function(e,t,r,c){var l,h,p,d=u(e),f=n(r,c,t?2:1),m=0;if("function"!=typeof d)throw TypeError(e+" is not iterable!");if(o(d))for(l=s(e.length);l>m;m++)t?f(a(h=e[m])[0],h[1]):f(e[m]);else for(p=d.call(e);!(h=p.next()).done;)i(p,f,h.value,t)}},function(e,t,r){var n=r(131);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){"use strict";var n=r(368),i=r(62),o=r(136),a=r(63),s=r(78),u=r(64),c=r(366),l=r(137),h=r(33).getProto,p=r(36)("iterator"),d=!([].keys&&"next"in[].keys()),f="@@iterator",m="keys",v="values",g=function(){return this};e.exports=function(e,t,r,y,b,_,x){c(r,t,y);var w,E,S=function(e){if(!d&&e in T)return T[e];switch(e){case m:return function(){return new r(this,e)};case v:return function(){return new r(this,e)}}return function(){return new r(this,e)}},C=t+" Iterator",M=b==v,A=!1,T=e.prototype,R=T[p]||T[f]||b&&T[b],O=R||S(b);if(R){var P=h(O.call(new e));l(P,C,!0),!n&&s(T,f)&&a(P,p,g),M&&R.name!==v&&(A=!0,O=function(){return R.call(this)})}if(n&&!x||!d&&!A&&T[p]||a(T,p,O),u[t]=O,u[C]=g,b)if(w={values:M?O:S(v),keys:_?O:S(m),entries:M?S("entries"):O},x)for(E in w)E in T||o(T,E,w[E]);else i(i.P+i.F*(d||A),t,w);return w}},function(e,t,r){var n=r(136);e.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e}},function(e,t,r){e.exports=r(63)},function(e,t,r){var n=r(33).setDesc,i=r(78),o=r(36)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e}},function(e,t,r){var n=r(218),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(211),i=r(36)("iterator"),o=r(64);e.exports=r(26).getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[n(e)]:void 0}},function(e,t){"use strict";function r(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function n(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent("on"+t,r)}function i(){return window.location.href.split("#")[1]||""}function o(e){window.location.replace(window.location.pathname+window.location.search+"#"+e)}function a(){return window.location.pathname+window.location.search+window.location.hash}function s(e){e&&window.history.go(e)}function u(e,t){t(window.confirm(e))}function c(){var e=navigator.userAgent;return-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}function l(){var e=navigator.userAgent;return-1===e.indexOf("Firefox")}t.__esModule=!0,t.addEventListener=r,t.removeEventListener=n,t.getHashPath=i,t.replaceHashPath=o,t.getWindowPath=a,t.go=s,t.getUserConfirmation=u,t.supportsHistory=c,t.supportsGoWithoutReloadUsingHash=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return function(){return e.apply(this,arguments)}}t.__esModule=!0;var o=r(39);n(o);t["default"]=i,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){var n=e(t,r);e.length<2&&r(n)}t.__esModule=!0;var o=r(39);n(o);t["default"]=i,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){for(var t={},r=0;r<e.length;r++)if(g.isConnectionCall(e[r])){var n=e[r],i=n.name,o=n.value;if(Array.isArray(o)&&o.length&&(o=o[0]),null===o)continue;t[i]=o}return t.first?(isNaN(t.first)?_(!1):void 0,t.first=+t.first):t.last&&(isNaN(t.last)?_(!1):void 0,t.last=+t.last),t}function i(e){return e.hasOwnProperty("surrounds")||e.hasOwnProperty("find")}function o(e){var t=e.hasOwnProperty("first"),r=e.hasOwnProperty("last");return(t||r)&&!(t&&r)}function a(e){return e.hasOwnProperty("first")&&e.first>0||e.hasOwnProperty("last")&&e.last>0}function s(e){void 0===y.getDataID(e)?_(!1):void 0,void 0===e.node?_(!1):void 0}function u(e){e.forEach(s)}function c(e){return e.map(function(e){return w(e).substring(1)}).join(",")}var l=r(3)["default"],h=r(108)["default"],p=r(15)["default"],d=r(155)["default"],f=r(69)["default"],m=r(103),v=r(448),g=r(20),y=r(21),b=r(28),_=r(5),x=r(253),w=r(107),E=(r(17),g.END_CURSOR),S=g.HAS_NEXT_PAGE,C=g.HAS_PREV_PAGE,M=g.START_CURSOR,A=function(){function e(){l(this,e),this.reset()}return e.prototype.reset=function(){this._orderedSegments=[new v,new v],this._staticQueriesMap={},this._hasFirst=!1,this._hasLast=!1},e.prototype._resetSegment=function(e){e>=0&&e<this._orderedSegments.length?void 0:_(!1),this._orderedSegments[e]=new v},e.prototype._getSegmentIndexByCursor=function(e){for(var t=0;t<this._orderedSegments.length;t++)if(this._orderedSegments[t].containsEdgeWithCursor(e))return t;return null},e.prototype._getSegmentIndexByID=function(e){for(var t=0;t<this._orderedSegments.length;t++)if(this._orderedSegments[t].containsEdgeWithID(e))return t;return null},e.prototype._addStaticEdges=function(e,t){for(var r=c(e),n=[],i=[],o=0;o<t.length;o++){var a=t[o];n.push(y.getDataID(a)),i.push(a.cursor)}this._staticQueriesMap[r]={edgeIDs:n,cursors:i}},e.prototype.addItems=function(e,t,r){u(t);var a,s,c=n(e);return i(c)?void this._addStaticEdges(e,t):o(c)?null===c.before||null===c.after?void console.error("GraphQLRange received null as a cursor."):void(c.first?c.before&&!c.after?r[S]===!0?(0===this._getSegmentIndexByCursor(c.before)&&this._orderedSegments.unshift(new v),this._addAfterFirstItems(t,r[S],void 0,c.before)):this._addBeforeLastItems(t,r[C],c.before):(c.after||(s=0,a=this.getFirstSegment().getCount(),a&&(c.first>a||t.length>a)&&!this.getFirstSegment().getFirstCursor()&&this._resetSegment(s)),this._addAfterFirstItems(t,r[S],c.after,c.before)):c.last&&(c.after&&!c.before?r[C]===!0?(this._getSegmentIndexByCursor(c.after)===this._orderedSegments.length-1&&this._orderedSegments.push(new v),this._addBeforeLastItems(t,r[C],void 0,c.after)):this._addAfterFirstItems(t,r[S],c.after):(c.before||(s=this._orderedSegments.length-1,a=this.getLastSegment().getCount(),a&&(c.last>a||t.length>a)&&!this.getLastSegment().getLastCursor()&&this._resetSegment(s)),this._addBeforeLastItems(t,r[C],c.before,c.after)))):void console.error("GraphQLRange currently only handles first(<count>), after(<cursor>).first(<count>), last(<count>), before(<cursor>).last(<count>), before(<cursor>).first(<count>), and after(<cursor>).last(<count>)")},e.prototype.getFirstSegment=function(){return this._orderedSegments[0]},e.prototype.getLastSegment=function(){return this._orderedSegments[this._orderedSegments.length-1]},e.prototype._concatSegments=function(e){e+1<this._orderedSegments.length&&e>=0?void 0:_(!1);var t=this._orderedSegments[e],r=this._orderedSegments[e+1];t.concatSegment(r)?this._orderedSegments.splice(e+1,1):console.warn("GraphQLRange was unable to concat segment %d and segment %d",e,e+1)},e.prototype.prependEdge=function(e){s(e),this._hasFirst=!0,this._removeEdgeIfApplicable(e);var t=this.getFirstSegment();t.prependEdge(e)},e.prototype.appendEdge=function(e){s(e),this._hasLast=!0,this._removeEdgeIfApplicable(e);var t=this.getLastSegment();t.appendEdge(e)},e.prototype._removeEdgeIfApplicable=function(e){var t=y.getDataID(e),r=this._getSegmentIndexByID(t);null!=r&&this._orderedSegments[r].removeEdge(t)},e.prototype._removeEdgesIfApplicable=function(e){for(var t=0;t<e.length;t++)this._removeEdgeIfApplicable(e[t])},e.prototype._addAfterFirstItems=function(e,t,r,n){var i,o,a;if(void 0!==r){if(o=this._getSegmentIndexByCursor(r),null==o)return;if(i=this._orderedSegments[o],a=i.getLastCursor(),a!==r&&(e=this._reconcileAfterFirstEdges(i,e,r),r=a,!e))return}else if(o=0,i=this._orderedSegments[o],a=i.getLastCursor(),void 0!==a&&(e=this._reconcileAfterFirstEdges(i,e),r=a,!e))return;if(void 0!==n){if(o===this._orderedSegments.length-1)return void console.warn("GraphQLRange cannot add because there is no next segment");if(this._orderedSegments[o+1].getFirstCursor()!==n)return}void 0===r&&(this._hasFirst=!0),this._removeEdgesIfApplicable(e),i.addEdgesAfterCursor(e,r),t||(void 0!==n?this._concatSegments(o):(this._hasLast=!0,this._orderedSegments.splice(o+1,this._orderedSegments.length-1-o)))},e.prototype._reconcileAfterFirstEdges=function(e,t,r){var n=e.getMetadataAfterCursor(t.length+1,r),i=n.edgeIDs;if(!(i.length>t.length)){for(var o=0;o<i.length;o++)if(i[o]!==y.getDataID(t[o]))return;return t.slice(i.length)}},e.prototype._addBeforeLastItems=function(e,t,r,n){var i,o,a;if(void 0!==r){if(o=this._getSegmentIndexByCursor(r),null==o)return;if(i=this._orderedSegments[o],a=i.getFirstCursor(),a!==r&&(e=this._reconcileBeforeLastEdges(i,e,r),r=a,!e))return}else if(o=this._orderedSegments.length-1,i=this._orderedSegments[o],a=i.getFirstCursor(),void 0!==a&&(e=this._reconcileBeforeLastEdges(i,e,r),r=a,!e))return;if(void 0!==n){if(0===o)return void console.warn("GraphQLRange cannot add because there is no previous segment");if(this._orderedSegments[o-1].getLastCursor()!==n)return}void 0===r&&(this._hasLast=!0),this._removeEdgesIfApplicable(e),i.addEdgesBeforeCursor(e,r),t||(void 0!==n?this._concatSegments(o-1):(this._hasFirst=!0,this._orderedSegments.splice(0,o)))},e.prototype._reconcileBeforeLastEdges=function(e,t,r){var n=e.getMetadataBeforeCursor(t.length+1,r),i=n.edgeIDs;if(!(i.length>t.length)){for(var o=1;o<=i.length;o++)if(i[i.length-o]!==y.getDataID(t[t.length-o]))return;return t.slice(0,t.length-i.length)}},e.prototype.removeEdgeWithID=function(e){for(var t=0;t<this._orderedSegments.length;t++)this._orderedSegments[t].removeAllEdges(e)},e.prototype.retrieveRangeInfoForQuery=function(e,t){var r=n(e);return i(r)?this._retrieveRangeInfoForStaticCalls(e):o(r)?r.first&&r.before||r.last&&r.after?{requestedEdgeIDs:[],diffCalls:[],pageInfo:g.getDefaultPageInfo()}:a(r)?r.first?this._retrieveRangeInfoForFirstQuery(e,t):r.last?this._retrieveRangeInfoForLastQuery(e,t):void 0:(console.error("GraphQLRange only supports first(<count>) or last(<count>) where count is greater than 0"),{requestedEdgeIDs:[],diffCalls:[],pageInfo:g.getDefaultPageInfo()}):(console.error("GraphQLRange currently only handles first(<count>), after(<cursor>).first(<count>), last(<count>), before(<cursor>).last(<count>), before(<cursor>).first(<count>), and after(<cursor>).last(<count>)"),{requestedEdgeIDs:[],diffCalls:[],pageInfo:g.getDefaultPageInfo()})},e.prototype._retrieveRangeInfoForStaticCalls=function(e){var t=c(e),r=this._staticQueriesMap[t];if(r){var n;return{requestedEdgeIDs:r.edgeIDs,diffCalls:[],pageInfo:(n={},h(n,M,r.cursors[0]),h(n,E,r.cursors[r.cursors.length-1]),h(n,S,!0),h(n,C,!0),n)}}return{requestedEdgeIDs:[],diffCalls:e,pageInfo:g.getDefaultPageInfo()}},e.prototype._getAppendedIDsForQueuedRecord=function(e){return e[x[m.APPEND]]},e.prototype._getRemovedIDsForQueuedRecord=function(e){return e[x[m.REMOVE]]},e.prototype._getPrependedIDsForQueuedRecord=function(e){return e[x[m.PREPEND]]},e.prototype._retrieveRangeInfoForFirstQuery=function(e,t){var r=void 0,i=void 0,o=void 0;t&&(r=this._getAppendedIDsForQueuedRecord(t),i=this._getPrependedIDsForQueuedRecord(t),o=this._getRemovedIDsForQueuedRecord(t));var a,s,u=n(e),c=u.first+(o?o.length:0),l=p({},g.getDefaultPageInfo()),h=u.after;if(void 0!==h){if(s=this._getSegmentIndexByCursor(h),null==s)return console.warn("GraphQLRange cannot find a segment that has the cursor: "+h),{requestedEdgeIDs:[],diffCalls:[],pageInfo:l};a=this._orderedSegments[s]}else{var d=i?i.length:0;c-=d,s=0,a=this._orderedSegments[s]}var f=a.getMetadataAfterCursor(c,h),m=f.edgeIDs,v=f.cursors,y=[];v.length&&(l[M]=v[0],l[E]=v[v.length-1]);var b=m[m.length-1];if((!this._hasLast||s!==this._orderedSegments.length-1||b&&b!==a.getLastID())&&(l[S]=!0,m.length<c)){c-=m.length;var _=a.getLastCursor();if(null===_)y.push({name:"first",value:u.first});else{if(void 0!==_&&y.push({name:"after",value:_}),s!==this._orderedSegments.length-1){var x=this._orderedSegments[s+1],w=x.getFirstCursor();void 0!==w&&y.push({name:"before",value:w})}y.push({name:"first",value:c})}}return t&&(i&&i.length&&!u.after&&(m=i.concat(m)),r&&r.length&&!l[S]&&(m=m.concat(r)),o&&o.length&&(m=m.filter(function(e){return-1==o.indexOf(e)})),m.length>u.first&&(m=m.slice(0,u.first))),{requestedEdgeIDs:m,diffCalls:y,pageInfo:l}},e.prototype._retrieveRangeInfoForLastQuery=function(e,t){var r=void 0,i=void 0,o=void 0;t&&(r=this._getAppendedIDsForQueuedRecord(t),i=this._getPrependedIDsForQueuedRecord(t),o=this._getRemovedIDsForQueuedRecord(t));var a,s,u=n(e),c=u.last+(o?o.length:0),l=p({},g.getDefaultPageInfo()),h=u.before;if(void 0!==h){if(s=this._getSegmentIndexByCursor(h),null==s)return console.warn("GraphQLRange cannot find a segment that has the cursor: "+h),{requestedEdgeIDs:[],diffCalls:[],pageInfo:l};a=this._orderedSegments[s]}else{var d=r?r.length:0;c-=d,s=this._orderedSegments.length-1,a=this._orderedSegments[s]}var f=a.getMetadataBeforeCursor(c,h),m=f.edgeIDs,v=f.cursors,y=[];v.length&&(l[M]=v[0],l[E]=v[v.length-1]);var b=m[0];if((!this._hasFirst||0!==s||b&&b!==a.getFirstID())&&(l[C]=!0,m.length<c)){c-=m.length;var _=a.getFirstCursor();if(null===_)y.push({name:"last",value:u.last});else{if(void 0!==_&&y.push({name:"before",value:_}),0!==s){var x=this._orderedSegments[s-1],w=x.getLastCursor();void 0!==w&&y.push({name:"after",value:w})}y.push({name:"last",value:c})}}if(t&&(r&&r.length&&!u.before&&(m=m.concat(r)),i&&i.length&&!l[C]&&(m=i.concat(m)),o&&o.length&&(m=m.filter(function(e){return-1==o.indexOf(e)})),m.length>u.last)){var S=m.length;m=m.slice(S-u.last,S)}return{requestedEdgeIDs:m,diffCalls:y,pageInfo:l}},e.fromJSON=function(t){var r=d(t,4),n=r[0],i=r[1],o=r[2],a=r[3],s=new e;return s._hasFirst=n,s._hasLast=i,s._staticQueriesMap=o,s._orderedSegments=a.map(function(e){return v.fromJSON(e)}),s},e.prototype.toJSON=function(){return[this._hasFirst,this._hasLast,this._staticQueriesMap,this._orderedSegments]},e.prototype.__debug=function(){return{orderedSegments:this._orderedSegments}},e.prototype.getEdgeIDs=function(){var e=[];return this._orderedSegments.forEach(function(t){e.push.apply(e,f(t.getEdgeIDs()))}),b(this._staticQueriesMap,function(t){e.push.apply(e,f(t.edgeIDs))}),e},e}();e.exports=A},function(e,t,r){"use strict";var n=r(16)["default"],i=r(3)["default"],o=r(55),a=function(e){function t(){i(this,t),e.apply(this,arguments)}return n(t,e),t.prototype.traverse=function(e,t){if(!e.canHaveSubselections())return e;var r=void 0;return this.traverseChildren(e,t,function(e,n,i){var o=i[n],a=this.visit(o,t);a!==o&&(r=r||i.slice(0,n)),r&&a&&r.push(a)},this),r?r.length?e.clone(r):null:e},t}(o);e.exports=a},function(e,t){"use strict";function r(e,t,r){return e=e||0,t?e|r:e&~r}function n(e,t){return 0!=((e||0)&t)}var i=1,o=2,a=4,s={setOptimisticStatus:function(e,t){return r(e,t,i)},isOptimisticStatus:function(e){return n(e,i)},setErrorStatus:function(e,t){return r(e,t,o)},isErrorStatus:function(e){return n(e,o)},setPartialStatus:function(e,t){return r(e,t,a)},isPartialStatus:function(e){return n(e,a)}};e.exports=s},function(e,t,r){"use strict";var n=(r(38),r(482)),i=void 0,o=void 0,a={enqueue:function(){var e;return i||(i=new n(o)),(e=i).enqueue.apply(e,arguments)},injectScheduler:function(e){o=e,i&&i.injectScheduler(o)}};e.exports=a},function(e,t,r){"use strict";function n(e,t){var r=e.length;return r>t}function i(e){return p(e,function(e,t){return u.createCallVariable(t)})}var o=r(15)["default"],a=r(69)["default"];Object.defineProperty(t,"__esModule",{value:!0});var s=r(110),u=r(45),c=r(13),l=r(514),h=r(5),p=r(111),d=new s,f=new s,m={Fragment:function(e,t){var r=d.get(e);if(!r){var o=i(t);n(e,1)?h(!1):void 0,r=e(o),d.set(e,r)}return r?u.getFragment(r):void 0},Query:function(e,t,r,c){var p=f.get(e),d=void 0;if(p?d=p.get(t):(p=new s,f.set(e,p)),!d){var m=i(c);if(n(e,2)?h(!1):void 0,n(e,0))d=e(t,m);else{d=e(t,m);var v=u.getQuery(d);v&&!function(){var e=!1,n=!0;if(v.children&&v.children.forEach(function(t){t&&(e=e||"Fragment"===t.kind,n=n&&"Field"===t.kind&&(!t.children||0===t.children.length))}),!e){var i=v.children?[].concat(a(v.children)):[];n?void 0:h(!1);var s=l(m,function(e,r){return t.hasVariable(r)});i.push(t.getFragment(r,s)),d=o({},v,{children:i})}}()}p.set(t,d)}return d?u.getQuery(d)||void 0:null}};c.instrumentMethods(m,{Fragment:"buildRQL.Fragment",Query:"buildRQL.Query"}),e.exports=m},function(e,t,r){"use strict";function n(e,t){for(var r=e,n=[],o=0;o<r.length;o++){var a=r[o],s=a.name,u=a.value;null!=u&&(u=Array.isArray(u)?u.map(function(e){return i(e,t)}):"BatchCallVariable"===u.kind?null:i(u,t)),n.push({name:s,value:u})}return n}function i(e,t){if("CallValue"===e.kind)return e.callValue;var r=e.callVariableName;return t.hasOwnProperty(r)?void 0:o(!1),t[r]}var o=r(5);e.exports=n},function(e,t,r){"use strict";function n(e,t){var r=new p(t&&t.shouldRemoveFragments),n={node:e,type:e.getType(),flattenedFieldMap:new u,flattenedFragmentMap:new u};return r.traverse(e,n),i(e,n,!(!t||!t.preserveEmptyNodes))}function i(e,t,r){var n=t.flattenedFieldMap,o=t.flattenedFragmentMap,a=[],u=s(n.keys()).sort(h);return u.forEach(function(e){var t=n.get(e);t&&a.push(i(t.node,t,r))}),s(o.keys()).forEach(function(e){var t=o.get(e);t&&a.push(i(t.node,t,r))}),r&&e.canHaveSubselections()&&!a.length?e:e.clone(a)}var o=r(16)["default"],a=r(3)["default"],s=r(257)["default"];Object.defineProperty(t,"__esModule",{value:!0});var u=r(110),c=r(13),l=(r(12),r(55)),h=r(501),p=function(e){function t(r){a(this,t),e.call(this),this._shouldRemoveFragments=!!r}return o(t,e),t.prototype.visitFragment=function(e,t){var r=e.getType();if(this._shouldRemoveFragments||r===t.type)return void this.traverse(e,t);var n=t.flattenedFragmentMap.get(r);n||(n={node:e,type:r,flattenedFieldMap:new u,flattenedFragmentMap:new u},t.flattenedFragmentMap.set(r,n)),this.traverse(e,n)},t.prototype.visitField=function(e,t){var r=e.getShallowHash(),n=t.flattenedFieldMap.get(r);n||(n={node:e,type:e.getType(),flattenedFieldMap:new u,flattenedFragmentMap:new u},t.flattenedFieldMap.set(r,n)),this.traverse(e,n)},t}(l);e.exports=c.instrument("flattenRelayQuery",n)},function(e,t,r){"use strict";function n(){return s+a++}var i=r(260),o=r(518),a=1,s="client:"+i(""+o());e.exports=n},function(e,t,r){"use strict";e.exports=r(499)},function(e,t,r){e.exports={"default":r(206),__esModule:!0}},function(e,t,r){"use strict";var n=r(507)["default"],i=r(508)["default"];t["default"]=function(){function e(e,t){var r=[],i=!0,o=!1,a=void 0;try{for(var s,u=n(e);!(i=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(c){o=!0,a=c}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(i(Object(t)))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t.__esModule=!0},function(e,t){(function(t){"use strict";if(t.ErrorUtils)e.exports=t.ErrorUtils;else{var r={applyWithGuard:function(e,t,r,n,i){return e.apply(t,r)},guard:function(e,t){return e}};e.exports=r}}).call(t,function(){return this}())},function(e,t){"use strict";function r(e){if(!e)return"0";for(var t="";e>0;)t=n[e%62]+t,e=Math.floor(e/62);return t}var n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";e.exports=r},function(e,t){"use strict";function r(e){return function(){return e}}function n(){}n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t){"use strict";var r=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")};e.exports=r},function(e,t){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function n(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){"use strict";function r(e,t,r){function n(){return s=!0,u?void(l=[].concat(i.call(arguments))):void r.apply(this,arguments)}function o(){if(!s&&(c=!0,!u)){for(u=!0;!s&&e>a&&c;)c=!1,t.call(this,a++,o,n);return u=!1,s?void r.apply(this,l):void(a>=e&&c&&(s=!0,r()))}}var a=0,s=!1,u=!1,c=!1,l=void 0;o()}function n(e,t,r){function n(e,t,n){a||(t?(a=!0,r(t)):(o[e]=n,a=++s===i,a&&r(null,o)))}var i=e.length,o=[];if(0===i)return r(null,o);var a=!1,s=0;e.forEach(function(e,r){t(e,r,function(e,t){n(r,e,t)})})}t.__esModule=!0;var i=Array.prototype.slice;t.loopAsync=r,t.mapAsync=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(23),a=n(o),s=r(4),u=n(s),c=r(272),l=(n(c),r(273)),h=n(l),p=r(46),d=r(22),f=(n(d),u["default"].PropTypes),m=f.array,v=f.func,g=f.object,y=u["default"].createClass({displayName:"RouterContext",propTypes:{history:g,router:g.isRequired,location:g.isRequired,routes:m.isRequired,params:g.isRequired,components:m.isRequired,createElement:v.isRequired},getDefaultProps:function(){return{createElement:u["default"].createElement}},childContextTypes:{history:g,location:g.isRequired,router:g.isRequired},getChildContext:function(){var e=this.props,t=e.router,r=e.history,n=e.location;return t||(t=i({},r,{setRouteLeaveHook:r.listenBeforeLeavingRoute}),delete t.listenBeforeLeavingRoute),{history:r,location:n,router:t}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,r=t.history,n=t.location,o=t.routes,s=t.params,c=t.components,l=null;return c&&(l=c.reduceRight(function(t,a,u){if(null==a)return t;var c=o[u],l=h["default"](c,s),d={history:r,location:n,params:s,route:c,routeParams:l,routes:o};if(p.isReactChildren(t))d.children=t;else if(t)for(var f in t)t.hasOwnProperty(f)&&(d[f]=t[f]);if("object"==typeof a){var m={};for(var v in a)a.hasOwnProperty(v)&&(m[v]=e.createElement(a[v],i({key:v},d)));return m}return e.createElement(a,d)},l)),null===l||l===!1||u["default"].isValidElement(l)?void 0:a["default"](!1),l}});t["default"]=y,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function o(e,t){function r(t){var r=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=void 0;return r&&r!==!0||null!==n?(t={pathname:t,query:r},i=n||!1):(t=e.createLocation(t),i=r),d["default"](t,i,x.location,x.routes,x.params)}function n(t){return e.createLocation(t,u.REPLACE)}function o(e,r){w&&w.location===e?s(w,r):g["default"](t,e,function(t,n){t?r(t):n?s(a({},n,{location:e}),r):r()})}function s(e,t){var r=l["default"](x,e),i=r.leaveRoutes,o=r.enterRoutes;h.runLeaveHooks(i),i.forEach(y),h.runEnterHooks(o,e,function(r,i){r?t(r):i?t(null,n(i)):m["default"](e,function(r,n){r?t(r):t(null,null,x=a({},e,{components:n}))})})}function c(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];return e.__id__||t&&(e.__id__=E++)}function p(e){return e.reduce(function(e,t){return e.push.apply(e,S[c(t)]),e},[])}function f(e,r){g["default"](t,e,function(t,n){if(null==n)return void r();w=a({},n,{location:e});for(var i=p(l["default"](x,w).leaveRoutes),o=void 0,s=0,u=i.length;null==o&&u>s;++s)o=i[s](e);r(o)})}function v(){if(x.routes){for(var e=p(x.routes),t=void 0,r=0,n=e.length;"string"!=typeof t&&n>r;++r)t=e[r]();return t}}function y(e){var t=c(e,!1);t&&(delete S[t],i(S)||(C&&(C(),C=null),M&&(M(),M=null)))}function b(t,r){var n=c(t),o=S[n];if(o)-1===o.indexOf(r)&&o.push(r);else{var a=!i(S);S[n]=[r],a&&(C=e.listenBefore(f),e.listenBeforeUnload&&(M=e.listenBeforeUnload(v)))}return function(){var e=S[n];if(e){var i=e.filter(function(e){return e!==r});0===i.length?y(t):S[n]=i}}}function _(t){return e.listen(function(r){x.location===r?t(null,x):o(r,function(r,n,i){r?t(r):n?e.transitionTo(n):i&&t(null,i)})})}var x={},w=void 0,E=1,S={},C=void 0,M=void 0;return{isActive:r,match:o,listenBeforeLeavingRoute:b,listen:_}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=o;var s=r(22),u=(n(s),r(65)),c=r(535),l=n(c),h=r(533),p=r(538),d=n(p),f=r(536),m=n(f),v=r(540),g=n(v);e.exports=t["default"]},function(e,t,r){"use strict";function n(){this._callbacks=null,this._contexts=null}var i=r(48),o=r(7),a=r(6);o(n.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(n),e.exports=n},function(e,t,r){"use strict";function n(e){return l.hasOwnProperty(e)?!0:c.hasOwnProperty(e)?!1:u.test(e)?(l[e]=!0,!0):(c[e]=!0,!1)}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var o=r(72),a=r(34),s=r(596),u=(r(8),/^[a-zA-Z_][\w\.\-]*$/),c={},l={},h={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var r=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(r){if(i(r,t))return"";var n=r.attributeName;return r.hasBooleanValue||r.hasOverloadedBooleanValue&&t===!0?n+'=""':n+"="+s(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+s(t):null},createMarkupForCustomAttribute:function(e,t){return n(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,r){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var a=n.mutationMethod;if(a)a(e,r);else if(i(n,r))this.deleteValueForProperty(e,t);else if(n.mustUseAttribute){var s=n.attributeName,u=n.attributeNamespace;u?e.setAttributeNS(u,s,""+r):n.hasBooleanValue||n.hasOverloadedBooleanValue&&r===!0?e.setAttribute(s,""):e.setAttribute(s,""+r)}else{var c=n.propertyName;n.hasSideEffects&&""+e[c]==""+r||(e[c]=r)}}else o.isCustomAttribute(t)&&h.setValueForAttribute(e,t,r)},setValueForAttribute:function(e,t,r){n(t)&&(null==r?e.removeAttribute(t):e.setAttribute(t,""+r));
},deleteValueForProperty:function(e,t){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var n=r.mutationMethod;if(n)n(e,void 0);else if(r.mustUseAttribute)e.removeAttribute(r.attributeName);else{var i=r.propertyName,a=o.getDefaultValueForProperty(e.nodeName,i);r.hasSideEffects&&""+e[i]===a||(e[i]=a)}}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};a.measureMethods(h,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),e.exports=h},function(e,t,r){"use strict";function n(e){null!=e.checkedLink&&null!=e.valueLink?c(!1):void 0}function i(e){n(e),null!=e.value||null!=e.onChange?c(!1):void 0}function o(e){n(e),null!=e.checked||null!=e.onChange?c(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=r(297),u=r(114),c=r(6),l=(r(8),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),h={value:function(e,t,r){return!e[t]||l[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,r){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},p={},d={checkPropTypes:function(e,t,r){for(var n in h){if(h.hasOwnProperty(n))var i=h[n](t,n,e,u.prop);if(i instanceof Error&&!(i.message in p)){p[i.message]=!0;a(r)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=d},function(e,t,r){"use strict";var n=r(169),i=r(25),o={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:n.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};e.exports=o},function(e,t,r){"use strict";var n=r(6),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?n(!1):void 0,o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t,r){"use strict";var n=r(277),i=r(165),o=r(25),a=r(34),s=r(6),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},c={updatePropertyByID:function(e,t,r){var n=o.getNode(e);u.hasOwnProperty(t)?s(!1):void 0,null!=r?i.setValueForProperty(n,t,r):i.deleteValueForProperty(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var r=o.getNode(e);n.dangerouslyReplaceNodeWithMarkup(r,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var r=0;r<e.length;r++)e[r].parentNode=o.getNode(e[r].parentID);n.processUpdates(e,t)}};a.measureMethods(c,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=c},function(e,t,r){"use strict";function n(e){s.enqueueUpdate(e)}function i(e,t){var r=a.get(e);return r?r:null}var o=(r(42),r(29)),a=r(87),s=r(35),u=r(7),c=r(6),l=(r(8),{isMounted:function(e){var t=a.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t){"function"!=typeof t?c(!1):void 0;var r=i(e);return r?(r._pendingCallbacks?r._pendingCallbacks.push(t):r._pendingCallbacks=[t],void n(r)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?c(!1):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],n(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,n(t))},enqueueReplaceState:function(e,t){var r=i(e,"replaceState");r&&(r._pendingStateQueue=[t],r._pendingReplaceState=!0,n(r))},enqueueSetState:function(e,t){var r=i(e,"setState");if(r){var o=r._pendingStateQueue||(r._pendingStateQueue=[]);o.push(t),n(r)}},enqueueSetProps:function(e,t){var r=i(e,"setProps");r&&l.enqueueSetPropsInternal(r,t)},enqueueSetPropsInternal:function(e,t){var r=e._topLevelWrapper;r?void 0:c(!1);var i=r._pendingElement||r._currentElement,a=i.props,s=u({},a.props,t);r._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(a,s)),n(r)},enqueueReplaceProps:function(e,t){var r=i(e,"replaceProps");r&&l.enqueueReplacePropsInternal(r,t)},enqueueReplacePropsInternal:function(e,t){var r=e._topLevelWrapper;r?void 0:c(!1);var i=r._pendingElement||r._currentElement,a=i.props;r._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(a,t)),n(r)},enqueueElementInternal:function(e,t){e._pendingElement=t,n(e)}});e.exports=l},function(e,t){"use strict";e.exports="0.14.7"},function(e,t,r){"use strict";function n(e){return null==e?null:1===e.nodeType?e:i.has(e)?o.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?a(!1):void 0,void a(!1))}var i=(r(42),r(87)),o=r(25),a=r(6);r(8);e.exports=n},function(e,t){"use strict";function r(e){var t,r=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===r&&(t=13)):t=r,t>=32||13===t?t:0}e.exports=r},function(e,t){"use strict";function r(e){var t=this,r=t.nativeEvent;if(r.getModifierState)return r.getModifierState(e);var n=i[e];return n?!!r[n]:!1}function n(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=n},function(e,t){"use strict";function r(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}e.exports=r},function(e,t){"use strict";function r(e){var t=e&&(n&&e[n]||e[i]);return"function"==typeof t?t:void 0}var n="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=r},function(e,t,r){"use strict";function n(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e){var t;if(null===e||e===!1)t=new a(i);else if("object"==typeof e){var r=e;!r||"function"!=typeof r.type&&"string"!=typeof r.type?c(!1):void 0,t="string"==typeof r.type?s.createInternalComponent(r):n(r.type)?new r.type(r):new l}else"string"==typeof e||"number"==typeof e?t=s.createInstanceForText(e):c(!1);return t.construct(e),t._mountIndex=0,t._mountImage=null,t}var o=r(557),a=r(289),s=r(295),u=r(7),c=r(6),l=(r(8),function(){});u(l.prototype,o.Mixin,{_instantiateReactComponent:i}),e.exports=i},function(e,t,r){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function n(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,n=r in document;if(!n){var a=document.createElement("div");a.setAttribute(r,"return;"),n="function"==typeof a[r]}return!n&&i&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var i,o=r(19);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=n},function(e,t,r){"use strict";var n=r(19),i=r(118),o=r(119),a=function(e,t){e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){o(e,i(t))})),e.exports=a},function(e,t){"use strict";function r(e,t){var r=null===e||e===!1,n=null===t||t===!1;if(r||n)return r===n;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=r},function(e,t,r){"use strict";function n(e){return m[e]}function i(e,t){return e&&null!=e.key?a(e.key):t.toString(36)}function o(e){return(""+e).replace(v,n)}function a(e){return"$"+o(e)}function s(e,t,r,n){var o=typeof e;if(("undefined"===o||"boolean"===o)&&(e=null),null===e||"string"===o||"number"===o||c.isValidElement(e))return r(n,e,""===t?d+i(e,0):t),1;var u,l,m=0,v=""===t?d:t+f;if(Array.isArray(e))for(var g=0;g<e.length;g++)u=e[g],l=v+i(u,g),m+=s(u,l,r,n);else{var y=h(e);if(y){var b,_=y.call(e);if(y!==e.entries)for(var x=0;!(b=_.next()).done;)u=b.value,l=v+i(u,x++),m+=s(u,l,r,n);else for(;!(b=_.next()).done;){var w=b.value;w&&(u=w[1],l=v+a(w[0])+f+i(u,0),m+=s(u,l,r,n))}}else if("object"===o){String(e);p(!1)}}return m}function u(e,t,r){return null==e?0:s(e,"",t,r)}var c=(r(42),r(29)),l=r(73),h=r(176),p=r(6),d=(r(8),l.SEPARATOR),f=":",m={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g;e.exports=u},function(e,t,r){"use strict";var n=(r(7),r(37)),i=(r(8),n);e.exports=i},function(e,t,r){"use strict";var n=r(30);t.Subject=n.Subject;var i=r(1);t.Observable=i.Observable,r(603),r(604),r(614),r(616),r(601),r(602),r(605),r(606),r(607),r(608),r(609),r(610),r(611),r(612),r(613),r(615),r(617),r(618),r(619),r(620),r(621),r(622),r(623),r(624),r(625),r(626),r(627),r(628),r(629),r(630),r(631),r(632),r(633),r(634),r(640),r(635),r(636),r(637),r(638),r(639),r(641),r(642),r(644),r(645),r(646),r(647),r(648),r(649),r(650),r(651),r(643),r(652),r(653),r(654),r(655),r(656),r(657),r(658),r(659),r(660),r(661),r(662),r(663),r(664),r(665),r(666),r(668),r(667),r(669),r(670),r(671),r(672),r(673),r(674),r(675),r(676),r(677),r(678),r(679),r(680),r(681),r(682),r(683),r(684),r(685),r(686),r(687),r(688),r(689),r(690),r(691),r(692),r(693),r(694),r(695),r(696),r(697),r(698),r(699),r(700),r(701),r(702),r(703),r(704);var o=r(304);t.Operator=o.Operator;var a=r(31);t.Subscription=a.Subscription,t.UnsubscriptionError=a.UnsubscriptionError;var s=r(2);t.Subscriber=s.Subscriber;var u=r(122);t.AsyncSubject=u.AsyncSubject;var c=r(316);t.ReplaySubject=c.ReplaySubject;var l=r(315);t.BehaviorSubject=l.BehaviorSubject;var h=r(305);t.ConnectableObservable=h.ConnectableObservable;var p=r(120);t.Notification=p.Notification;var d=r(124);t.EmptyError=d.EmptyError;var f=r(191);t.ArgumentOutOfRangeError=f.ArgumentOutOfRangeError;var m=r(192);t.ObjectUnsubscribedError=m.ObjectUnsubscribedError;var v=r(32),g=r(314),y=r(123),b={asap:v.asap,queue:g.queue};t.Scheduler=b;var _={rxSubscriber:y.rxSubscriber};t.Symbol=_},function(e,t,r){"use strict";function n(e){var t=e.value,r=e.subscriber;r.isUnsubscribed||(r.next(t),r.complete())}function i(e){var t=e.err,r=e.subscriber;r.isUnsubscribed||r.error(t)}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(43),s=r(1),u=function(e){function t(t,r){void 0===r&&(r=null),e.call(this),this.promise=t,this.scheduler=r}return o(t,e),t.create=function(e,r){return void 0===r&&(r=null),new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,o=this.scheduler;if(null==o)this._isScalar?e.isUnsubscribed||(e.next(this.value),e.complete()):r.then(function(r){t.value=r,t._isScalar=!0,e.isUnsubscribed||(e.next(r),e.complete())},function(t){e.isUnsubscribed||e.error(t)}).then(null,function(e){a.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.isUnsubscribed)return o.schedule(n,0,{value:this.value,subscriber:e})}else r.then(function(r){t.value=r,t._isScalar=!0,e.isUnsubscribed||e.add(o.schedule(n,0,{value:r,subscriber:e}))},function(t){e.isUnsubscribed||e.add(o.schedule(i,0,{err:t,subscriber:e}))}).then(null,function(e){a.root.setTimeout(function(){throw e})})},t}(s.Observable);t.PromiseObservable=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;return t?void n.complete():(n.next(r),void(n.isUnsubscribed||(e.done=!0,this.schedule(e))))},t.prototype._subscribe=function(e){var r=this.value,n=this.scheduler;return n?n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e}):(e.next(r),void(e.isUnsubscribed||e.complete()))},t}(i.Observable);t.ScalarObservable=o},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&s.isArray(e[0])&&(e=e[0]),e.unshift(this),new a.ArrayObservable(e).lift(new h(r))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,n=null;return u.isScheduler(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&s.isArray(e[0])&&(e=e[0]),new a.ArrayObservable(e,n).lift(new h(r))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(49),s=r(51),u=r(59),c=r(9),l=r(10);t.combineLatest=n,t.combineLatestStatic=i;var h=function(){function e(e){this.project=e}return e.prototype.call=function(e){return new p(e,this.project)},e}();t.CombineLatestOperator=h;var p=function(e){function t(t,r){e.call(this,t),this.project=r,this.active=0,this.values=[],this.observables=[],this.toRespond=[]}return o(t,e),t.prototype._next=function(e){var t=this.toRespond;t.push(t.length),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t;for(var r=0;t>r;r++){var n=e[r];this.add(l.subscribeToResult(this,n,n,r))}}},t.prototype.notifyComplete=function(e){0===(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.values;o[r]=t;var a=this.toRespond;if(a.length>0){var s=a.indexOf(r);-1!==s&&a.splice(s,1)}0===a.length&&(this.project?this._tryProject(o):this.destination.next(o))},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(c.OuterSubscriber);t.CombineLatestSubscriber=p},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i.apply(void 0,[this].concat(e))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,n=e;return o.isScheduler(n[e.length-1])&&(r=n.pop()),new a.ArrayObservable(e,r).lift(new s.MergeAllOperator(1))}var o=r(59),a=r(49),s=r(121);t.concat=n,t.concatStatic=i},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=0),this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(120);t.observeOn=n;var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e){return new u(e,this.scheduler,this.delay)},e}();t.ObserveOnOperator=s;var u=function(e){function t(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return i(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r)},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(a.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(a.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},t}(o.Subscriber);t.ObserveOnSubscriber=u;var c=function(){function e(e,t){this.notification=e,this.destination=t}return e}()},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.unshift(this),i.apply(this,e)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),new a.ArrayObservable(e).lift(new p(r))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(49),s=r(51),u=r(2),c=r(9),l=r(10),h=r(75);t.zipProto=n,t.zipStatic=i;var p=function(){function e(e){this.project=e}return e.prototype.call=function(e){return new d(e,this.project)},e}();t.ZipOperator=p;var d=function(e){function t(t,r,n){void 0===n&&(n=Object.create(null)),e.call(this,t),this.index=0,this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return o(t,e),t.prototype._next=function(e){var t=this.iterators,r=this.index++;s.isArray(e)?t.push(new m(e)):"function"==typeof e[h.SymbolShim.iterator]?t.push(new f(e[h.SymbolShim.iterator]())):t.push(new v(this.destination,this,e,r))},t.prototype._complete=function(){var e=this.iterators,t=e.length;this.active=t;for(var r=0;t>r;r++){var n=e[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;t>n;n++){var i=e[n];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],n=0;t>n;n++){var i=e[n],s=i.next();if(i.hasCompleted()&&(o=!0),s.done)return void r.complete();a.push(s.value)}this.project?this._tryProject(a):r.next(a),o&&r.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(u.Subscriber);t.ZipSubscriber=d;var f=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),m=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[h.SymbolShim.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),v=function(e){function t(t,r,n,i){e.call(this,t),this.parent=r,this.observable=n,this.index=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(t,e),t.prototype[h.SymbolShim.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return l.subscribeToResult(this,this.observable,this,t)},t}(c.OuterSubscriber)},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(43),o=r(31),a=function(e){function t(t,r){e.call(this),this.scheduler=t,this.work=r}return n(t,e),t.prototype.execute=function(){if(this.isUnsubscribed)throw new Error("How did did we execute a canceled Action?");this.work(this.state)},t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this.isUnsubscribed?this:this._schedule(e,t)},t.prototype._schedule=function(e,t){var r=this;void 0===t&&(t=0),this.delay=t,this.state=e;var n=this.id;return null!=n&&(this.id=void 0,i.root.clearTimeout(n)),this.id=i.root.setTimeout(function(){r.id=null;var e=r.scheduler;e.actions.push(r),e.flush()},t),this},t.prototype._unsubscribe=function(){var e=this,t=e.id,r=e.scheduler,n=r.actions,o=n.indexOf(this);null!=t&&(this.id=null,i.root.clearTimeout(t)),-1!==o&&n.splice(o,1),this.work=null,this.state=null,this.scheduler=null},t}(o.Subscription);t.FutureAction=a},function(e,t){"use strict";var r=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=function(e){function t(){e.call(this,"argument out of range"),this.name="ArgumentOutOfRangeError"}return r(t,e),t}(Error);t.ArgumentOutOfRangeError=n},function(e,t){"use strict";var r=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=function(e){function t(){e.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return r(t,e),t}(Error);t.ObjectUnsubscribedError=n},function(e,t,r){"use strict";function n(e){return!i.isArray(e)&&e-parseFloat(e)+1>=0}var i=r(51);t.isNumeric=n},function(e,t){"use strict";function r(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}t.isPromise=r},function(e,t){"use strict";function r(){}t.noop=r},function(e,t){function r(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e}e.exports=r;var n=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t={};return Object.keys(e).forEach(function(r){-1===["children","mixin"].indexOf(r)&&e[r].constructor!==Function&&(e[r].constructor===Array?t[r]=e[r].join(" "):e[r].constructor===Object?t[r]=f["default"].stringify(e[r]):t[r]=e[r])}),t}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Scene=t.Entity=t.Animation=void 0;var l=r(4),h=n(l),p=r(102),d=(n(p),r(802)),f=n(d),m=t.Animation=function(e){function t(){var e,r,n,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;s>c;c++)u[c]=arguments[c];return r=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.attachEvents=function(e){e&&(e.addEventListener("animationend",function(e){n.props.onAnimationEnd(e)}),e.addEventListener("animationstart",function(e){n.props.onAnimationStart(e)}))},a=r,o(n,a)}return a(t,e),c(t,[{key:"render",value:function(){return h["default"].createElement("a-animation",u({ref:this.attachEvents},s(this.props)))}}]),t}(h["default"].Component);m.propTypes={onAnimationEnd:h["default"].PropTypes.func,onAnimationStart:h["default"].PropTypes.func},m.defaultProps={onAnimationEnd:function(){},onAnimationStart:function(){}};var v=t.Entity=function(e){function t(){var e,r,n,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;s>c;c++)u[c]=arguments[c];return r=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.attachEvents=function(e){e&&(e.addEventListener("click",function(e){n.props.onClick(e)}),e.addEventListener("loaded",function(e){n.props.onLoaded(e)}),e.addEventListener("mouseenter",function(e){n.props.onMouseEnter(e)}),e.addEventListener("mouseleave",function(e){n.props.onMouseLeave(e)}))},a=r,o(n,a)}return a(t,e),c(t,[{key:"render",value:function(){var e=this.props.mixin?{mixin:this.props.mixin}:{};return h["default"].createElement("a-entity",u({ref:this.attachEvents},e,s(this.props)),this.props.children)}}]),t}(h["default"].Component);v.propTypes={children:h["default"].PropTypes.any,mixin:h["default"].PropTypes.string,onClick:h["default"].PropTypes.func,onLoaded:h["default"].PropTypes.func,onMouseEnter:h["default"].PropTypes.func,onMouseLeave:h["default"].PropTypes.func},v.defaultProps={onClick:function(){},onLoaded:function(){},onMouseEnter:function(){},onMouseLeave:function(){}};var g=t.Scene=function(e){function t(){var e,r,n,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;s>c;c++)u[c]=arguments[c];return r=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.attachEvents=function(e){e&&(e.addEventListener("loaded",function(e){n.props.onLoaded(e)}),n.props.onTick&&setTimeout(function(){e.addBehavior({update:n.props.onTick})}))},a=r,o(n,a)}return a(t,e),c(t,[{key:"render",value:function(){return h["default"].createElement("a-scene",u({ref:this.attachEvents},s(this.props)),this.props.children)}}]),t}(h["default"].Component);g.propTypes={onLoaded:h["default"].PropTypes.func,onTick:h["default"].PropTypes.func},g.defaultProps={onLoaded:function(){}}},function(e,t){(function(t){"use strict";function r(e){s.length||(a(),u=!0),s[s.length]=e}function n(){for(;c<s.length;){var e=c;if(c+=1,s[e].call(),c>l){for(var t=0,r=s.length-c;r>t;t++)s[t]=s[t+c];s.length-=c,c=0}}s.length=0,c=0,u=!1}function i(e){var t=1,r=new h(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}function o(e){return function(){function t(){clearTimeout(r),clearInterval(n),e()}var r=setTimeout(t,0),n=setInterval(t,50)}}e.exports=r;var a,s=[],u=!1,c=0,l=1024,h=t.MutationObserver||t.WebKitMutationObserver;a="function"==typeof h?i(n):o(n),r.requestFlush=a,r.makeRequestCallFromTimer=o}).call(t,function(){return this}())},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),o=n(i),a=function(e){return o["default"].createElement("div",{className:"ui vertical menu"},e.components.map(function(e){var t=e.component;e.props;return o["default"].createElement("div",{className:"ui horizontally fitted centered item"},o["default"].createElement("div",{className:"ui center aligned container"},o["default"].createElement(t,e.props)))}))};t["default"]=a,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(332),d=n(p),f=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"render",value:function(){var e=this;return c["default"].createElement("div",null,c["default"].createElement("table",{className:"ui celled padded table"},c["default"].createElement("thead",null,c["default"].createElement("tr",null,c["default"].createElement("th",{className:"single line"},"Stat"),c["default"].createElement("th",null,"Value"),"Calorie"!==this.props.statBlock.type&&c["default"].createElement("th",null,"Confidence"))),c["default"].createElement("tbody",null,this.props.statBlock.stats.edges.map(function(t){return c["default"].createElement("tr",{key:t.id},c["default"].createElement("td",null,c["default"].createElement("h2",{className:"center aligned"},t.node.name)),c["default"].createElement("td",null,c["default"].createElement("h2",{className:"center aligned"},t.node.value)),"Calorie"!==e.props.statBlock.type&&c["default"].createElement("td",null,c["default"].createElement("h2",{className:"center aligned"},t.node.conf)))})),c["default"].createElement(d["default"],{statBlock:this.props.statBlock})))}}]),t}(u.Component);t["default"]=h["default"].createContainer(f,{fragments:{statBlock:function(){return function(e){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"type",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{},name:"first",value:{kind:"CallValue",callValue:20}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"type",kind:"Field",metadata:{},type:"String"},{fieldName:"value",kind:"Field",metadata:{},type:"String"},{fieldName:"conf",kind:"Field",metadata:{},type:"Int"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Stat"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StatEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"stats",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StatConnection"},h["default"].QL.__frag(e)]),id:"IHALnwXv6aBn:f",kind:"Fragment",metadata:{},name:"StatBlockRelayQL",type:"StatBlock"}}(d["default"].getFragment("statBlock"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(11),c=n(u),l=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"getMutation",value:function(){return function(){return{calls:[{kind:"Call",metadata:{},name:"addStat",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"clientMutationId",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],kind:"Mutation",metadata:{inputType:"AddStatInput!"},name:"AddStatMutation",responseType:"AddStatPayload"}}()}},{key:"getFatQuery",value:function(){return function(){return{children:[{children:[{calls:[{kind:"Call",metadata:{},name:"first",value:{kind:"CallValue",callValue:5}}],children:[{children:[{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"value",kind:"Field",metadata:{},type:"String"},{fieldName:"conf",kind:"Field",metadata:{},type:"Int"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Stat"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StatEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"stats",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StatConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"statBlock",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"StatBlock"}],id:"cU2mCH/qIDeT:n",kind:"Fragment",metadata:{},name:"AddStatMutationRelayQL",type:"AddStatPayload"}}()}},{key:"getConfigs",value:function(){return[{type:"FIELDS_CHANGE",fieldIDs:{statBlock:this.props.statBlock.id}}]}},{key:"getVariables",value:function(){return{statBlockId:this.props.statBlock.id,stat:this.props.stat}}}],[{key:"fragments",value:{statBlock:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],id:"/f/PGTLTOPOJ:m",kind:"Fragment",metadata:{},name:"AddStatMutationRelayQL",type:"StatBlock"}}()}},enumerable:!0}]),t}(c["default"].Mutation);t["default"]=l,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return a.THREE[e]?a.THREE[e]:e}function i(e,t,r){r=r||{};var i=e.getAttribute(t);if(i){var o=a.utils.styleParser.parse(i);Object.keys(o).forEach(function(e){r[e]=n(o[e])})}return r}function o(e,t){return new Promise(function(r,n){try{var o=document.querySelector(e)}catch(u){var c=e}if(o){if(t=i(o,"texture",t),"IMG"===o.tagName)var l=new a.THREE.Texture(o);else if("VIDEO"===o.tagName)var l=new a.THREE.VideoTexture(o);o.onLoad=function(){l.needsUpdate=!0},r(l)}else c&&s.load(c,r,void 0,n)}).then(function(e){return e})}var a=r(76),s=(a.utils.srcLoader,a.utils.texture,new a.THREE.TextureLoader);(0,a.registerShader)("phong",{schema:{color:{"default":"#FFF",parse:function(e){return new a.THREE.Color(e)}},map:{"default":null},lightMap:{"default":null},emissiveMap:{"default":null},normalMap:{"default":null},specularMap:{"default":null},alphaMap:{"default":null},displacementMap:{"default":null},displacementScale:{"default":1},displacementBias:{"default":0},envMap:{"default":null},fog:{"default":!0},shading:{"default":"SmoothShading",parse:function(e){return n(e)}},wireframe:{"default":!1},wireframeLinewidth:{"default":1},wireframeLinecap:{"default":"round"},wireframeLinejoin:{"default":"round"},vertexColors:{"default":"NoColors",parse:function(e){return n(e)}},skinning:{"default":!1},morphTargets:{"default":!1},morphNormals:{"default":!1},mapping:{"default":"UVMapping",oneOf:["CubeReflectionMapping","CubeRefractionMapping","SphericalReflectionMapping"],parse:function(e){return n(e)}},wrapS:{"default":"ClampToEdgeWrapping",oneOf:["ClampToEdgeWrapping","RepeatWrapping","MirroredRepeatWrapping"],parse:function(e){return n(e)}},wrapT:{"default":"ClampToEdgeWrapping",oneOf:["ClampToEdgeWrapping","RepeatWrapping","MirroredRepeatWrapping"],parse:function(e){return n(e)}},magFilter:{"default":"LinearFilter",oneOf:["LinearFilter","NearestFilter"],parse:function(e){return n(e)}},minFilter:{"default":"LinearMipMapLinearFilter",oneOf:["LinearMipMapLinearFilter","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter"],parse:function(e){return n(e)}},format:{"default":"RGBAFormat",oneOf:["RGBAFormat","AlphaFormat","RGBFormat","LuminanceFormat","LuminanceAlphaFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format"],parse:function(e){return n(e)}},texType:{"default":"UnsignedByteType",oneOf:["UnsignedByteType","ByteType","ShortType","UnsignedShortType","UnsignedIntType","UnsignedShort4444Type","Unsignedshort5551Type","UnsignedShort565Type"],parse:function(e){return n(e)}},anisotropy:{"default":1},generateMipmaps:{"default":!0},flipY:{"default":!0},premultiplyAlpha:{"default":!1}},texturePromises:{},textureDefaults:{},textureSrc:{},maps:["map","lightMap","aoMap","emissiveMap","bumpMap","normalMap","specularMap","alphaMap","displacementMap","envMap"],texOpts:["image","mapping","wrapS","wrapT","magFilter","minFilter","format","texType","anisotropy","generateMipmaps","flipY","premultiplyAlpha"],init:function(e){return this.material=new a.THREE.MeshPhongMaterial(this.parseMaterialVars(e)),this.updateTextures(e),this.material},update:function(e){return this.updateMaterial(this.parseMaterialVars(e)),this.updateTextures(e),this.material},parseMaterialVars:function(e){var t=this,r={};return Object.keys(e).forEach(function(n){-1===t.texOpts.indexOf(n)&&-1===t.maps.indexOf(n)&&"shader"!==n&&(r[n]=e[n])}),r},updateTextureGlobals:function(e){var t=this;return Object.keys(e).forEach(function(r){r="texType"===r?"type":r,-1!==t.texOpts.indexOf(r)&&(t.texOpts[r]=e[r])}),this.texOpts},updateMaterial:function(e){var t=this;return Object.keys(e).forEach(function(r){t.material[r]=e[r]}),this.material},updateTextures:function(e){var t=this,r=this.updateTextureGlobals(e);Object.keys(e).map(function(n){if(-1!==t.maps.indexOf(n)&&e[n]!==t.textureSrc[n]){var i=o(e[n],r);t.texturePromises[n]=i,i.then(function(r){t.material[n]=r,t.textureSrc[n]=e[n],t.material[n].needsUpdate=!0,t.material.needsUpdate=!0})["catch"](function(e){console.log(e)})}})}})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return new Promise(function(r,n){try{var i=document.querySelector(e)}catch(o){var a=e}if(i){if(t=getAssetData(i,"texture",t),"IMG"===i.tagName)var s=new c.THREE.Texture(i);else if("VIDEO"===i.tagName)var s=new c.THREE.VideoTexture(i);
i.onLoad=function(){s.needsUpdate=!0},r(s)}else a&&v.load(a,r,void 0,n)}).then(function(e){return e})}function o(e){return new Promise(function(t,r){(0,h["default"])(e,function(e,n){e?r(e):t(n)})})}var a=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=r(803),u=n(s),c=r(76),l=r(413),h=n(l),p=r(433),d=n(p),f=r(432),m=n(f),v=new c.THREE.TextureLoader;(0,c.registerComponent)("text",{schema:{color:{"default":"#FFF",parse:function(e){return new c.THREE.Color(e)}},text:{"default":"This is sometimes a test"}},init:function(){var e=this,t=this.data;Promise.all([this.createTextGeometry(t),this.createTextMaterial(),this.loadTextTexture()]).then(function(t){var r,n,i,o=a(t,3);r=o[0],n=o[1],i=o[2],n.uniforms.map.value=i,e.mesh=e.el.getOrCreateObject3D("text",c.THREE.Mesh),e.mesh.geometry=r,e.mesh.material=n,e.mesh.material.needsUpdate=!0,e.mesh.position.x=5.4,e.mesh.position.y=-.25,e.mesh.position.z=0;var s=-0.055;e.mesh.scale.set(s,s,s),e.bgMesh=e.el.object3DMap.mesh,e.mesh=e.updateBgUv(e.mesh,e.bgMesh),e.mesh.material=e.updateMaterial(e.mesh.material,e.bgMesh.material)})},update:function(e){if(e&&e.text!==this.data.text){var t=this.el.object3DMap.text,r=this.el.object3DMap.mesh;t.geometry.update({text:this.data.text}),t=this.updateBgUv(t,r),t.material=this.updateMaterial(t.material,r.material)}},createTextGeometry:function(e){var t={text:e.text,align:"left",width:250,color:new c.THREE.Color("#FFF"),font:"assets/urban.fnt",fontTex:"assets/urban.png"};return o(t.font).then(function(e){return t.font=e,(0,u["default"])(t)})},createTextMaterial:function(e){this.el.object3DMap.mesh.material;return e=this.getShaderOptions({smooth:1/32,color:"#FF00FF"}),new c.THREE.ShaderMaterial(e)},getShaderOptions:function(e){var t="number"==typeof e.opacity?e.opacity:1,r="number"==typeof e.alphaTest?e.alphaTest:.06,n="number"==typeof e.smooth?e.smooth:1/16,i="undefined"==typeof e.specular?1118481:e.specular;return{uniforms:Object.assign({},c.THREE.UniformsLib.lights,c.THREE.UniformsLib.ambient,{normalScale:{type:"f",value:1},bgRepeat:{type:"v2",value:new c.THREE.Vector2(1,1)},bgDiffuse:{type:"t",value:new c.THREE.Texture},bgNormals:{type:"t",value:new c.THREE.Texture},bgSpecular:{type:"t",value:new c.THREE.Texture},opacity:{type:"f",value:t},smooth:{type:"f",value:n},shininess:{type:"f",value:140},randomness:{type:"f",value:0},graffiti:{type:"i",value:0},specularColor:{type:"c",value:new c.THREE.Color(i)},map:{type:"t",value:e.map||new c.THREE.Texture},color:{type:"c",value:new c.THREE.Color(e.color)}}),extensions:{derivatives:!0},transparent:!0,depthTest:!1,depthWrite:!1,lights:!0,vertexShader:d["default"],fragmentShader:m["default"],defines:{USE_MAP:"",ALPHATEST:Number(r||0).toFixed(1)}}},updateMaterial:function(e,t){return e.uniforms.bgRepeat.value=null===t.map?new c.THREE.Vector2(1,1):t.map.repeat,e.uniforms.bgDiffuse.value=t.map||new c.THREE.Texture,e.uniforms.bgNormals.value=t.normalMap||new c.THREE.Texture,e.uniforms.bgSpecular.value=t.specularMap||new c.THREE.Texture,e.needsUpdate=!0,e},updateBgUv:function(e,t){var r,n,i;e.updateMatrixWorld(!0),t.updateMatrixWorld(!0),n=e.geometry,i=t.geometry,i.computeBoundingBox();var o=i.boundingBox,a=n.getAttribute("position"),s=a.itemSize,u=new Float32Array(a.array.length);n.getAttribute("bgUv")?(r=n.getAttribute("bgUv"),r.array=u):(r=new c.THREE.BufferAttribute(u,2),n.addAttribute("bgUv",r)),n.needsUpdate=!0,Object.keys(n.attributes).forEach(function(e){var t=n.attributes[e];t.buffer&&gl.deleteBuffer(t.buffer),t.needsUpdate=!0});var l=new c.THREE.Vector4,h=t.localToWorld(o.min.clone()),p=t.localToWorld(o.max.clone());h.z=0,p.z=0;for(var d=0;d<a.array.length/s;d++){var f=a.array[d*s+0],m=a.array[d*s+1];l.set(f,m,0,1),l=e.localToWorld(l),l.x=(l.x-h.x)/(p.x-h.x),l.y=(l.y-h.y)/(p.y-h.y),r.setXY(d,l.x,l.y)}return r.needsUpdate=!0,e},loadTextTexture:function(e){return i("assets/urban.png")},updateTextGeometry:function(e){},updateTextMaterial:function(e){}})},function(e,t,r){e.exports={"default":r(205),__esModule:!0}},function(e,t,r){r(98),r(97),e.exports=r(375)},function(e,t,r){r(380),e.exports=r(26).Object.assign},function(e,t,r){var n=r(33);e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(33);e.exports=function(e,t,r){return n.setDesc(e,t,r)}},function(e,t,r){r(382),e.exports=r(26).Object.keys},function(e,t,r){r(383),e.exports=r(26).Object.setPrototypeOf},function(e,t,r){var n=r(131),i=r(36)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[i])?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){"use strict";var n=r(33),i=r(95),o=r(62),a=r(94),s=r(63),u=r(135),c=r(132),l=r(138),h=r(44),p=r(137),d=r(93);e.exports=function(e,t,r,f,m,v){var g=i[e],y=g,b=m?"set":"add",_=y&&y.prototype,x={};return d&&"function"==typeof y&&(v||_.forEach&&!a(function(){(new y).entries().next()}))?(y=t(function(t,r){l(t,y,e),t._c=new g,void 0!=r&&c(r,m,t[b],t)}),n.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in _&&(!v||"clear"!=e)&&s(y.prototype,e,function(r,n){if(!t&&v&&!h(r))return"get"==e?void 0:!1;var i=this._c[e](0===r?0:r,n);return t?this:i})}),"size"in _&&n.setDesc(y.prototype,"size",{get:function(){return this._c.size}})):(y=f.getConstructor(t,e,m,b),u(y.prototype,r)),p(y,e),x[e]=y,o(o.G+o.W+o.F,x),v||f.setStrong(y,e,m),y}},function(e,t,r){var n=r(64),i=r(36)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){var n=r(77);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(o){var a=e["return"];throw void 0!==a&&n(a.call(e)),o}}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(62),i=r(26),o=r(94);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){},function(e,t){e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},function(e,t,r){"use strict";var n=r(37),i={listen:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!1),{remove:function(){e.removeEventListener(t,r,!1)}}):e.attachEvent?(e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}):void 0},capture:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!0),{remove:function(){e.removeEventListener(t,r,!0)}}):{remove:n}},registerDefault:function(){}};e.exports=i},function(e,t,r){"use strict";function n(e,t){var r=!0;e:for(;r;){var n=e,o=t;if(r=!1,n&&o){if(n===o)return!0;if(i(n))return!1;if(i(o)){e=n,t=o.parentNode,r=!0;continue e}return n.contains?n.contains(o):n.compareDocumentPosition?!!(16&n.compareDocumentPosition(o)):!1}return!1}}var i=r(396);e.exports=n},function(e,t){"use strict";function r(e){try{e.focus()}catch(t){}}e.exports=r},function(e,t){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=r},function(e,t,r){"use strict";function n(e){return a?void 0:o(!1),p.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?p[e]:null}var i=r(19),o=r(6),a=i.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];d.forEach(function(e){p[e]=h,s[e]=!0}),e.exports=n},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=n.bind(t),a=0;a<r.length;a++)if(!o(r[a])||e[r[a]]!==t[r[a]])return!1;return!0}var n=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return u+e}function o(e,t){try{null==t?window.sessionStorage.removeItem(i(e)):window.sessionStorage.setItem(i(e),JSON.stringify(t))}catch(r){if(r.name===l)return;if(c.indexOf(r.name)>=0&&0===window.sessionStorage.length)return;throw r}}function a(e){var t=void 0;try{t=window.sessionStorage.getItem(i(e))}catch(r){if(r.name===l)return null}if(t)try{return JSON.parse(t)}catch(r){}return null}t.__esModule=!0,t.saveState=o,t.readState=a;var s=r(39),u=(n(s),"@@History/"),c=["QuotaExceededError","QUOTA_EXCEEDED_ERR"],l="SecurityError"},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e=e||window.history.state||{};var t=h.getWindowPath(),r=e,n=r.key,i=void 0;n?i=p.readState(n):(i=null,n=b.createKey(),g&&window.history.replaceState(o({},e,{key:n}),null,t));var a=c.parsePath(t);return b.createLocation(o({},a,{state:i}),void 0,n)}function t(t){function r(t){void 0!==t.state&&n(e(t.state))}var n=t.transitionTo;return h.addEventListener(window,"popstate",r),function(){h.removeEventListener(window,"popstate",r)}}function r(e){var t=e.basename,r=e.pathname,n=e.search,i=e.hash,o=e.state,a=e.action,s=e.key;if(a!==u.POP){p.saveState(s,o);var c=(t||"")+r+n+i,l={key:s};if(a===u.PUSH){if(y)return window.location.href=c,!1;window.history.pushState(l,null,c)}else{if(y)return window.location.replace(c),!1;window.history.replaceState(l,null,c)}}}function n(e){1===++_&&(x=t(b));var r=b.listenBefore(e);return function(){r(),0===--_&&x()}}function i(e){1===++_&&(x=t(b));var r=b.listen(e);return function(){r(),0===--_&&x()}}function a(e){1===++_&&(x=t(b)),b.registerTransitionHook(e)}function d(e){b.unregisterTransitionHook(e),0===--_&&x()}var m=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.canUseDOM?void 0:s["default"](!1);var v=m.forceRefresh,g=h.supportsHistory(),y=!g||v,b=f["default"](o({},m,{getCurrentLocation:e,finishTransition:r,saveState:p.saveState})),_=0,x=void 0;return o({},b,{listenBefore:n,listen:i,registerTransitionHook:a,unregisterTransitionHook:d})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(23),s=n(a),u=r(65),c=r(53),l=r(100),h=r(142),p=r(227),d=r(229),f=n(d);t["default"]=i,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){return u.canUseDOM?void 0:s["default"](!1),r.listen(e)}var r=h["default"](o({getUserConfirmation:c.getUserConfirmation},e,{go:c.go}));return o({},r,{listen:t})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(23),s=n(a),u=r(100),c=r(142),l=r(231),h=n(l);t["default"]=i,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return"string"==typeof e&&"/"===e.charAt(0)}function o(){var e=g.getHashPath();return i(e)?!0:(g.replaceHashPath("/"+e),!1)}function a(e,t,r){return e+(-1===e.indexOf("?")?"?":"&")+(t+"="+r)}function s(e,t){return e.replace(new RegExp("[?&]?"+t+"=[a-zA-Z0-9]+"),"")}function u(e,t){var r=e.match(new RegExp("\\?.*?\\b"+t+"=(.+?)\\b"));return r&&r[1]}function c(){function e(){var e=g.getHashPath(),t=void 0,r=void 0;A?(t=u(e,A),e=s(e,A),t?r=y.readState(t):(r=null,t=T.createKey(),g.replaceHashPath(a(e,A,t)))):t=r=null;var n=m.parsePath(e);return T.createLocation(l({},n,{state:r}),void 0,t)}function t(t){function r(){o()&&n(e())}var n=t.transitionTo;return o(),g.addEventListener(window,"hashchange",r),function(){g.removeEventListener(window,"hashchange",r)}}function r(e){var t=e.basename,r=e.pathname,n=e.search,i=e.state,o=e.action,s=e.key;if(o!==f.POP){var u=(t||"")+r+n;A?(u=a(u,A,s),y.saveState(s,i)):e.key=e.state=null;var c=g.getHashPath();o===f.PUSH?c!==u&&(window.location.hash=u):c!==u&&g.replaceHashPath(u)}}function n(e){1===++R&&(O=t(T));var r=T.listenBefore(e);return function(){r(),0===--R&&O()}}function i(e){1===++R&&(O=t(T));var r=T.listen(e);return function(){r(),0===--R&&O()}}function c(e){T.push(e)}function h(e){T.replace(e)}function p(e){T.go(e)}function b(e){return"#"+T.createHref(e)}function w(e){1===++R&&(O=t(T)),T.registerTransitionHook(e)}function E(e){T.unregisterTransitionHook(e),0===--R&&O()}function S(e,t){T.pushState(e,t)}function C(e,t){T.replaceState(e,t)}var M=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];v.canUseDOM?void 0:d["default"](!1);var A=M.queryKey;(void 0===A||A)&&(A="string"==typeof A?A:x);var T=_["default"](l({},M,{getCurrentLocation:e,finishTransition:r,saveState:y.saveState})),R=0,O=void 0;g.supportsGoWithoutReloadUsingHash();return l({},T,{listenBefore:n,listen:i,push:c,replace:h,go:p,createHref:b,registerTransitionHook:w,unregisterTransitionHook:E,pushState:S,replaceState:C})}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h=r(39),p=(n(h),r(23)),d=n(p),f=r(65),m=r(53),v=r(100),g=r(142),y=r(227),b=r(229),_=n(b),x="_k";t["default"]=c,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return Math.random().toString(36).substr(2,e)}function o(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.key===t.key&&l["default"](e.state,t.state)}function a(){function e(e){return j.push(e),function(){j=j.filter(function(t){return t!==e})}}function t(){return z&&z.action===d.POP?U.indexOf(z.key):V?U.indexOf(V.key):-1}function r(e){var r=t();V=e,V.action===d.PUSH?U=[].concat(U.slice(0,r+1),[V.key]):V.action===d.REPLACE&&(U[r]=V.key),B.forEach(function(e){e(V)})}function n(e){if(B.push(e),V)e(V);else{var t=D();U=[t.key],r(t)}return function(){B=B.filter(function(t){return t!==e})}}function a(e,t){p.loopAsync(j.length,function(t,r,n){g["default"](j[t],e,function(e){null!=e?n(e):r()})},function(e){F&&"string"==typeof e?F(e,function(e){t(e!==!1)}):t(e!==!1)})}function u(e){V&&o(V,e)||(z=e,a(e,function(t){if(z===e)if(t){if(e.action===d.PUSH){var n=w(V),i=w(e);i===n&&l["default"](V.state,e.state)&&(e.action=d.REPLACE)}I(e)!==!1&&r(e)}else if(V&&e.action===d.POP){var o=U.indexOf(V.key),a=U.indexOf(e.key);-1!==o&&-1!==a&&k(o-a)}}))}function c(e){u(S(e,d.PUSH,x()))}function f(e){u(S(e,d.REPLACE,x()))}function v(){k(-1)}function y(){k(1)}function x(){return i(L)}function w(e){if(null==e||"string"==typeof e)return e;var t=e.pathname,r=e.search,n=e.hash,i=t;return r&&(i+=r),n&&(i+=n),i}function E(e){return w(e)}function S(e,t){var r=arguments.length<=2||void 0===arguments[2]?x():arguments[2];return"object"==typeof t&&("string"==typeof e&&(e=h.parsePath(e)),e=s({},e,{state:t}),t=r,r=arguments[3]||x()),m["default"](e,t,r)}function C(e){V?(M(V,e),r(V)):M(D(),e)}function M(e,t){e.state=s({},e.state,t),N(e.key,e.state)}function A(e){-1===j.indexOf(e)&&j.push(e)}function T(e){j=j.filter(function(t){return t!==e})}function R(e,t){"string"==typeof t&&(t=h.parsePath(t)),c(s({state:e},t))}function O(e,t){"string"==typeof t&&(t=h.parsePath(t)),f(s({state:e},t))}var P=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],D=P.getCurrentLocation,I=P.finishTransition,N=P.saveState,k=P.go,L=P.keyLength,F=P.getUserConfirmation;"number"!=typeof L&&(L=_);var j=[],U=[],B=[],V=void 0,z=void 0;return{listenBefore:e,listen:n,transitionTo:u,push:c,replace:f,go:k,goBack:v,goForward:y,createKey:x,createPath:w,createHref:E,createLocation:S,setState:b["default"](C,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:b["default"](A,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:b["default"](T,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead"),pushState:b["default"](R,"pushState is deprecated; use push instead"),replaceState:b["default"](O,"replaceState is deprecated; use replace instead")}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=r(39),c=(n(u),r(385)),l=n(c),h=r(53),p=r(403),d=r(65),f=r(404),m=n(f),v=r(144),g=n(v),y=r(143),b=n(y),_=6;t["default"]=a,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e){return function(){function t(e){return b&&null==e.basename&&(0===e.pathname.indexOf(b)?(e.pathname=e.pathname.substring(b.length),e.basename=b,""===e.pathname&&(e.pathname="/")):e.basename=""),e}function r(e){if(!b)return e;"string"==typeof e&&(e=u.parsePath(e));var t=e.pathname,r="/"===b.slice(-1)?b:b+"/",n="/"===t.charAt(0)?t.slice(1):t,i=r+n;return a({},e,{pathname:i})}function n(e){return x.listenBefore(function(r,n){l["default"](e,t(r),n)})}function o(e){return x.listen(function(r){e(t(r))})}function c(e){x.push(r(e))}function h(e){x.replace(r(e))}function d(e){return x.createPath(r(e))}function f(e){return x.createHref(r(e))}function m(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];return t(x.createLocation.apply(x,[r(e)].concat(i)))}function v(e,t){"string"==typeof t&&(t=u.parsePath(t)),c(a({state:e},t))}function g(e,t){"string"==typeof t&&(t=u.parsePath(t)),h(a({state:e},t))}var y=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=y.basename,_=i(y,["basename"]),x=e(_);if(null==b&&s.canUseDOM){var w=document.getElementsByTagName("base")[0];w&&(b=u.extractPath(w.href))}return a({},x,{listenBefore:n,listen:o,push:c,replace:h,createPath:d,createHref:f,createLocation:m,pushState:p["default"](v,"pushState is deprecated; use push instead"),replaceState:p["default"](g,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(100),u=r(53),c=r(144),l=n(c),h=r(143),p=n(h);t["default"]=o,e.exports=t["default"]},function(e,t){function r(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=r;var n=Object.prototype.toString},function(e,t,r){(function(t){(function(){var r,n,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(r()-i)/1e6},n=t.hrtime,r=function(){var e;return e=n(),1e9*e[0]+e[1]},i=r()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(t,r(235))},function(e,t){function r(){c=!1,a.length?u=a.concat(u):l=-1,u.length&&n()}function n(){if(!c){var e=setTimeout(r);c=!0;for(var t=u.length;t;){for(a=u,u=[];++l<t;)a&&a[l].run();l=-1,t=u.length}a=null,c=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var a,s=e.exports={},u=[],c=!1,l=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new i(e,t)),1!==u.length||c||setTimeout(n,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,r){e.exports=r(598)},function(e,t){"use strict";t.__esModule=!0,t["default"]={noWobble:[170,26],gentle:[120,14],wobbly:[180,12],stiff:[210,20]},e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=arguments.length<=1||void 0===arguments[1]?a["default"].noWobble:arguments[1];return{val:e,config:t}}t.__esModule=!0,t["default"]=i;var o=r(237),a=n(o);e.exports=t["default"]},function(e,t,r){"use strict";var n=r(3)["default"],i=r(155)["default"],o=r(24)["default"],a=r(13),s=r(254),u=r(500),c=function(){function e(t,r,i){n(this,e),this.dispose(),this._callback=i,this._fragmentPointer=r,this._resolver=null,this._storeData=t}return e.prototype.dispose=function(){this._resolver&&this._resolver.dispose()},e.prototype.resolve=function(e){var t=this._resolver;return t||(t=this._fragmentPointer.getFragment().isPlural()?new l(this._storeData,this._callback):new h(this._storeData,this._callback),this._resolver=t),t.resolve(e)},e}(),l=function(){function e(t,r){n(this,e),this.dispose(),this._callback=r,this._storeData=t}return e.prototype.dispose=function(){this._resolvers&&this._resolvers.forEach(function(e){return e.dispose()}),this._resolvers=[],this._results=[]},e.prototype.resolve=function(e){for(var t,r=this._results,n=e.getDataIDs(),i=r.length,o=n.length,a=this._resolvers;a.length<o;)a.push(new h(this._storeData,this._callback));for(;a.length>o;)a.pop().dispose();i!==o&&(t=[]);for(var s=0;o>s;s++){var u=a[s].resolve(e,n[s]);(t||s>=i||u!==r[s])&&(t=t||r.slice(0,s),t.push(u))}return t&&(this._results=t),this._results},e}(),h=function(){function e(t,r){n(this,e),this.dispose(),this._callback=r,this._garbageCollector=t.getGarbageCollector(),this._storeData=t,this._subscribedIDs={}}return e.prototype.dispose=function(){this._subscription&&this._subscription.remove(),this._hasDataChanged=!1,this._fragment=null,this._result=null,this._resultID=null,this._subscription=null,this._updateGarbageCollectorSubscriptionCount({}),this._subscribedIDs={}},e.prototype.resolve=function(e,t){var r,n,a=e.getFragment(),s=this._fragment,c=t||e.getDataID(),l=this._resultID,h=this._result;if(null!=s&&null!=l&&this._getCanonicalID(l)===this._getCanonicalID(c))if(l!==c||this._hasDataChanged||!a.isEquivalent(s)){var p=this._resolveFragment(a,c),d=i(p,2);r=d[0],n=d[1],r=u(h,r)}else r=h;else{var f=this._resolveFragment(a,c),m=i(f,2);r=m[0],n=m[1]}if(h!==r){if(this._subscription&&(this._subscription.remove(),this._subscription=null),n){n[c]=!0;var v=this._storeData.getChangeEmitter();this._subscription=v.addListenerForIDs(o(n),this._handleChange.bind(this)),this._updateGarbageCollectorSubscriptionCount(n),this._subscribedIDs=n}this._resultID=c,this._result=r}return this._hasDataChanged=!1,this._fragment=a,this._result},e.prototype._getCanonicalID=function(e){return this._storeData.getRangeData().getCanonicalClientID(e)},e.prototype._handleChange=function(){this._hasDataChanged||(this._hasDataChanged=!0,this._callback())},e.prototype._resolveFragment=function(e,t){var r=s(this._storeData,e,t),n=r.data,i=r.dataIDs;return[n,i]},e.prototype._updateGarbageCollectorSubscriptionCount=function(e){var t=this;this._garbageCollector&&!function(){var r=t._garbageCollector,n=t._storeData.getRangeData(),i=t._subscribedIDs;o(e).forEach(function(e){e=n.getCanonicalClientID(e),r.incrementReferenceCount(e)}),o(i).forEach(function(e){e=n.getCanonicalClientID(e),r.decrementReferenceCount(e)})}()},e}();a.instrumentMethods(c.prototype,{resolve:"GraphQLStoreQueryResolver.resolve"}),e.exports=c},function(e,t,r){"use strict";var n=r(3)["default"];r(68)["default"];Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){n(this,e),this._created={},this._updated={}}return e.prototype.createID=function(e){this._created[e]=!0},e.prototype.updateID=function(e){this._created.hasOwnProperty(e)||(this._updated[e]=!0)},e.prototype.hasChange=function(e){return!(!this._updated[e]&&!this._created[e])},e.prototype.isNewRecord=function(e){return!!this._created[e]},e.prototype.getChangeSet=function(){return{created:this._created,updated:this._updated}},e}();e.exports=i},function(e,t,r){"use strict";var n=r(3)["default"];Object.defineProperty(t,"__esModule",{value:!0});var i=r(239),o=r(67),a=r(471),s=r(481),u=r(83),c=r(254),l=r(255),h=(r(17),function(){function e(){n(this,e),this._storeData=new s,this._storeData.getChangeEmitter().injectBatchingStrategy(l)}return e.prototype.getStoreData=function(){return this._storeData},e.prototype.primeCache=function(e,t){return this._storeData.getQueryRunner().run(e,t)},e.prototype.forceFetch=function(e,t){return this._storeData.getQueryRunner().forceFetch(e,t)},e.prototype.read=function(e,t,r){return c(this._storeData,e,t,r).data},e.prototype.readAll=function(e,t,r){var n=this;return t.map(function(t){return c(n._storeData,e,t,r).data})},e.prototype.readQuery=function(e,t){var r=this,n=this._storeData.getQueuedStore(),i=e.getStorageKey(),o=[];return u(e,function(a){var s=void 0,u=n.getDataID(i,a);null!=u&&(s=r.read(e,u,t)),o.push(s)}),o},e.prototype.observe=function(e,t){var r=new o(e.isPlural()?[t]:t,e);return new a(this._storeData,r)},e.prototype.getFragmentResolver=function(e,t){return new i(this._storeData,e,t)},e.prototype.applyUpdate=function(e,t){return this._storeData.getMutationQueue().createTransaction(e,t)},e.prototype.commitUpdate=function(e,t){var r=this.applyUpdate(e,t);return r.commit(),r},e.prototype.update=function(e,t){this.commitUpdate(e,t)},e}());e.exports=h},function(e,t,r){"use strict";var n=r(68)["default"];Object.defineProperty(t,"__esModule",{value:!0});var i=n({CLIENT:"CLIENT",PRELOAD:"PRELOAD",REFETCH:"REFETCH"});e.exports=i},function(e,t,r){"use strict";var n=r(3)["default"],i=r(244),o=r(5),a=function(){function e(t,r){n(this,e),this._id=r,this._mutationQueue=t}return e.prototype.commit=function(){var e=this.getStatus();e!==i.UNCOMMITTED?o(!1):void 0,this._mutationQueue.commit(this._id)},e.prototype.recommit=function(){var e=this.getStatus();e!==i.COMMIT_FAILED&&e!==i.COLLISION_COMMIT_FAILED?o(!1):void 0,this._mutationQueue.commit(this._id)},e.prototype.rollback=function(){var e=this.getStatus();e!==i.UNCOMMITTED&&e!==i.COMMIT_FAILED&&e!==i.COLLISION_COMMIT_FAILED?o(!1):void 0,this._mutationQueue.rollback(this._id)},e.prototype.getError=function(){return this._mutationQueue.getError(this._id)},e.prototype.getStatus=function(){return this._mutationQueue.getStatus(this._id)},e}();e.exports=a},function(e,t){"use strict";var r={UNCOMMITTED:"UNCOMMITTED",COMMIT_QUEUED:"COMMIT_QUEUED",COLLISION_COMMIT_FAILED:"COLLISION_COMMIT_FAILED",COMMITTING:"COMMITTING",COMMIT_FAILED:"COMMIT_FAILED"};e.exports=r},function(e,t){"use strict";var r={FIELDS_CHANGE:"FIELDS_CHANGE",NODE_DELETE:"NODE_DELETE",RANGE_ADD:"RANGE_ADD",RANGE_DELETE:"RANGE_DELETE",REQUIRED_CHILDREN:"REQUIRED_CHILDREN"};e.exports=r},function(e,t,r){"use strict";var n=r(3)["default"],i=function(){function e(t){n(this,e),this._builder=t}return e.prototype.getFragmentForRoute=function(e){return this._builder(e)},e}();e.exports=i},function(e,t,r){"use strict";function n(e){return e.map(function(e){var t=e.name,r=e.value,n=null;return Array.isArray(r)?n=r.map(i.createCallValue):null!=r&&(n=i.createCallValue(r)),i.createCall(t,n)})}var i=r(45);e.exports=n},function(e,t){"use strict";function r(e,t){return"client:"+e+":"+t}e.exports=r},function(e,t){"use strict";function r(){return n++}var n=1;e.exports=r},function(e,t,r){"use strict";function n(e,t){p.has(e)||p.set(e,{});var r=t.name+":"+h(t.params),n=p.get(e);if(n.hasOwnProperty(r))return n[r];var o={};return e.getFragmentNames().forEach(function(e){o[e]=null}),i(t.queries).forEach(function(r){if(e.hasFragment(r)){var n=t.queries[r];if(n){var i=c.Query(n,e,r,t.params);if(void 0===i?l(!1):void 0,i){var s=u.Root.create(i,a.get(t.name),t.params),h=s.getIdentifyingArg();if(!h||void 0!==h.value)return void(o[r]=s)}}o[r]=null}}),n[r]=o,o}var i=r(24)["default"],o=r(110),a=r(54),s=r(13),u=r(12),c=r(149),l=r(5),h=r(256),p=(r(17),new o);e.exports=s.instrument("Relay.getQueries",n)},function(e,t){"use strict";function r(e){return!!(e&&e.getFragmentNames&&e.getFragment&&e.hasFragment&&e.hasVariable)}e.exports=r},function(e,t){"use strict";function r(e){return"object"==typeof e&&null!==e&&"function"==typeof e.getFragmentResolver&&"function"==typeof e.getStoreData}e.exports=r},function(e,t,r){"use strict";var n=r(68)["default"],i=r(103),o=r(111),a="__rangeOperation",s="__",u=o(i.RANGE_OPERATIONS,function(e,t,r){var n=t[0].toUpperCase()+t.slice(1);return a+n+s});e.exports=n(u)},function(e,t,r){"use strict";function n(e,t,r,n){var i=new M(e,n),o=i.retrieveData(t,r);return w(t,n),o}function i(e){if(!e.__hasValidatedConnectionCalls__){var t=e.getCallsWithValues();h.hasRangeCalls(t)||T.traverse(e,e),e.__hasValidatedConnectionCalls__=!0}}function o(e){return null!=e.componentDataID?e.componentDataID:e.storeDataID}function a(e){var t=e.data;return t||(t=e.data=m.create(o(e))),t instanceof Object?void 0:_(!1),t}function s(e,t){var r=a(e);return r[t]}var u=r(16)["default"],c=r(3)["default"];Object.defineProperty(t,"__esModule",{value:!0});var l=r(67),h=r(20),p=r(13),d=r(12),f=r(55),m=r(21),v=r(82),g=r(147),y=r(150),b=r(247),_=r(5),x=r(84),w=r(504),E=h.EDGES,S=h.PAGE_INFO,C=["__status__","__resolvedFragmentMapGeneration__"],M=function(e){function t(r,n){c(this,t),e.call(this),this._rangeData=r.getRangeData(),this._recordStore=r.getQueuedStore(),this._traverseFragmentReferences=n&&n.traverseFragmentReferences||!1,this._traverseGeneratedFields=n&&n.traverseGeneratedFields||!1}return u(t,e),t.prototype.retrieveData=function(e,t){var r={data:void 0,dataIDs:{}},n=this._rangeData.parseRangeClientID(t),i=this._recordStore.getRecordState(n?n.dataID:t);if(i===v.EXISTENT){var o={componentDataID:null,data:void 0,isPartial:!1,parent:null,rangeInfo:null,seenDataIDs:r.dataIDs,storeDataID:t};this.visit(e,o),r.data=o.data}else i===v.NONEXISTENT&&(r.data=null);return r},t.prototype.visitField=function(e,t){if(this._handleRangeInfo(e,t),(e.canHaveSubselections()||e.isGenerated())&&a(t),!e.isGenerated()||this._traverseGeneratedFields){var r=t.rangeInfo;r&&e.getSchemaName()===E?this._readEdges(e,r,t):r&&e.getSchemaName()===S?this._readPageInfo(e,r,t):e.canHaveSubselections()?e.isPlural()?this._readPlural(e,t):e.isConnection()?this._readConnection(e,t):this._readLinkedField(e,t):this._readScalar(e,t),t.seenDataIDs[t.storeDataID]=!0}},t.prototype.visitFragment=function(e,t){var r=o(t);if(e.isContainerFragment()&&!this._traverseFragmentReferences){t.seenDataIDs[r]=!0;
var n=new l(e.isPlural()?[r]:r,e);this._setDataValue(t,n.getFragment().getConcreteNodeHash(),n)}else x(e,this._recordStore.getType(r))&&this.traverse(e,t)},t.prototype._readScalar=function(e,t){var r=e.getStorageKey(),n=this._recordStore.getField(t.storeDataID,r);return void 0===n?void(t.isPartial=!0):void(null!==n||t.data?this._setDataValue(t,e.getApplicationName(),Array.isArray(n)?n.slice():n):t.data=null)},t.prototype._readPlural=function(e,t){var r=this,n=e.getStorageKey(),i=this._recordStore.getLinkedRecordIDs(t.storeDataID,n);if(i){var o=e.getApplicationName(),a=s(t,o),u=i.map(function(n,i){var o;a instanceof Object&&(o=a[i]);var s={componentDataID:null,data:o,isPartial:!1,parent:e,rangeInfo:null,seenDataIDs:t.seenDataIDs,storeDataID:n};return e.getChildren().forEach(function(e){return r.visit(e,s)}),s.isPartial&&(t.isPartial=!0),s.data});this._setDataValue(t,o,u)}},t.prototype._readConnection=function(e,t){var r=e.getApplicationName(),n=e.getStorageKey(),o=e.getCallsWithValues(),a=this._recordStore.getLinkedRecordID(t.storeDataID,n);if(!a)return void(t.isPartial=!0);i(e);var u=this._recordStore.getRangeMetadata(a,o),c={componentDataID:this._getConnectionClientID(e,a),data:s(t,r),isPartial:!1,parent:e,rangeInfo:u&&o.length?u:null,seenDataIDs:t.seenDataIDs,storeDataID:a};this.traverse(e,c),c.isPartial&&(t.isPartial=!0),this._setDataValue(t,r,c.data)},t.prototype._readEdges=function(e,t,r){var n=this;t.diffCalls.length&&(r.isPartial=!0);var i=s(r,E),o=t.filteredEdges.map(function(t,o){var a;i instanceof Object&&(a=i[o]);var s={componentDataID:null,data:a,isPartial:!1,parent:e,rangeInfo:null,seenDataIDs:r.seenDataIDs,storeDataID:t.edgeID};return n.traverse(e,s),s.isPartial&&(r.isPartial=!0),s.data});this._setDataValue(r,E,o)},t.prototype._readPageInfo=function(e,t,r){var n=this,i=t.pageInfo;i?void 0:_(!1),t.diffCalls.length&&(r.isPartial=!0);var a,s=i,u=function c(e){if(e instanceof d.Fragment)if(e.isContainerFragment()&&!n._traverseFragmentReferences){var t=new l(o(r),e);a=a||{};var i=t.getFragment().getConcreteNodeHash();a[i]=t}else e.getChildren().forEach(c);else{var u=e;(!u.isGenerated()||n._traverseGeneratedFields)&&(a=a||{},a[u.getApplicationName()]=s[u.getStorageKey()])}};e.getChildren().forEach(u),this._setDataValue(r,S,a)},t.prototype._readLinkedField=function(e,t){var r=e.getStorageKey(),n=e.getApplicationName(),i=this._recordStore.getLinkedRecordID(t.storeDataID,r);if(null==i)return void 0===i&&(t.isPartial=!0),void this._setDataValue(t,n,i);var o={componentDataID:null,data:s(t,n),isPartial:!1,parent:e,rangeInfo:null,seenDataIDs:t.seenDataIDs,storeDataID:i},u=this._recordStore.getRecordState(i);u===v.EXISTENT&&a(o),this.traverse(e,o),o.isPartial&&(t.isPartial=!0),this._setDataValue(t,n,o.data)},t.prototype._setDataValue=function(e,t,r){var n=this,i=a(e);void 0!==r&&(i[t]=r,C.forEach(function(t){var r=n._recordStore.getField(e.storeDataID,t);null!=r&&(i[t]=r)}),e.isPartial&&(i.__status__=g.setPartialStatus(i.__status__,!0)))},t.prototype._getConnectionClientID=function(e,t){var r=e.getCallsWithValues();return h.hasRangeCalls(r)?this._rangeData.getClientIDForRangeWithID(b(r),{},t):t},t.prototype._handleRangeInfo=function(e,t){var r=this._rangeData.parseRangeClientID(t.storeDataID);null!=r&&(t.componentDataID=t.storeDataID,t.storeDataID=r.dataID,t.rangeInfo=this._recordStore.getRangeMetadata(t.storeDataID,y(r.calls,r.callValues)))},t}(f),A=function(e){function t(){c(this,t),e.apply(this,arguments)}return u(t,e),t.prototype.visitField=function(e,t){var r=e.getSchemaName();r===E||r===S?_(!1):void 0},t}(f),T=new A;e.exports=p.instrument("readRelayQueryData",n)},function(e,t,r){"use strict";var n=r(102);e.exports=n.unstable_batchedUpdates},function(e,t,r){"use strict";function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t=Array.isArray(e),r=n(e);if(t||r){var a=o(e);if(a.length){var s=[];a.sort();for(var u=0;u<a.length;u++){var c=a[u],l=e[c];l=n(l)||Array.isArray(l)?i(l):JSON.stringify(l),s.push(c+":"+l)}return t?"["+s.join(",")+"]":"{"+s.join(",")+"}"}}return JSON.stringify(e)}var o=r(24)["default"];e.exports=i},function(e,t,r){e.exports={"default":r(355),__esModule:!0}},function(e,t){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=n},function(e,t){"use strict";/**
	 * Checks if two values are equal. Values may be primitives, arrays, or objects.
	 * Returns true if both arguments have the same keys and values.
	 *
	 * @see http://underscorejs.org
	 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
	 * @license MIT
	 */
function r(e,t){var r=i.length?i.pop():[],a=o.length?o.pop():[],s=n(e,t,r,a);return r.length=0,a.length=0,i.push(r),o.push(a),s}function n(e,t,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var o=Object.prototype.toString,a=o.call(e);if(a!=o.call(t))return!1;switch(a){case"[object String]":return e==String(t);case"[object Number]":return isNaN(e)||isNaN(t)?!1:e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var s=r.length;s--;)if(r[s]==e)return i[s]==t;r.push(e),i.push(t);var u=0;if("[object Array]"===a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!n(e[u],t[u],r,i))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var c=Object.keys(e);if(c.length!=Object.keys(t).length)return!1;for(var l=0;l<c.length;l++)if(!n(e[c[l]],t[c[l]],r,i))return!1}return r.pop(),i.pop(),!0}var i=[],o=[];e.exports=r},function(e,t){(function(t){"use strict";function r(e){for(var t=-1,r=0,i=e.length;i>r;r++)t=t>>>8^n[255&(t^e.charCodeAt(r))];return~t}var n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];void 0!==t.Int32Array&&(n=new Int32Array(n)),e.exports=r}).call(t,function(){return this}())},function(e,t){"use strict";function r(e,t,r){for(var i in e)if(n.call(e,i)&&!t.call(r,e[i],i,e))return!1;return!0}var n=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,r){(function(t){"use strict";t.fetch?e.exports=t.fetch.bind(t):e.exports=r(410)}).call(t,function(){return this}())},function(e,t){"use strict";function r(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,function(e){return r[i++]})}e.exports=r},function(e,t,r){"use strict";var n=r(130)["default"],i=r(128)["default"],o=r(90)["default"],a=r(129)["default"],s=r(60)["default"];t.__esModule=!0;var u=r(4),c=s(u),l=r(11),h=s(l),p=r(47),d=r(265),f=s(d),m=r(522),v=s(m),g=function(e){function t(r,n){var i=this;o(this,t),e.call(this,r,n),this.createElement=function(e,t){return c["default"].createElement(v["default"],a({},t,{Component:e,createElement:i.props.createElement}))},this.renderFailure=function(e,t){return i._routeAggregator.setFailure(e,t),i.renderComponent()},this.renderFetched=function(e,t){return i._routeAggregator.setFetched(e,t),i.renderComponent()},this.renderLoading=function(){return i._routeAggregator.setLoading(),i.renderComponent()},this._routeAggregator=new f["default"],this._routeAggregator.updateRoute(r)}return n(t,e),i(t,null,[{key:"displayName",value:"RelayRouterContext",enumerable:!0},{key:"propTypes",value:{createElement:c["default"].PropTypes.func.isRequired,location:c["default"].PropTypes.object.isRequired},enumerable:!0},{key:"childContextTypes",value:{routeAggregator:c["default"].PropTypes.instanceOf(f["default"]).isRequired},enumerable:!0},{key:"defaultProps",value:{createElement:c["default"].createElement},enumerable:!0}]),t.prototype.getChildContext=function(){return{routeAggregator:this._routeAggregator}},t.prototype.componentWillReceiveProps=function(e){e.location!==this.props.location&&this._routeAggregator.updateRoute(e)},t.prototype.renderComponent=function(){return c["default"].createElement(p.RouterContext,a({},this.props,{createElement:this.createElement}))},t.prototype.render=function(){return c["default"].createElement(h["default"].RootContainer,a({},this.props,{Component:this._routeAggregator,renderFailure:this.renderFailure,renderFetched:this.renderFetched,renderLoading:this.renderLoading,route:this._routeAggregator.route}))},t}(c["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,r){"use strict";var n=r(90)["default"],i=r(350)["default"],o=r(127)["default"],a=r(348)["default"],s=r(204)["default"],u=r(60)["default"];t.__esModule=!0;var c=r(23),l=u(c),h=r(11),p=u(h),d=r(266),f=u(d),m=function(){function e(){n(this,e),this._routeIndices=new i,this._lastRouteIndex=0,this.route=null,this._fragmentSpecs=null,this._failure=null,this._data={},this._readyState=null}return e.prototype.updateRoute=function(e){var t=this,r=e.routes,n=e.components,i=e.params,s=e.location,u={name:null,queries:{},params:{}},c={};r.forEach(function(e,h){var d=e.queries;if(d){var m=n[h];p["default"].isContainer(m)?void 0:l["default"](!1);var v=f["default"]({route:e,routes:r,params:i,location:s});o(u.params,v),a(d).forEach(function(r){var n=d[r],i=t._getUniqueQueryName(e,r),o=void 0;o=0===n.length?function(){return n()}:function(e){return n(m,v)},u.queries[i]=o,c[i]={component:m,queryName:r}})}}),u.name=["$$_aggregated"].concat(a(u.queries)).join("-"),this.route=u,this._fragmentSpecs=c},e.prototype._getUniqueQueryName=function(e,t){if(e.name)return"$_"+e.name+"_"+t;var r=this._routeIndices.get(e);return void 0===r&&(r=++this._lastRouteIndex,this._routeIndices.set(e,r)),"$$_route["+r+"]_"+t},e.prototype.setFailure=function(e,t){this._failure=[e,t]},e.prototype.setFetched=function(e,t){this._failure=null,this._data=e,this._readyState=t},e.prototype.setLoading=function(){this._failure=null},e.prototype.getData=function(e,t,r){for(var n=a(r),i=Array.isArray(n),o=0,n=i?n:s(n);;){var u;if(i){if(o>=n.length)break;u=n[o++]}else{if(o=n.next(),o.done)break;u=o.value}var c=u;if(this._data[c]!==r[c])return this._getDataNotFound()}for(var l={},h=a(t),p=Array.isArray(h),d=0,h=p?h:s(h);;){var f;if(p){if(d>=h.length)break;f=h[d++]}else{if(d=h.next(),d.done)break;f=d.value}var m=f,v=this._getUniqueQueryName(e,m),g=this._data[v];if(!g)return this._getDataNotFound();l[m]=g}return{fragmentPointers:l,readyState:this._readyState}},e.prototype._getDataNotFound=function(){return{failure:this._failure}},e.prototype.getFragmentNames=function(){return a(this._fragmentSpecs)},e.prototype.getFragment=function(e,t){var r=this._fragmentSpecs[e],n=r.component,i=r.queryName;return n.getFragment(i,t)},e.prototype.hasFragment=function(e){return void 0!==this._fragmentSpecs[e]},e.prototype.hasVariable=function(e){return this.route.params.hasOwnProperty(e)},e}();t["default"]=m,e.exports=t["default"]},function(e,t,r){"use strict";function n(e,t){if(!e)return null;var r={};return e.forEach(function(e){var n=t?t[e]:null;r[e]=void 0!==n?n:null}),r}function i(e){for(var t=e.route,r=e.routes,i=e.params,s=e.location,u={},l=r,p=Array.isArray(l),d=0,l=p?l:o(l);;){var f;if(p){if(d>=l.length)break;f=l[d++]}else{if(d=l.next(),d.done)break;f=d.value}var m=f;if(a(u,h["default"](m,i)),m===t)break}a(u,n(t.queryParams,s.query),n(t.stateParams,s.state));var v=t.prepareParams;return v&&("function"!=typeof v?c["default"](!1):void 0,u=v(u,t),"object"!=typeof u||null===u?c["default"](!1):void 0),u}var o=r(204)["default"],a=r(127)["default"],s=r(60)["default"];t.__esModule=!0,t["default"]=i;var u=r(23),c=s(u),l=r(273),h=s(l);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e){return 0===e.button}function a(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function u(e,t){var r=t.query,n=t.hash,i=t.state;return r||n||i?{pathname:e,query:r,hash:n,state:i}:e}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=r(4),h=n(l),p=r(22),d=(n(p),h["default"].PropTypes),f=d.bool,m=d.object,v=d.string,g=d.func,y=d.oneOfType,b=h["default"].createClass({displayName:"Link",contextTypes:{router:m},propTypes:{to:y([v,m]).isRequired,query:m,hash:v,state:m,activeStyle:m,activeClassName:v,onlyActiveOnIndex:f.isRequired,onClick:g},getDefaultProps:function(){return{onlyActiveOnIndex:!1,className:"",style:{}}},handleClick:function(e){var t=!0;if(this.props.onClick&&this.props.onClick(e),!a(e)&&o(e)){if(e.defaultPrevented===!0&&(t=!1),this.props.target)return void(t||e.preventDefault());if(e.preventDefault(),t){var r=this.props,n=r.to,i=r.query,s=r.hash,c=r.state,l=u(n,{query:i,hash:s,state:c});this.context.router.push(l)}}},render:function(){var e=this.props,t=e.to,r=e.query,n=e.hash,o=e.state,a=e.activeClassName,l=e.activeStyle,p=e.onlyActiveOnIndex,d=i(e,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]),f=this.context.router;if(f){var m=u(t,{query:r,hash:n,state:o});d.href=f.createHref(m),(a||null!=l&&!s(l))&&f.isActive(m,p)&&(a&&(d.className+=""===d.className?a:" "+a),l&&(d.style=c({},d.style,l)))}return h["default"].createElement("a",c({},d,{onClick:this.handleClick}))}});t["default"]=b,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(4),o=n(i),a=r(23),s=n(a),u=r(46),c=r(71),l=r(56),h=o["default"].PropTypes,p=h.string,d=h.object,f=o["default"].createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=u.createRouteFromReactElement(e);return t.from&&(t.path=t.from),t.onEnter=function(e,r){var n=e.location,i=e.params,o=void 0;if("/"===t.to.charAt(0))o=c.formatPattern(t.to,i);else if(t.to){var a=e.routes.indexOf(t),s=f.getRoutePattern(e.routes,a-1),u=s.replace(/\/*$/,"/")+t.to;o=c.formatPattern(u,i)}else o=n.pathname;r({pathname:o,query:t.query||n.query,state:t.state||n.state})},t},getRoutePattern:function(e,t){for(var r="",n=t;n>=0;n--){var i=e[n],o=i.path||"";if(r=o.replace(/\/*$/,"/")+r,0===o.indexOf("/"))break}return"/"+r}},propTypes:{path:p,from:p,to:p.isRequired,query:d,state:d,onEnter:l.falsy,children:l.falsy},render:function(){s["default"](!1)}});t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return a({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive})}function o(e,t){return e=a({},e,t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.createRouterObject=i,t.createRoutingHistory=o;var s=r(272);n(s)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=l["default"](e),r=function(){return t},n=a["default"](u["default"](r))(e);return n.__v2_compatible__=!0,n}t.__esModule=!0,t["default"]=i;var o=r(101),a=n(o),s=r(232),u=n(s),c=r(405),l=n(c);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(274),o=n(i),a=!("undefined"==typeof window||!window.document||!window.document.createElement);t["default"]=function(e){var t=void 0;return a&&(t=o["default"](e)()),t},e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!a)return e;var r={},n=function(t){"function"==typeof e[t]?r[t]=function(){return e[t].apply(e,arguments)}:Object.defineProperty(r,t,{configurable:!1,enumerable:!1,get:function(){return e[t]}})};for(var i in e)n(i);return r}t.__esModule=!0,t["default"]=i;var o=r(22),a=(n(o),!1);e.exports=t["default"]},function(e,t,r){"use strict";function n(e,t){var r={};if(!e.path)return r;var n=i.getParamNames(e.path);for(var o in t)t.hasOwnProperty(o)&&-1!==n.indexOf(o)&&(r[o]=t[o]);return r}t.__esModule=!0;var i=r(71);t["default"]=n,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return function(t){var r=a["default"](u["default"](e))(t);return r.__v2_compatible__=!0,r}}t.__esModule=!0,t["default"]=i;var o=r(101),a=n(o),s=r(232),u=n(s);e.exports=t["default"]},function(e,t,r){e.exports=r(542)},function(e,t){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(e){i.forEach(function(t){n[r(t,e)]=n[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:n,shorthandPropertyExpansions:o};e.exports=a},function(e,t,r){"use strict";function n(e,t,r){var n=r>=e.childNodes.length?null:e.childNodes.item(r);e.insertBefore(t,n)}var i=r(548),o=r(294),a=r(34),s=r(119),u=r(179),c=r(6),l={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:u,processUpdates:function(e,t){for(var r,a=null,l=null,h=0;h<e.length;h++)if(r=e[h],r.type===o.MOVE_EXISTING||r.type===o.REMOVE_NODE){var p=r.fromIndex,d=r.parentNode.childNodes[p],f=r.parentID;d?void 0:c(!1),a=a||{},a[f]=a[f]||[],a[f][p]=d,l=l||[],l.push(d)}var m;if(m=t.length&&"string"==typeof t[0]?i.dangerouslyRenderMarkup(t):t,l)for(var v=0;v<l.length;v++)l[v].parentNode.removeChild(l[v]);for(var g=0;g<e.length;g++)switch(r=e[g],r.type){case o.INSERT_MARKUP:n(r.parentNode,m[r.markupIndex],r.toIndex);break;case o.MOVE_EXISTING:n(r.parentNode,a[r.parentID][r.fromIndex],r.toIndex);break;case o.SET_MARKUP:s(r.parentNode,r.content);break;case o.TEXT_CONTENT:u(r.parentNode,r.content);break;case o.REMOVE_NODE:}}};a.measureMethods(l,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),e.exports=l},function(e,t,r){"use strict";function n(){if(s)for(var e in u){var t=u[e],r=s.indexOf(e);if(r>-1?void 0:a(!1),!c.plugins[r]){t.extractEvents?void 0:a(!1),c.plugins[r]=t;var n=t.eventTypes;for(var o in n)i(n[o],t,o)?void 0:a(!1)}}}function i(e,t,r){c.eventNameDispatchConfigs.hasOwnProperty(r)?a(!1):void 0,c.eventNameDispatchConfigs[r]=e;var n=e.phasedRegistrationNames;if(n){for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];o(s,t,r)}return!0}return e.registrationName?(o(e.registrationName,t,r),!0):!1}function o(e,t,r){c.registrationNameModules[e]?a(!1):void 0,c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[r].dependencies}var a=r(6),s=null,u={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s?a(!1):void 0,s=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];u.hasOwnProperty(r)&&u[r]===i||(u[r]?a(!1):void 0,u[r]=i,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var r in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(r)){var n=c.registrationNameModules[t.phasedRegistrationNames[r]];if(n)return n}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var r in t)t.hasOwnProperty(r)&&delete t[r];var n=c.registrationNameModules;for(var i in n)n.hasOwnProperty(i)&&delete n[i]}};e.exports=c},function(e,t,r){"use strict";function n(e){return(""+e).replace(_,"//")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,r){var n=e.func,i=e.context;n.call(i,t,e.count++)}function a(e,t,r){if(null==e)return e;var n=i.getPooled(t,r);g(e,o,n),i.release(n)}function s(e,t,r,n){this.result=e,this.keyPrefix=t,this.func=r,this.context=n,this.count=0}function u(e,t,r){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?c(u,i,r,v.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,o+(u!==t?n(u.key||"")+"/":"")+r)),i.push(u))}function c(e,t,r,i,o){var a="";null!=r&&(a=n(r)+"/");var c=s.getPooled(t,a,i,o);g(e,u,c),s.release(c)}function l(e,t,r){if(null==e)return e;var n=[];return c(e,n,null,t,r),n}function h(e,t,r){return null}function p(e,t){return g(e,h,null)}function d(e){var t=[];return c(e,t,null,v.thatReturnsArgument),t}var f=r(48),m=r(29),v=r(37),g=r(181),y=f.twoArgumentPooler,b=f.fourArgumentPooler,_=/\/(?!\/)/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,b);var x={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:p,toArray:d};e.exports=x},function(e,t,r){"use strict";function n(e,t){var r=w.hasOwnProperty(t)?w[t]:null;S.hasOwnProperty(t)&&(r!==_.OVERRIDE_BASE?v(!1):void 0),e.hasOwnProperty(t)&&(r!==_.DEFINE_MANY&&r!==_.DEFINE_MANY_MERGED?v(!1):void 0)}function i(e,t){if(t){"function"==typeof t?v(!1):void 0,p.isValidElement(t)?v(!1):void 0;var r=e.prototype;t.hasOwnProperty(b)&&E.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==b){var o=t[i];if(n(r,i),E.hasOwnProperty(i))E[i](e,o);else{var a=w.hasOwnProperty(i),c=r.hasOwnProperty(i),l="function"==typeof o,h=l&&!a&&!c&&t.autobind!==!1;if(h)r.__reactAutoBindMap||(r.__reactAutoBindMap={}),r.__reactAutoBindMap[i]=o,r[i]=o;else if(c){var d=w[i];!a||d!==_.DEFINE_MANY_MERGED&&d!==_.DEFINE_MANY?v(!1):void 0,d===_.DEFINE_MANY_MERGED?r[i]=s(r[i],o):d===_.DEFINE_MANY&&(r[i]=u(r[i],o))}else r[i]=o}}}}function o(e,t){if(t)for(var r in t){var n=t[r];if(t.hasOwnProperty(r)){var i=r in E;i?v(!1):void 0;var o=r in e;o?v(!1):void 0,e[r]=n}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:v(!1);for(var r in t)t.hasOwnProperty(r)&&(void 0!==e[r]?v(!1):void 0,e[r]=t[r]);return e}function s(e,t){return function(){var r=e.apply(this,arguments),n=t.apply(this,arguments);if(null==r)return n;if(null==n)return r;var i={};return a(i,r),a(i,n),i}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var r=t.bind(e);return r}function l(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var r=e.__reactAutoBindMap[t];e[t]=c(e,r)}}var h=r(281),p=r(29),d=(r(114),r(113),r(296)),f=r(7),m=r(79),v=r(6),g=r(99),y=r(40),b=(r(8),y({mixins:null})),_=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],w={mixins:_.DEFINE_MANY,statics:_.DEFINE_MANY,propTypes:_.DEFINE_MANY,contextTypes:_.DEFINE_MANY,childContextTypes:_.DEFINE_MANY,getDefaultProps:_.DEFINE_MANY_MERGED,getInitialState:_.DEFINE_MANY_MERGED,getChildContext:_.DEFINE_MANY_MERGED,render:_.DEFINE_ONCE,componentWillMount:_.DEFINE_MANY,componentDidMount:_.DEFINE_MANY,componentWillReceiveProps:_.DEFINE_MANY,shouldComponentUpdate:_.DEFINE_ONCE,componentWillUpdate:_.DEFINE_MANY,componentDidUpdate:_.DEFINE_MANY,componentWillUnmount:_.DEFINE_MANY,updateComponent:_.OVERRIDE_BASE},E={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var r=0;r<t.length;r++)i(e,t[r])},childContextTypes:function(e,t){e.childContextTypes=f({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=f({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=f({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},S={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},C=function(){};f(C.prototype,h.prototype,S);var M={createClass:function(e){var t=function(e,t,r){this.__reactAutoBindMap&&l(this),this.props=e,this.context=t,this.refs=m,this.updater=r||d,this.state=null;var n=this.getInitialState?this.getInitialState():null;"object"!=typeof n||Array.isArray(n)?v(!1):void 0,this.state=n};t.prototype=new C,t.prototype.constructor=t,x.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:v(!1);for(var r in w)t.prototype[r]||(t.prototype[r]=null);return t},injection:{injectMixin:function(e){x.push(e)}}};e.exports=M},function(e,t,r){"use strict";function n(e,t,r){this.props=e,this.context=t,this.refs=o,this.updater=r||i}var i=r(296),o=(r(117),r(79)),a=r(6);r(8);n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};e.exports=n},function(e,t,r){"use strict";var n=r(42),i=r(285),o=r(287),a=r(73),s=r(25),u=r(34),c=r(57),l=r(35),h=r(171),p=r(172),d=r(597);r(8);o.inject();var f=u.measure("React","render",s.render),m={findDOMNode:p,render:f,unmountComponentAtNode:s.unmountComponentAtNode,version:h,unstable_batchedUpdates:l.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:n,InstanceHandles:a,Mount:s,Reconciler:c,TextComponent:i});e.exports=m},function(e,t){"use strict";var r={useCreateElement:!1};e.exports=r},function(e,t,r){"use strict";function n(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=a.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,r){var n,i,o=s.getNode(e._rootNodeID).options;if(t){for(n={},i=0;i<r.length;i++)n[""+r[i]]=!0;for(i=0;i<o.length;i++){var a=n.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(n=""+r,i=0;i<o.length;i++)if(o[i].value===n)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,r=a.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,u.asap(n,this),r}var a=r(166),s=r(25),u=r(35),c=r(7),l=(r(8),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),h={valueContextKey:l,getNativeProps:function(e,t,r){return c({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var r=a.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=r?r:t.defaultValue,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,r){var n=c({},r);return n[l]=e._wrapperState.initialValue,n},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var n=a.getValue(t);null!=n?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),n)):r!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=h},function(e,t,r){"use strict";var n=r(277),i=r(165),o=r(167),a=r(25),s=r(7),u=r(118),c=r(179),l=(r(182),function(e){});s(l.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,r){if(this._rootNodeID=e,t.useCreateElement){var n=r[a.ownerDocumentContextKey],o=n.createElement("span");return i.setAttributeForID(o,e),a.getID(o),c(o,this._stringText),o}var s=u(this._stringText);return t.renderToStaticMarkup?s:"<span "+i.createMarkupForID(e)+">"+s+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var r=""+e;if(r!==this._stringText){this._stringText=r;var i=a.getNode(this._rootNodeID);n.updateTextContent(i,r)}}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=l},function(e,t,r){"use strict";function n(){this.reinitializeTransaction()}var i=r(35),o=r(116),a=r(7),s=r(37),u={initialize:s,close:function(){p.isBatchingUpdates=!1}},c={initialize:s,close:i.flushBatchedUpdates.bind(i)},l=[c,u];a(n.prototype,o.Mixin,{getTransactionWrappers:function(){return l}});var h=new n,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,r,n,i,o){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?e(t,r,n,i,o):h.perform(e,null,t,r,n,i,o)}};e.exports=p},function(e,t,r){"use strict";function n(){if(!C){C=!0,g.EventEmitter.injectReactEventListener(v),g.EventPluginHub.injectEventPluginOrder(s),g.EventPluginHub.injectInstanceHandle(y),g.EventPluginHub.injectMount(b),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:o,SelectEventPlugin:x,BeforeInputEventPlugin:i}),g.NativeComponent.injectGenericComponentClass(f),g.NativeComponent.injectTextComponentClass(m),g.Class.injectMixin(h),g.DOMProperty.injectDOMPropertyConfig(l),g.DOMProperty.injectDOMPropertyConfig(S),g.EmptyComponent.injectEmptyComponent("noscript"),g.Updates.injectReconcileTransaction(_),g.Updates.injectBatchingStrategy(d),g.RootIndex.injectCreateReactRootIndex(c.canUseDOM?a.createReactRootIndex:w.createReactRootIndex),g.Component.injectEnvironment(p)}}var i=r(544),o=r(546),a=r(547),s=r(549),u=r(550),c=r(19),l=r(553),h=r(555),p=r(167),d=r(286),f=r(559),m=r(285),v=r(567),g=r(568),y=r(73),b=r(25),_=r(572),x=r(578),w=r(579),E=r(580),S=r(577),C=!1;e.exports={inject:n}},function(e,t,r){"use strict";function n(){if(h.current){var e=h.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;o("uniqueKey",e,t)}}function o(e,t,r){var i=n();if(!i){var o="string"==typeof r?r:r.displayName||r.name;o&&(i=" Check the top-level render call using <"+o+">.")}var a=f[e]||(f[e]={});if(a[i])return null;a[i]=!0;var s={parentOrOwner:i,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==h.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];c.isValidElement(n)&&i(n,t)}else if(c.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=p(e);if(o&&o!==e.entries)for(var a,s=o.call(e);!(a=s.next()).done;)c.isValidElement(a.value)&&i(a.value,t)}}function s(e,t,r,i){for(var o in t)if(t.hasOwnProperty(o)){var a;try{"function"!=typeof t[o]?d(!1):void 0,a=t[o](r,o,e,i)}catch(s){a=s}if(a instanceof Error&&!(a.message in m)){m[a.message]=!0;n()}}}function u(e){var t=e.type;if("function"==typeof t){var r=t.displayName||t.name;t.propTypes&&s(r,t.propTypes,e.props,l.prop),"function"==typeof t.getDefaultProps}}var c=r(29),l=r(114),h=(r(113),r(42)),p=(r(117),r(176)),d=r(6),f=(r(8),{}),m={},v={createElement:function(e,t,r){var n="string"==typeof e||"function"==typeof e,i=c.createElement.apply(this,arguments);if(null==i)return i;if(n)for(var o=2;o<arguments.length;o++)a(arguments[o],e);return u(i),i},createFactory:function(e){var t=v.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,r){for(var n=c.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)a(arguments[i],n.type);return u(n),n}};e.exports=v},function(e,t,r){"use strict";var n,i=r(29),o=r(290),a=r(57),s=r(7),u={injectEmptyComponent:function(e){n=i.createElement(e)}},c=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(n)};s(c.prototype,{construct:function(e){},mountComponent:function(e,t,r){return o.registerNullComponentID(e),this._rootNodeID=e,a.mountComponent(this._renderedComponent,e,t,r)},receiveComponent:function(){},unmountComponent:function(e,t,r){a.unmountComponent(this._renderedComponent),o.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),c.injection=u,e.exports=c},function(e,t){"use strict";function r(e){return!!o[e]}function n(e){o[e]=!0}function i(e){delete o[e]}var o={},a={isNullComponentID:r,registerNullComponentID:n,deregisterNullComponentID:i};e.exports=a},function(e,t,r){"use strict";function n(e,t,r,n){try{return t(r,n)}catch(o){return void(null===i&&(i=o))}}var i=null,o={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=o},function(e,t,r){"use strict";function n(e){return o(document.documentElement,e)}var i=r(563),o=r(222),a=r(223),s=r(224),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable);
},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),r=e.focusedElem,i=e.selectionRange;t!==r&&n(r)&&(u.hasSelectionCapabilities(r)&&u.setSelection(r,i),a(r))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var r=document.selection.createRange();r.parentElement()===e&&(t={start:-r.moveStart("character",-e.value.length),end:-r.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var r=t.start,n=t.end;if("undefined"==typeof n&&(n=r),"selectionStart"in e)e.selectionStart=r,e.selectionEnd=Math.min(n,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",r),o.moveEnd("character",n-r),o.select()}else i.setOffsets(e,t)}};e.exports=u},function(e,t,r){"use strict";var n=r(589),i=/\/?>/,o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return e.replace(i," "+o.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var r=t.getAttribute(o.CHECKSUM_ATTR_NAME);r=r&&parseInt(r,10);var i=n(e);return i===r}};e.exports=o},function(e,t,r){"use strict";var n=r(99),i=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=i},function(e,t,r){"use strict";function n(e){if("function"==typeof e.type)return e.type;var t=e.type,r=h[t];return null==r&&(h[t]=r=c(t)),r}function i(e){return l?void 0:u(!1),new l(e.type,e.props)}function o(e){return new p(e)}function a(e){return e instanceof p}var s=r(7),u=r(6),c=null,l=null,h={},p=null,d={injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){p=e},injectComponentClasses:function(e){s(h,e)}},f={getComponentClassForElement:n,createInternalComponent:i,createInstanceForText:o,isTextComponent:a,injection:d};e.exports=f},function(e,t,r){"use strict";function n(e,t){}var i=(r(8),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){n(e,"forceUpdate")},enqueueReplaceState:function(e,t){n(e,"replaceState")},enqueueSetState:function(e,t){n(e,"setState")},enqueueSetProps:function(e,t){n(e,"setProps")},enqueueReplaceProps:function(e,t){n(e,"replaceProps")}});e.exports=i},function(e,t,r){"use strict";function n(e){function t(t,r,n,i,o,a){if(i=i||w,a=a||n,null==r[n]){var s=b[o];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+i+"`.")):null}return e(r,n,i,o,a)}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}function i(e){function t(t,r,n,i,o){var a=t[r],s=m(a);if(s!==e){var u=b[i],c=v(a);return new Error("Invalid "+u+" `"+o+"` of type "+("`"+c+"` supplied to `"+n+"`, expected ")+("`"+e+"`."))}return null}return n(t)}function o(){return n(_.thatReturns(null))}function a(e){function t(t,r,n,i,o){var a=t[r];if(!Array.isArray(a)){var s=b[i],u=m(a);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+n+"`, expected an array."))}for(var c=0;c<a.length;c++){var l=e(a,c,n,i,o+"["+c+"]");if(l instanceof Error)return l}return null}return n(t)}function s(){function e(e,t,r,n,i){if(!y.isValidElement(e[t])){var o=b[n];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+r+"`, expected a single ReactElement."))}return null}return n(e)}function u(e){function t(t,r,n,i,o){if(!(t[r]instanceof e)){var a=b[i],s=e.name||w,u=g(t[r]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+u+"` supplied to `"+n+"`, expected ")+("instance of `"+s+"`."))}return null}return n(t)}function c(e){function t(t,r,n,i,o){for(var a=t[r],s=0;s<e.length;s++)if(a===e[s])return null;var u=b[i],c=JSON.stringify(e);return new Error("Invalid "+u+" `"+o+"` of value `"+a+"` "+("supplied to `"+n+"`, expected one of "+c+"."))}return n(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function l(e){function t(t,r,n,i,o){var a=t[r],s=m(a);if("object"!==s){var u=b[i];return new Error("Invalid "+u+" `"+o+"` of type "+("`"+s+"` supplied to `"+n+"`, expected an object."))}for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,n,i,o+"."+c);if(l instanceof Error)return l}return null}return n(t)}function h(e){function t(t,r,n,i,o){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,r,n,i,o))return null}var u=b[i];return new Error("Invalid "+u+" `"+o+"` supplied to "+("`"+n+"`."))}return n(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function p(){function e(e,t,r,n,i){if(!f(e[t])){var o=b[n];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+r+"`, expected a ReactNode."))}return null}return n(e)}function d(e){function t(t,r,n,i,o){var a=t[r],s=m(a);if("object"!==s){var u=b[i];return new Error("Invalid "+u+" `"+o+"` of type `"+s+"` "+("supplied to `"+n+"`, expected `object`."))}for(var c in e){var l=e[c];if(l){var h=l(a,c,n,i,o+"."+c);if(h)return h}}return null}return n(t)}function f(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(null===e||y.isValidElement(e))return!0;var t=x(e);if(!t)return!1;var r,n=t.call(e);if(t!==e.entries){for(;!(r=n.next()).done;)if(!f(r.value))return!1}else for(;!(r=n.next()).done;){var i=r.value;if(i&&!f(i[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function v(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var y=r(29),b=r(113),_=r(37),x=r(176),w="<<anonymous>>",E={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:o(),arrayOf:a,element:s(),instanceOf:u,node:p(),objectOf:l,oneOf:c,oneOfType:h,shape:d};e.exports=E},function(e,t){"use strict";var r={injectCreateReactRootIndex:function(e){n.createReactRootIndex=e}},n={createReactRootIndex:null,injection:r};e.exports=n},function(e,t){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,r){"use strict";function n(e,t){if(null==t?i(!1):void 0,null==e)return t;var r=Array.isArray(e),n=Array.isArray(t);return r&&n?(e.push.apply(e,t),e):r?(e.push(t),e):n?[e].concat(t):[e,t]}var i=r(6);e.exports=n},function(e,t){"use strict";var r=function(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)};e.exports=r},function(e,t,r){"use strict";function n(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=r(19),o=null;e.exports=n},function(e,t){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&n[e.type]||"textarea"===t)}var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=r},function(e,t,r){"use strict";var n=r(2),i=function(){function e(){}return e.prototype.call=function(e){return new n.Subscriber(e)},e}();t.Operator=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=r(2),a=r(31),s=function(e){function t(t,r){e.call(this),this.source=t,this.subjectFactory=r}return n(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this.subject;return e&&!e.isUnsubscribed?e:this.subject=this.subjectFactory()},t.prototype.connect=function(){var e=this.source,t=this.subscription;return t&&!t.isUnsubscribed?t:(t=e.subscribe(this.getSubject()),t.add(new u(this)),this.subscription=t)},t.prototype.refCount=function(){return new c(this)},t.prototype._closeSubscription=function(){this.subject=null,this.subscription=null},t}(i.Observable);t.ConnectableObservable=s;var u=function(e){function t(t){e.call(this),this.connectable=t}return n(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;e._closeSubscription(),this.connectable=null},t}(a.Subscription),c=function(e){function t(t,r){void 0===r&&(r=0),e.call(this),this.connectable=t,this.refCount=r}return n(t,e),t.prototype._subscribe=function(e){var t=this.connectable,r=new l(e,this),n=t.subscribe(r);return n.isUnsubscribed||1!==++this.refCount||(r.connection=this.connection=t.connect()),n},t}(i.Observable),l=function(e){function t(t,r){e.call(this,null),this.destination=t,this.refCountObservable=r,this.connection=r.connection,t.add(this)}return n(t,e),t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this._resetConnectable(),this.destination.error(e)},t.prototype._complete=function(){this._resetConnectable(),this.destination.complete()},t.prototype._resetConnectable=function(){var e=this.refCountObservable,t=e.connection,r=this.connection;r&&r===t&&(e.refCount=0,t.unsubscribe(),e.connection=null,this.unsubscribe())},t.prototype._unsubscribe=function(){var e=this.refCountObservable;if(0!==e.refCount&&0===--e.refCount){var t=e.connection,r=this.connection;r&&r===t&&(t.unsubscribe(),e.connection=null)}},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t){return this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.filter=n;var a=function(){function e(e,t){this.select=e,this.thisArg=t}return e.prototype.call=function(e){return new s(e,this.select,this.thisArg)},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.select=r,this.thisArg=n,this.count=0,this.select=r}return i(t,e),t.prototype._next=function(e){var t;try{t=this.select.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.map=n;var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e){return new s(e,this.project,this.thisArg)},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return i(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.unshift(this),i.apply(this,e)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return s.isScheduler(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof i&&(r=e.pop()),1===e.length?e[0]:new o.ArrayObservable(e,n).lift(new a.MergeAllOperator(r))}var o=r(49),a=r(121),s=r(59);t.merge=n,t.mergeStatic=i},function(e,t,r){"use strict";function n(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),this.lift(new s(e,t,r))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(10),a=r(9);t.mergeMap=n;var s=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e){return new u(e,this.project,this.resultSelector,this.concurrent)},e}();t.MergeMapOperator=s;var u=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(o.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(o){return void this.destination.error(o)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.OuterSubscriber);t.MergeMapSubscriber=u},function(e,t,r){"use strict";function n(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),this.lift(new s(e,t,r))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.mergeMapTo=n;var s=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e){return new u(e,this.ish,this.resultSelector,this.concurrent)},e}();t.MergeMapToOperator=s;var u=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,t,e,r)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r,n,i){this.add(a.subscribeToResult(this,e,n,i))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this,a=o.resultSelector,s=o.destination;a?this.trySelectResult(e,t,r,n):s.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var i,o=this,a=o.resultSelector,s=o.destination;try{i=a(e,t,r,n)}catch(u){return void s.error(u)}s.next(i)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeMapToSubscriber=u},function(e,t,r){"use strict";function n(e,t,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(e,t,r))}var i=r(316),o=r(74);t.publishReplay=n},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&a.isArray(e[0])&&(e=e[0]),e.unshift(this),i.apply(this,e)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!a.isArray(e[0]))return e[0];e=e[0]}return new s.ArrayObservable(e).lift(new l)}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(51),s=r(49),u=r(9),c=r(10);t.race=n,t.raceStatic=i;var l=function(){function e(){}return e.prototype.call=function(e){return new h(e)},e}();t.RaceOperator=l;var h=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;t>r;r++){var n=e[r],i=c.subscribeToResult(this,n,n,r);this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)},t}(u.OuterSubscriber);t.RaceSubscriber=h},function(e,t,r){"use strict";var n=r(793),i=r(190),o=function(){function e(){this.active=!1,this.actions=[],this.scheduledId=null}return e.prototype.now=function(){return Date.now()},e.prototype.flush=function(){if(!this.active&&!this.scheduledId){this.active=!0;for(var e=this.actions,t=void 0;t=e.shift();)t.execute();this.active=!1}},e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),0>=t?this.scheduleNow(e,r):this.scheduleLater(e,t,r)},e.prototype.scheduleNow=function(e,t){return new n.QueueAction(this,e).schedule(t)},e.prototype.scheduleLater=function(e,t,r){return new i.FutureAction(this,e).schedule(r,t)},e}();t.QueueScheduler=o},function(e,t,r){"use strict";var n=r(313);t.queue=new n.QueueScheduler},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(30),o=r(318),a=r(192),s=function(e){function t(t){e.call(this),this._value=t}return n(t,e),t.prototype.getValue=function(){if(this.hasErrored)o.throwError(this.errorValue);else{if(!this.isUnsubscribed)return this._value;o.throwError(new a.ObjectUnsubscribedError)}},Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.isUnsubscribed&&t.next(this._value),r},t.prototype._next=function(t){e.prototype._next.call(this,this._value=t)},t.prototype._error=function(t){this.hasErrored=!0,e.prototype._error.call(this,this.errorValue=t)},t}(i.Subject);t.BehaviorSubject=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(30),o=r(314),a=r(188),s=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.events=[],this.scheduler=n,this.bufferSize=1>t?1:t,this._windowTime=1>r?1:r}return n(t,e),t.prototype._next=function(t){var r=this._getNow();this.events.push(new u(r,t)),this._trimBufferThenGetEvents(r),e.prototype._next.call(this,t)},t.prototype._subscribe=function(t){var r=this._trimBufferThenGetEvents(this._getNow()),n=this.scheduler;n&&t.add(t=new a.ObserveOnSubscriber(t,n));for(var i=-1,o=r.length;++i<o&&!t.isUnsubscribed;)t.next(r[i].value);return e.prototype._subscribe.call(this,t)},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(e){for(var t=this.bufferSize,r=this._windowTime,n=this.events,i=n.length,o=0;i>o&&!(e-n[o].time<r);)o+=1;return i>t&&(o=Math.max(o,i-t)),o>0&&n.splice(0,o),n},t}(i.Subject);t.ReplaySubject=s;var u=function(){function e(e,t){this.time=e,this.value=t}return e}()},function(e,t){"use strict";function r(e){return null!=e&&"object"==typeof e}t.isObject=r},function(e,t){"use strict";function r(e){throw e}t.throwError=r},function(e,t){function r(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===n.call(e.buffer)||Array.isArray(e)}var n=Object.prototype.toString;e.exports=r},function(e,t){e.exports=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0}},function(e,t,r){"use strict";function n(){if(u.length)throw u.shift()}function i(e){var t;t=s.length?s.pop():new o,t.task=e,a(t)}function o(){this.task=null}var a=r(198),s=[],u=[],c=a.makeRequestCallFromTimer(n);e.exports=i,o.prototype.call=function(){try{this.task.call()}catch(e){i.onerror?i.onerror(e):(u.push(e),c())}finally{this.task=null,s[s.length]=this}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(52),d=(n(p),r(200)),f=n(d),m=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props.calorie.stats.edges.reduce(function(e,t){return Number(e)+Number(t.node.value)},0);return c["default"].createElement("div",{className:"ui raised segment"},c["default"].createElement("div",{className:"ui large teal ribbon label"},c["default"].createElement("i",{className:"line chart icon"}),c["default"].createElement("a",null,this.props.calorie.type+"-"+e)),c["default"].createElement("div",{className:"ui divider"}),c["default"].createElement("div",null,c["default"].createElement(f["default"],{statBlock:this.props.calorie})))}}]),t}(u.Component);t["default"]=h["default"].createContainer(m,{fragments:{calorie:function(){return function(e){return{children:[].concat.apply([],[{fieldName:"type",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{},name:"first",value:{kind:"CallValue",callValue:20}}],children:[{children:[{children:[{fieldName:"value",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Stat"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StatEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"stats",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StatConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},h["default"].QL.__frag(e)]),id:"kXGxtbVrXIkG:6",kind:"Fragment",metadata:{},name:"CalorieItemRelayQL",type:"StatBlock"}}(f["default"].getFragment("statBlock"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(331),d=n(p),f=r(333),m=n(f),v=r(199),g=n(v),y=r(322),b=n(y),_=r(330),x=n(_),w=(r(47),r(335)),E=n(w),S=r(337),C=n(S),M=r(52),A=n(M),T=function(e){return e.weight?c["default"].createElement("h2",{className:"ui large violet label"},e.weight):c["default"].createElement("div",null,c["default"].createElement("input",{onChange:e.handleChange,className:"ui input",placeholder:"Weight"}),c["default"].createElement("button",{className:"ui violet button",onClick:e.handleSubmit},"Commit"))},R=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.newStatBlock={type:this.props.day.statBlockTypes[0].type}}return o(t,e),a(t,[{key:"handleStatBlockChange",value:function(e){this.newStatBlock.type=e.target.value}},{key:"handleStatBlockSubmit",value:function(){h["default"].Store.update(new E["default"]({newStatBlock:this.newStatBlock,day:this.props.day})),this.newStatBlock={}}},{key:"handleToggle",value:function(){A["default"].toggleNew()}},{key:"handleWeightSubmit",value:function(){h["default"].Store.update(new C["default"]({weight:this.weight,day:this.props.day}))}},{key:"handleWeightChange",value:function(e){this.weight=e.target.value}},{key:"render",value:function(){var e=this,t=[{component:T,props:{weight:this.props.day.weight,handleChange:this.handleWeightChange.bind(this),handleSubmit:this.handleWeightSubmit.bind(this)}},{component:d["default"],props:{showNew:this.props.appState.showNew,fields:{types:this.props.day.statBlockTypes},handleChange:this.handleStatBlockChange.bind(this),handleSubmit:this.handleStatBlockSubmit.bind(this),handleToggle:this.handleToggle.bind(this)}}];return c["default"].createElement("div",{className:"ui stackable grid"},c["default"].createElement("div",{className:"ui four wide column"},c["default"].createElement(g["default"],{components:t})),c["default"].createElement("div",{className:"ui ten wide column"},this.props.day.statBlocks.edges.map(function(t){switch(t.node.type){case"Calorie":return c["default"].createElement(b["default"],{appState:e.props.appState,calorie:t.node});case"Note":return c["default"].createElement(x["default"],{appState:e.props.appState,noteBlock:t.node});default:return c["default"].createElement(m["default"],{appState:e.props.appState,statBlock:t.node})}})))}}]),t}(c["default"].Component);t["default"]=h["default"].createContainer(R,{fragments:{day:function(){return function(e,t,r,n,i){return{children:[].concat.apply([],[{children:[{fieldName:"type",kind:"Field",metadata:{},type:"String"}],fieldName:"statBlockTypes",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"Type"},{fieldName:"weight",kind:"Field",metadata:{},type:"Int"},{calls:[{kind:"Call",metadata:{},name:"first",value:{kind:"CallValue",callValue:10}}],children:[{children:[{children:[].concat.apply([],[{fieldName:"type",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},h["default"].QL.__frag(r),h["default"].QL.__frag(n),h["default"].QL.__frag(i)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"StatBlock"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StatBlockEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"statBlocks",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StatBlockConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},h["default"].QL.__frag(e),h["default"].QL.__frag(t)]),id:"m1Jda0AgGvov:2",kind:"Fragment",metadata:{},name:"DayRelayQL",type:"Day"}}(E["default"].getFragment("day"),C["default"].getFragment("day"),m["default"].getFragment("statBlock"),b["default"].getFragment("calorie"),x["default"].getFragment("noteBlock"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(47),d=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props.day;return c["default"].createElement("div",{className:"ui raised black segment"},c["default"].createElement("div",{className:"ui huge teal ribbon label"},c["default"].createElement("i",{className:"calendar outline icon"}),c["default"].createElement(p.Link,{to:"/days/"+e.id},""+e.date),e.weight?c["default"].createElement("div",{className:"ui violet floating label"},e.weight):null),c["default"].createElement("ul",null,e.statBlocks.edges.map(function(e){return c["default"].createElement("li",null,e.node.type)})))}}]),t}(c["default"].Component);t["default"]=h["default"].createContainer(d,{fragments:{day:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"date",kind:"Field",metadata:{},type:"String"},{fieldName:"weight",kind:"Field",metadata:{},type:"Int"},{calls:[{kind:"Call",metadata:{},name:"first",value:{kind:"CallValue",callValue:3}}],children:[{children:[{children:[{fieldName:"type",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"StatBlock"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0
},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StatBlockEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"statBlocks",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StatBlockConnection"}],id:"JubYBXOAKspO:c",kind:"Fragment",metadata:{},name:"DayItemRelayQL",type:"Day"}}()}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props.goal;return c["default"].createElement("tbody",null,t.stats.edges.map(function(t){return c["default"].createElement("tr",{key:t.id},c["default"].createElement("td",null,c["default"].createElement("h2",{className:"center aligned"},t.node.name)),c["default"].createElement("td",null,e.props.goalUpdate?c["default"].createElement("input",{className:"center aligned",id:t.node.id,placeholder:t.node.value,onChange:e.props.handleGoalUpdateChange}):c["default"].createElement("h2",{className:"center aligned"},t.node.value)))}))}}]),t}(c["default"].Component);t["default"]=h["default"].createContainer(p,{fragments:{goal:function(){return function(){return{children:[{fieldName:"type",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{},name:"first",value:{kind:"CallValue",callValue:5}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"value",kind:"Field",metadata:{},type:"String"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Stat"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StatEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"stats",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StatConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:"o2+CyeQeE5IO:j",kind:"Fragment",metadata:{},name:"GoalRelayQL",type:"StatBlock"}}()}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(325),d=n(p),f=r(336),m=n(f),v=r(52),g=n(v),y=function(e){return e.goalUpdate?c["default"].createElement("button",{onClick:e.handleGoalUpdateSubmit},c["default"].createElement("i",{className:"ui right floated save icon"})):c["default"].createElement("button",{onClick:e.handleGoalUpdateToggle},c["default"].createElement("i",{className:"ui right floated edit icon"}))},b=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.updateStats=[]}return o(t,e),a(t,[{key:"handleGoalUpdateToggle",value:function(){g["default"].toggleGoalUpdate()}},{key:"handleGoalUpdateChange",value:function(e){var t=e.target,r=t.id,n=t.value,i=function(e,t){var r=-1;return e.forEach(function(e,n){e.id===t&&(r=n)}),r};-1===i(this.updateStats,r)?this.updateStats.push({id:r,value:n}):this.updateStats[i(this.updateStats,r)]={id:r,value:n}}},{key:"handleGoalUpdateSubmit",value:function(){this.updateStats.forEach(function(e){console.log(e.id),h["default"].Store.update(new m["default"]({stat:{id:e.id,value:e.value}}))}),this.handleGoalUpdateToggle()}},{key:"render",value:function(){var e=this.props.goal;return c["default"].createElement("div",null,e?c["default"].createElement("div",null,c["default"].createElement("table",{className:"ui celled padded table"},c["default"].createElement("thead",null,c["default"].createElement("tr",null,c["default"].createElement("th",{colSpan:"2",className:"single line"},c["default"].createElement("div",{style:{"float":"left"}},"Goals: "+e.type),c["default"].createElement("div",{style:{"float":"right"}},c["default"].createElement(y,{goalUpdate:this.props.appState.goalUpdate,handleGoalUpdateSubmit:this.handleGoalUpdateSubmit.bind(this),handleGoalUpdateToggle:this.handleGoalUpdateToggle.bind(this)})))),c["default"].createElement("tr",null,c["default"].createElement("th",{className:"single line"},"Exercise"),c["default"].createElement("th",{className:"single line"},"Goal"))),c["default"].createElement(d["default"],{goal:this.props.goal,goalUpdate:this.props.appState.goalUpdate,handleGoalUpdateChange:this.handleGoalUpdateChange.bind(this)}))):c["default"].createElement("h2",{className:"ui header"},"New Goal, please."))}}]),t}(c["default"].Component);t["default"]=h["default"].createContainer(b,{fragments:{goal:function(){return function(e){return{children:[].concat.apply([],[{fieldName:"type",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{},name:"first",value:{kind:"CallValue",callValue:5}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"value",kind:"Field",metadata:{},type:"String"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Stat"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StatEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"stats",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StatConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},h["default"].QL.__frag(e)]),id:"fXxGalkEk1Vb:g",kind:"Fragment",metadata:{},name:"GoalItemRelayQL",type:"StatBlock"}}(d["default"].getFragment("goal"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=(r(47),r(199)),d=n(p),f=r(324),m=n(f),v=r(334),g=n(v),y=function(e){var t=["Find Your Inner Peace","Journey Through Time","Waveless","To Tell A Story","To Create Beauty","Unleash Your Spiral Energy"],r=Math.random(),n=r>.95?5:Math.floor(r/.2);return e.showNew?c["default"].createElement("button",{className:"ui large violet button",onClick:e.handleClick},t[n]):c["default"].createElement("button",{className:"ui large disabled violet button"},"Noblesse Oblige")},b=function(e){function t(){var e=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.handleNewDayClick=function(t){h["default"].Store.update(new g["default"]({log:e.props.log}))}}return o(t,e),a(t,[{key:"render",value:function(){var e=[{component:y,props:{handleClick:this.handleNewDayClick.bind(this),showNew:this.props.log.isUpdateable}}];return c["default"].createElement("div",{className:"ui stackable grid"},c["default"].createElement("div",{className:"ui four wide column"},c["default"].createElement(d["default"],{components:e})),c["default"].createElement("div",{className:"ui ten wide column"},c["default"].createElement("div",{className:"ui main container"},this.props.log.days.edges.map(function(e){return c["default"].createElement(m["default"],{day:e.node})}))))}}]),t}(c["default"].Component);t["default"]=h["default"].createContainer(b,{fragments:{log:function(){return function(e,t){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"isUpdateable",kind:"Field",metadata:{},type:"Boolean"},{calls:[{kind:"Call",metadata:{},name:"last",value:{kind:"CallValue",callValue:10}}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},h["default"].QL.__frag(t)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Day"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"DayEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"days",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"DayConnection"},h["default"].QL.__frag(e)]),id:"kGFbiVRkkehJ:3",kind:"Fragment",metadata:{},name:"LogRelayQL",type:"Log"}}(g["default"].getFragment("log"),m["default"].getFragment("day"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(329),d=n(p),f=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",null,c["default"].createElement("table",{className:"ui celled padded table"},c["default"].createElement("tbody",null,this.props.noteBlock.stats.edges.map(function(e){return c["default"].createElement("tr",{key:e.id},c["default"].createElement("td",null,c["default"].createElement("h2",{className:"center aligned"},e.node.value)))})),c["default"].createElement(d["default"],{noteBlock:this.props.noteBlock})))}}]),t}(u.Component);t["default"]=h["default"].createContainer(f,{fragments:{noteBlock:function(){return function(e){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"type",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{},name:"first",value:{kind:"CallValue",callValue:20}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"type",kind:"Field",metadata:{},type:"String"},{fieldName:"value",kind:"Field",metadata:{},type:"String"},{fieldName:"conf",kind:"Field",metadata:{},type:"Int"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Stat"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StatEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"stats",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StatConnection"},h["default"].QL.__frag(e)]),id:"H5oD3/D/Kvr7:h",kind:"Fragment",metadata:{},name:"NoteBlockRelayQL",type:"StatBlock"}}(d["default"].getFragment("noteBlock"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(201),d=n(p),f=function(e){function t(){var e=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.newStat={name:"note",type:"note"},this.addStat=function(){console.log(e.newStat.value),h["default"].Store.update(new d["default"]({statBlock:e.props.noteBlock,stat:e.newStat}))},this._handleChange=function(t){"value"===t.target.id&&(e.newStat.value=t.target.value),"conf"===t.target.id&&(e.newStat.conf=t.target.value),"name"===t.target.id&&(e.newStat.name=t.target.value)}}return o(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("tfoot",{className:"full-width"},c["default"].createElement("tr",null,c["default"].createElement("th",{className:"center aligned"},c["default"].createElement("div",{className:"ui fluid action input"},c["default"].createElement("input",{id:"value",onChange:this._handleChange}),c["default"].createElement("button",{className:"ui right floated button",onClick:this.addStat},"Submit")))))}}]),t}(u.Component);t["default"]=h["default"].createContainer(f,{fragments:{noteBlock:function(){return function(e){return{children:[].concat.apply([],[{fieldName:"type",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"type",kind:"Field",metadata:{},type:"String"}],fieldName:"statTypes",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"Type"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},h["default"].QL.__frag(e)]),id:"uL2T8ykhRwgw:l",kind:"Fragment",metadata:{},name:"NoteInputRelayQL",type:"StatBlock"}}(d["default"].getFragment("statBlock"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(52),d=(n(p),r(328)),f=n(d),m=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:"ui raised segment"},c["default"].createElement("div",{className:"ui large teal ribbon label"},c["default"].createElement("i",{className:"book icon"}),c["default"].createElement("a",null,"Notes")),c["default"].createElement("div",{className:"ui divider"}),c["default"].createElement("div",null,c["default"].createElement(f["default"],{noteBlock:this.props.noteBlock})))}}]),t}(u.Component);t["default"]=h["default"].createContainer(m,{fragments:{noteBlock:function(){return function(e){return{children:[].concat.apply([],[{fieldName:"type",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},h["default"].QL.__frag(e)]),id:"IVBRSxlvDde5:7",kind:"Fragment",metadata:{},name:"NoteItemRelayQL",type:"StatBlock"}}(f["default"].getFragment("noteBlock"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),o=n(i),a=r(11),s=(n(a),function(e){return e.showNew?o["default"].createElement("div",null,o["default"].createElement("select",{id:"type",className:"ui dropdown",onChange:e.handleChange},e.fields.types.map(function(e){return o["default"].createElement("option",{value:e.type},e.type)})),o["default"].createElement("button",{className:"ui violet button",onClick:e.handleSubmit},"Submit")):o["default"].createElement("button",{className:"ui violet button",onClick:e.handleToggle},"New Statblock")});t["default"]=s,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(201),d=n(p),f=function(e){function t(){var e=this;i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.newStat={name:this.props.statBlock.statTypes[0].type,type:"lift"},this.addStat=function(){console.log(e.newStat.value),h["default"].Store.update(new d["default"]({statBlock:e.props.statBlock,stat:e.newStat}))},this._handleChange=function(t){"value"===t.target.id&&(e.newStat.value=t.target.value),"conf"===t.target.id&&(e.newStat.conf=t.target.value),"name"===t.target.id&&(e.newStat.name=t.target.value)}}return o(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("tfoot",{className:"full-width"},c["default"].createElement("tr",null,c["default"].createElement("th",{className:"center aligned"},c["default"].createElement("select",{id:"name",className:"ui dropdown",onChange:this._handleChange},this.props.statBlock.statTypes.map(function(e){return c["default"].createElement("option",{value:e.type},e.type)}))),c["default"].createElement("th",{className:"center aligned"},c["default"].createElement("input",{className:"ui input",id:"value",onChange:this._handleChange})),"Calorie"!==this.props.statBlock.type&&c["default"].createElement("th",{className:"center aligned"},c["default"].createElement("select",{id:"conf",onChange:this._handleChange,className:"ui dropdown"},c["default"].createElement("option",{value:"0"},"0"),c["default"].createElement("option",{value:"5"},"5"),c["default"].createElement("option",{value:"6"},"6"),c["default"].createElement("option",{value:"7"},"7"),c["default"].createElement("option",{value:"8"},"8"),c["default"].createElement("option",{value:"9"},"9"),c["default"].createElement("option",{value:"10"},"10")))),c["default"].createElement("tr",null,c["default"].createElement("th",{colSpan:"Calorie"===this.props.statBlock.type?"2":"3"},c["default"].createElement("button",{className:"ui right floated button",onClick:this.addStat},"Submit"))))}}]),t}(u.Component);t["default"]=h["default"].createContainer(f,{fragments:{statBlock:function(){return function(e){return{children:[].concat.apply([],[{fieldName:"type",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"type",kind:"Field",metadata:{},type:"String"}],fieldName:"statTypes",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"Type"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},h["default"].QL.__frag(e)]),id:"FXuAkrizvWUC:i",kind:"Fragment",metadata:{},name:"StatInputRelayQL",type:"StatBlock"}}(d["default"].getFragment("statBlock"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(52),d=n(p),f=r(200),m=n(f),v=r(326),g=n(v),y=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"handleGoalShowToggle",value:function(){d["default"].toggleGoalShow()}},{key:"render",value:function(){var e=this.props.appState.goalShow;return c["default"].createElement("div",{className:"ui raised segment"},c["default"].createElement("div",{className:"ui large teal ribbon label"},c["default"].createElement("i",{className:"line chart icon"}),c["default"].createElement("a",null,this.props.statBlock.type)),c["default"].createElement("div",{className:"ui right floated buttons"},c["default"].createElement("button",{onClick:e?this.handleGoalShowToggle:null,className:e?"ui grey button":"ui violet active button"},"Results"),c["default"].createElement("div",{className:"or","data-text":"vs"}),c["default"].createElement("button",{onClick:e?null:this.handleGoalShowToggle,className:e?"ui violet active button":"ui grey button"},"Goals")),c["default"].createElement("div",{className:"ui divider"}),this.props.appState.goalShow?c["default"].createElement(g["default"],{goal:this.props.statBlock.goal,appState:this.props.appState}):c["default"].createElement("div",null,c["default"].createElement(m["default"],{statBlock:this.props.statBlock})))}}]),t}(c["default"].Component);t["default"]=h["default"].createContainer(y,{fragments:{statBlock:function(){return function(e,t){return{children:[].concat.apply([],[{fieldName:"type",kind:"Field",metadata:{},type:"String"},{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},h["default"].QL.__frag(t)]),fieldName:"goal",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"StatBlock"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},h["default"].QL.__frag(e)]),id:"qB8+shd8SScV:5",kind:"Fragment",metadata:{},name:"WorkoutItemRelayQL",type:"StatBlock"}}(m["default"].getFragment("statBlock"),g["default"].getFragment("goal"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(11),c=n(u),l=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"getMutation",value:function(){return function(){return{calls:[{kind:"Call",metadata:{},name:"addDay",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"clientMutationId",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],kind:"Mutation",metadata:{inputType:"AddDayInput!"},name:"AddDayMutation",responseType:"AddDayPayload"}}()}},{key:"getFatQuery",value:function(){return function(){return{children:[{children:[{fieldName:"isUpdateable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"days",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"DayConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"log",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Log"}],id:"CSFaPjVbNNLE:e",kind:"Fragment",metadata:{},name:"AddDayMutationRelayQL",type:"AddDayPayload"}}()}},{key:"getConfigs",value:function(){return[{type:"FIELDS_CHANGE",fieldIDs:{log:this.props.log.id}}]}},{key:"getVariables",value:function(){return{logId:this.props.log.id}}}],[{key:"fragments",value:{log:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],id:"zvjy+pNJfT4t:d",kind:"Fragment",metadata:{},name:"AddDayMutationRelayQL",type:"Log"}}()}},enumerable:!0}]),t}(c["default"].Mutation);t["default"]=l,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){
function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(11),c=n(u),l=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"getMutation",value:function(){return function(){return{calls:[{kind:"Call",metadata:{},name:"addStatBlockToParent",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"clientMutationId",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],kind:"Mutation",metadata:{inputType:"AddStatBlockToParentInput!"},name:"AddStatBlockToDayMutation",responseType:"AddStatBlockToParentPayload"}}()}},{key:"getFatQuery",value:function(){return function(){return{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"statBlocks",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StatBlockConnection"}],fieldName:"parent",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Day"}],id:"MUXmc0qNxk21:9",kind:"Fragment",metadata:{},name:"AddStatBlockToDayMutationRelayQL",type:"AddStatBlockToParentPayload"}}()}},{key:"getConfigs",value:function(){return[{type:"FIELDS_CHANGE",fieldIDs:{parent:this.props.day.id}}]}},{key:"getVariables",value:function(){return{parentId:this.props.day.id,statBlock:this.props.newStatBlock}}}],[{key:"fragments",value:{day:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],id:"PheeAmsElbel:8",kind:"Fragment",metadata:{},name:"AddStatBlockToDayMutationRelayQL",type:"Day"}}()}},enumerable:!0}]),t}(c["default"].Mutation);t["default"]=l,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(11),c=n(u),l=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"getMutation",value:function(){return function(){return{calls:[{kind:"Call",metadata:{},name:"updateStat",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"clientMutationId",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],kind:"Mutation",metadata:{inputType:"UpdateStatInput!"},name:"UpdateStatMutation",responseType:"UpdateStatPayload"}}()}},{key:"getFatQuery",value:function(){return function(){return{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"type",kind:"Field",metadata:{},type:"String"},{fieldName:"value",kind:"Field",metadata:{},type:"String"},{fieldName:"conf",kind:"Field",metadata:{},type:"Int"}],fieldName:"stat",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Stat"}],id:"48z9qoSN5XvY:k",kind:"Fragment",metadata:{},name:"UpdateStatMutationRelayQL",type:"UpdateStatPayload"}}()}},{key:"getConfigs",value:function(){return[{type:"FIELDS_CHANGE",fieldIDs:{stat:this.props.stat.id}}]}},{key:"getVariables",value:function(){return{stat:this.props.stat}}}]),t}(c["default"].Mutation);t["default"]=l,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(11),c=n(u),l=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"getMutation",value:function(){return function(){return{calls:[{kind:"Call",metadata:{},name:"updateWeight",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"clientMutationId",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],kind:"Mutation",metadata:{inputType:"UpdateWeightInput!"},name:"UpdateWeightMutation",responseType:"UpdateWeightPayload"}}()}},{key:"getFatQuery",value:function(){return function(){return{children:[{children:[{fieldName:"weight",kind:"Field",metadata:{},type:"Int"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"day",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Day"}],id:"e7p9v69NzETi:b",kind:"Fragment",metadata:{},name:"UpdateWeightMutationRelayQL",type:"UpdateWeightPayload"}}()}},{key:"getConfigs",value:function(){return[{type:"FIELDS_CHANGE",fieldIDs:{day:this.props.day.id}}]}},{key:"getVariables",value:function(){return{dayId:this.props.day.id,weight:this.props.weight}}}],[{key:"fragments",value:{day:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],id:"x7mojQs6+KEf:a",kind:"Fragment",metadata:{},name:"UpdateWeightMutationRelayQL",type:"Day"}}()}},enumerable:!0}]),t}(c["default"].Mutation);t["default"]=l,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=r(4),o=n(i),a=r(102),s=r(11),u=(n(s),r(523)),c=r(47),l=r(183),h=(n(l),r(228)),p=n(h),d=r(236),f=n(d),m=r(342),v=n(m),g=r(345),y=n(g),b=r(323),_=n(b),x=r(327),w=n(x),E=r(339),S=n(E),C=r(340),M=n(C),A=(0,p["default"])(),T={day:function(){return function(){return{calls:[{kind:"Call",metadata:{},name:"id",value:{kind:"CallVariable",callVariableName:"dayId"}}],children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"day",kind:"Query",metadata:{identifyingArgName:"id"},name:"Index",type:"Day"}}()}},R={log:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"log",kind:"Query",metadata:{},name:"Index",type:"Log"}}()}},O={journey:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"journey",kind:"Query",metadata:{},name:"Index",type:"Journey"}}()}},P={journal:function(){return function(){return{calls:[{kind:"Call",metadata:{},name:"id",value:{kind:"CallVariable",callVariableName:"journalId"}}],children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"journal",kind:"Query",metadata:{identifyingArgName:"id"},name:"Index",type:"Journal"}}()}},D=function(e){return o["default"].createElement("div",{className:"page"},o["default"].createElement("div",{className:"header"},o["default"].createElement("h1",{className:"ui inverted header"},o["default"].createElement("i",null,"A Play Called Time")),o["default"].createElement("div",{className:"ui inverted top menu"},o["default"].createElement(c.Link,{to:"/time/",className:"teal item",activeClassName:"active teal item"},"Time"),o["default"].createElement(c.Link,{to:"/journey/",className:"teal item",activeClassName:"active teal item"},"Journey"),o["default"].createElement(c.Link,{to:"/console/",className:"teal item",activeClassName:"active teal item"},"console.log()"))),o["default"].createElement("div",{className:"ui hidden divider"}),o["default"].createElement("div",{className:"ui container"},e.children))};v["default"].subject.subscribe(function(e){var t=function(t,r){return r=(0,f["default"])(r,{$merge:{appState:e}}),o["default"].createElement(t,r)};(0,a.render)(o["default"].createElement(u.RelayRouter,{history:A,createElement:t},o["default"].createElement(c.Route,{path:"/",component:D},o["default"].createElement(c.IndexRoute,{component:y["default"]}),o["default"].createElement(c.Route,{path:"days/:dayId",component:_["default"],queries:T}),o["default"].createElement(c.Route,{path:"time",component:y["default"]}),o["default"].createElement(c.Route,{path:"console",component:w["default"],queries:R}),o["default"].createElement(c.Route,{path:"journey",component:S["default"],queries:O}),o["default"].createElement(c.Route,{path:"journal/:journalId",component:M["default"],queries:P}),o["default"].createElement(c.Route,{path:"*",component:S["default"],queries:O}))),document.getElementById("root"))})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=(r(47),r(341)),d=n(p),f=r(441),m=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"getDefaultStyles",value:function(){return this.props.journey.journals.edges.map(function(){return{x:0,y:0}})}},{key:"render",value:function(){var e=this,t=this.props.journey.journals;return c["default"].createElement("div",{className:"ui centered stackable grid"},c["default"].createElement("div",{className:"ui centered twelve wide column"},c["default"].createElement(f.StaggeredMotion,{defaultStyles:this.getDefaultStyles(),styles:function(e){return e.map(function(t,r){return 0===r?{x:(0,f.spring)(300,[96,43]),y:(0,f.spring)(1,[66,43])}:{x:(0,f.spring)(e[r-1].x,[96,43]),y:(0,f.spring)(e[r-1].y,[96,43])}})}},function(r){return c["default"].createElement("div",null,r.map(function(r,n){return c["default"].createElement(d["default"],{key:n,style:r,journal:t.edges[n].node,appState:e.props.appState})}))})))}}]),t}(c["default"].Component);t["default"]=h["default"].createContainer(m,{fragments:{journey:function(){return function(e){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{calls:[{kind:"Call",metadata:{},name:"last",value:{kind:"CallValue",callValue:5}}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},h["default"].QL.__frag(e)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Journal"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"JournalEdge"},{children:[{fieldName:"hasNextPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"hasPreviousPage",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"pageInfo",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"journals",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"JournalConnection"}],id:"M0KEhcVmC3xr:0",kind:"Fragment",metadata:{},name:"JourneyRelayQL",type:"Journey"}}(d["default"].getFragment("journal"))}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(52),d=n(p),f=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"handleGoldShowToggle",value:function(){console.log("1"),d["default"].toggleGoldShow()}},{key:"componentWillUnmount",value:function(){var e=this.props.appState.goldShow;e&&this.handleGoldShowToggle()}},{key:"render",value:function(){console.log(this.props.appState.goldShow);var e=this.props.appState.goldShow;return c["default"].createElement("div",{className:"ui centered grid"},c["default"].createElement("div",{className:"ui twelve wide centered column"},c["default"].createElement("div",{className:"ui main container"},c["default"].createElement("h3",{className:"ui top attached inverted blue header"},this.props.journal.title,this.props.journal.goldhtml?c["default"].createElement("div",{className:"ui right floated buttons"},c["default"].createElement("button",{onClick:e?this.handleGoldShowToggle:null,className:e?"ui grey button":"ui grey active button"},"Silver"),c["default"].createElement("div",{className:"or","data-text":"or"}),c["default"].createElement("button",{onClick:e?null:this.handleGoldShowToggle,className:e?"ui gold active button":"ui grey button"},"Gold")):null),c["default"].createElement("div",{dangerouslySetInnerHTML:{__html:e?this.props.journal.goldhtml.content:this.props.journal.html.content},className:"ui raised attached segment"}))))}}]),t}(c["default"].Component);t["default"]=h["default"].createContainer(f,{fragments:{journal:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"date",kind:"Field",metadata:{},type:"String"},{fieldName:"title",kind:"Field",metadata:{},type:"String"},{fieldName:"preview",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"content",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"html",kind:"Field",metadata:{canHaveSubselections:!0},type:"Content"},{children:[{fieldName:"content",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"goldhtml",kind:"Field",metadata:{canHaveSubselections:!0},type:"Content"}],id:"8cy7OJb9Q5Ja:1",kind:"Fragment",metadata:{},name:"JournalRelayQL",type:"Journal"}}()}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0,s=c=void 0}},u=r(4),c=n(u),l=r(11),h=n(l),p=r(47),d=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",{style:{position:"relative",left:300+-this.props.style.x+"px",opacity:this.props.style.y},className:"ui main container"},c["default"].createElement("h3",{className:"ui top attached inverted blue header"},c["default"].createElement(p.Link,{to:"/journal/"+this.props.journal.id},this.props.journal.title)),c["default"].createElement("div",{className:"ui raised attached segment"},c["default"].createElement("span",null,this.props.journal.preview)),c["default"].createElement("div",{className:"ui divider"}))}}]),t}(c["default"].Component);t["default"]=d,t["default"]=h["default"].createContainer(d,{fragments:{journal:function(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"date",kind:"Field",metadata:{},type:"String"},{fieldName:"title",kind:"Field",metadata:{},type:"String"},{fieldName:"preview",kind:"Field",metadata:{},type:"String"}],id:"K+GRBq1R3VoW:4",kind:"Fragment",metadata:{},name:"JournalItemRelayQL",type:"Journal"}}()}}}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(183),o=n(i),a=r(236),s=n(a),u=r(52),c=n(u),l=new o["default"].ReplaySubject(1),h={showNew:!1,goalUpdate:!1,goldShow:!1};c["default"].subjects.toggleNewSubject.subscribe(function(){h=(0,s["default"])(h,{$merge:{showNew:h.showNew?!1:!0}}),l.next(h)}),c["default"].subjects.toggleGoalUpdateSubject.subscribe(function(){h=(0,s["default"])(h,{$merge:{goalUpdate:h.goalUpdate?!1:!0}}),l.next(h)}),c["default"].subjects.toggleGoalShowSubject.subscribe(function(){h=(0,s["default"])(h,{$merge:{goalShow:h.goalShow?!1:!0}}),l.next(h)}),c["default"].subjects.toggleGoldShowSubject.subscribe(function(){h=(0,s["default"])(h,{$merge:{goldShow:h.goldShow?!1:!0}}),l.next(h)}),l.next(h),t["default"]={subject:l},e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),r(76);var i=r(4),o=n(i),a=r(197);r(203),r(202),t["default"]=o["default"].createClass({displayName:"TextEnt",makeMinDigits:function(e,t){var r=e.toString().length,n="";if(t>r)for(var i=0;r>i;i++)n+="0";return n+e.toString()},getDateString:function(){var e=Date.parse("2017-07-07"),t=Date.now(),r=e-t,n=this.makeMinDigits(Math.floor(r/864e5),3);r-=24*n*3600*1e3;var i=this.makeMinDigits(Math.floor(r/36e5),2);r-=3600*i*1e3;var o=this.makeMinDigits(Math.floor(r/6e4),2);r-=60*o*1e3;var a=this.makeMinDigits(Math.floor(r/1e3),2);return[n,i,o,a].join(":")},getInitialState:function(){var e=this.getDateString();return{time:e}},componentDidMount:function(){setInterval(this.updateCount,250)},updateCount:function(){var e=this.getDateString();this.setState({time:e})},render:function(){return o["default"].createElement(a.Entity,{visible:"true",geometry:"primitive: box; width: 14; height: 2.5; depth: .2",material:"shader: phong; map: #diffuse; normalMap: #normals; specularMap: #specular;",position:".2 6.5 10",text:{text:this.state.time}})}}),e.exports=t["default"]},function(e,t,r){"use strict";var n=r(76);(0,n.registerComponent)("collada-material",{schema:{type:"boolean"},init:function(){this.logged=!0},tick:function(){var e=this.el.object3DMap.mesh;e&&e.children[0]&&(e.children[0].material=e.material,this.logged&&(console.log(e),this.logged=!1))}})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),o=n(i),a=(r(102),r(343)),s=(n(a),r(76));n(s);r(202),r(203),r(344);var u=(r(197),r(434)),c=n(u);t["default"]=o["default"].createClass({displayName:"index",render:function(){return o["default"].createElement("div",null,o["default"].createElement("div",null,o["default"].createElement(c["default"],{src:"/assets/intro.mp3",preload:"auto",cassetteColor:"#333",labelColor:"#707070",tapeColor:"#7DF9FF",controlsColor:"#7DF9FF",containerClass:"nwa-wrap"})),o["default"].createElement("iframe",{src:"/episode-one",width:"1200px",height:"600px",allowFullScreen:"yes",scrolling:"no"}))}}),e.exports=t["default"]},function(e,t,r){e.exports={"default":r(207),__esModule:!0}},function(e,t,r){e.exports={"default":r(208),__esModule:!0}},function(e,t,r){e.exports={"default":r(209),__esModule:!0}},function(e,t,r){e.exports={"default":r(210),__esModule:!0}},function(e,t,r){e.exports={"default":r(358),__esModule:!0}},function(e,t){"use strict";t["default"]=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},t.__esModule=!0},function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===h?62:t===s||t===p?63:u>t?-1:u+10>t?t-u+26+26:l+26>t?t-l:c+26>t?t-c+26:void 0}function r(e){function r(e){c[h++]=e}var n,i,a,s,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;u="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,c=new o(3*e.length/4-u),a=u>0?e.length-4:e.length;var h=0;for(n=0,i=0;a>n;n+=4,i+=3)s=t(e.charAt(n))<<18|t(e.charAt(n+1))<<12|t(e.charAt(n+2))<<6|t(e.charAt(n+3)),r((16711680&s)>>16),r((65280&s)>>8),r(255&s);return 2===u?(s=t(e.charAt(n))<<2|t(e.charAt(n+1))>>4,r(255&s)):1===u&&(s=t(e.charAt(n))<<10|t(e.charAt(n+1))<<4|t(e.charAt(n+2))>>2,r(s>>8&255),r(255&s)),c}function i(e){function t(e){return n.charAt(e)}function r(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,a,s=e.length%3,u="";for(i=0,a=e.length-s;a>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],u+=r(o);switch(s){case 1:o=e[e.length-1],u+=t(o>>2),u+=t(o<<4&63),u+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],u+=t(o>>10),u+=t(o>>4&63),u+=t(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),h="-".charCodeAt(0),p="_".charCodeAt(0);e.toByteArray=r,e.fromByteArray=i}(t)},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){r(219),r(97),r(98),r(379),e.exports=r(26).Map},function(e,t,r){r(97),r(377),e.exports=r(26).Array.from},function(e,t,r){r(98),r(97),e.exports=r(376)},function(e,t,r){r(381),e.exports=r(26).Object.freeze},function(e,t,r){r(219),r(98),r(384),e.exports=r(26).WeakMap},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(61),i=r(133),o=r(96),a=r(139),s=r(362);e.exports=function(e){var t=1==e,r=2==e,u=3==e,c=4==e,l=6==e,h=5==e||l;return function(p,d,f){for(var m,v,g=o(p),y=i(g),b=n(d,f,3),_=a(y.length),x=0,w=t?s(p,_):r?s(p,0):void 0;_>x;x++)if((h||x in y)&&(m=y[x],v=b(m,x,g),e))if(t)w[x]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return x;case 2:w.push(m)}else if(c)return!1;return l?-1:u||c?c:w}}},function(e,t,r){var n=r(44),i=r(365),o=r(36)("species");e.exports=function(e,t){var r;return i(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)||(r=void 0),n(r)&&(r=r[o],null===r&&(r=void 0))),new(void 0===r?Array:r)(t)}},function(e,t,r){"use strict";var n=r(33),i=r(63),o=r(135),a=r(61),s=r(138),u=r(92),c=r(132),l=r(134),h=r(215),p=r(140)("id"),d=r(78),f=r(44),m=r(371),v=r(93),g=Object.isExtensible||f,y=v?"_s":"size",b=0,_=function(e,t){if(!f(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!d(e,p)){if(!g(e))return"F";if(!t)return"E";i(e,p,++b)}return"O"+e[p]},x=function(e,t){var r,n=_(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,i){var l=e(function(e,o){s(e,l,t),e._i=n.create(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=o&&c(o,r,e[i],e)});return o(l.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[y]=0},"delete":function(e){var t=this,r=x(t,e);if(r){var n=r.n,i=r.p;delete t._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),t._f==r&&(t._f=n),t._l==r&&(t._l=i),t[y]--}return!!r},forEach:function(e){for(var t,r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!x(this,e)}}),v&&n.setDesc(l.prototype,"size",{get:function(){return u(this[y])}}),l},def:function(e,t,r){var n,i,o=x(e,t);return o?o.v=r:(e._l=o={i:i=_(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[y]++,"F"!==i&&(e._i[i]=o)),e},getEntry:x,setStrong:function(e,t,r){l(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?h(0,r.k):"values"==t?h(0,r.v):h(0,[r.k,r.v]):(e._t=void 0,h(1))},r?"entries":"values",!r,!0),m(t)}}},function(e,t,r){"use strict";var n=r(63),i=r(135),o=r(77),a=r(44),s=r(138),u=r(132),c=r(361),l=r(78),h=r(140)("weak"),p=Object.isExtensible||a,d=c(5),f=c(6),m=0,v=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},y=function(e,t){return d(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=y(this,e);return t?t[1]:void 0},has:function(e){return!!y(this,e)},set:function(e,t){var r=y(this,e);r?r[1]=t:this.a.push([e,t])},"delete":function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,n){var o=e(function(e,i){s(e,o,t),e._i=m++,e._l=void 0,void 0!=i&&u(i,r,e[n],e)});return i(o.prototype,{"delete":function(e){return a(e)?p(e)?l(e,h)&&l(e[h],this._i)&&delete e[h][this._i]:v(this)["delete"](e):!1},has:function(e){return a(e)?p(e)?l(e,h)&&l(e[h],this._i):v(this).has(e):!1}}),o},def:function(e,t,r){return p(o(t))?(l(t,h)||n(t,h,{}),t[h][e._i]=r):v(e).set(t,r),e},frozenStore:v,WEAK:h}},function(e,t,r){var n=r(131);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(33),i=r(217),o=r(137),a={};r(63)(a,r(36)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n.create(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(36)("iterator"),i=!1;try{var o=[7][n]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){r=!0},o[n]=function(){return a},e(o)}catch(s){}return r}},function(e,t){e.exports=!0},function(e,t,r){var n=r(33),i=r(96),o=r(133);e.exports=r(94)(function(){var e=Object.assign,t={},r={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(e){r[e]=e}),7!=e({},t)[n]||Object.keys(e({},r)).join("")!=i})?function(e,t){for(var r=i(e),a=arguments,s=a.length,u=1,c=n.getKeys,l=n.getSymbols,h=n.isEnum;s>u;)for(var p,d=o(a[u++]),f=l?c(d).concat(l(d)):c(d),m=f.length,v=0;m>v;)h.call(d,p=f[v++])&&(r[p]=d[p]);return r}:Object.assign},function(e,t,r){var n=r(33).getDesc,i=r(44),o=r(77),a=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=r(61)(Function.call,n(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:i(e,r),e}}({},!1):void 0),check:a}},function(e,t,r){"use strict";var n=r(26),i=r(33),o=r(93),a=r(36)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.setDesc(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(95),i="__core-js_shared__",o=n[i]||(n[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,r){var n=r(218),i=r(92);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),c=s.length;return 0>u||u>=c?e?"":void 0:(o=s.charCodeAt(u),55296>o||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},function(e,t,r){var n=r(133),i=r(92);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(77),i=r(141);e.exports=r(26).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){var n=r(211),i=r(36)("iterator"),o=r(64);e.exports=r(26).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(n(t))}},function(e,t,r){"use strict";var n=r(61),i=r(62),o=r(96),a=r(214),s=r(213),u=r(139),c=r(141);i(i.S+i.F*!r(367)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,l,h=o(e),p="function"==typeof this?this:Array,d=arguments,f=d.length,m=f>1?d[1]:void 0,v=void 0!==m,g=0,y=c(h);if(v&&(m=n(m,f>2?d[2]:void 0,2)),void 0==y||p==Array&&s(y))for(t=u(h.length),r=new p(t);t>g;g++)r[g]=v?m(h[g],g):h[g];else for(l=y.call(h),r=new p;!(i=l.next()).done;g++)r[g]=v?a(l,m,[i.value,g],!0):i.value;return r.length=g,r}})},function(e,t,r){"use strict";var n=r(360),i=r(215),o=r(64),a=r(374);e.exports=r(134)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,r){"use strict";var n=r(363);r(212)("Map",function(e){
return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(this,e);return t&&t.v},set:function(e,t){return n.def(this,0===e?0:e,t)}},n,!0)},function(e,t,r){var n=r(62);n(n.S+n.F,"Object",{assign:r(369)})},function(e,t,r){var n=r(44);r(216)("freeze",function(e){return function(t){return e&&n(t)?e(t):t}})},function(e,t,r){var n=r(96);r(216)("keys",function(e){return function(t){return e(n(t))}})},function(e,t,r){var n=r(62);n(n.S,"Object",{setPrototypeOf:r(370).set})},function(e,t,r){"use strict";var n=r(33),i=r(136),o=r(364),a=r(44),s=r(78),u=o.frozenStore,c=o.WEAK,l=Object.isExtensible||a,h={},p=r(212)("WeakMap",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){if(a(e)){if(!l(e))return u(this).get(e);if(s(e,c))return e[c][this._i]}},set:function(e,t){return o.def(this,e,t)}},o,!0,!0);7!=(new p).set((Object.freeze||Object)(h),7).get(h)&&n.each.call(["delete","has","get","set"],function(e){var t=p.prototype,r=t[e];i(t,e,function(t,n){if(a(t)&&!l(t)){var i=u(this)[e](t,n);return"set"==e?this:i}return r.call(this,t,n)})})},function(e,t,r){function n(e){return null===e||void 0===e}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length?"function"!=typeof e.copy||"function"!=typeof e.slice?!1:e.length>0&&"number"!=typeof e[0]?!1:!0:!1}function o(e,t,r){var o,l;if(n(e)||n(t))return!1;if(e.prototype!==t.prototype)return!1;if(u(e))return u(t)?(e=a.call(e),t=a.call(t),c(e,t,r)):!1;if(i(e)){if(!i(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var h=s(e),p=s(t)}catch(d){return!1}if(h.length!=p.length)return!1;for(h.sort(),p.sort(),o=h.length-1;o>=0;o--)if(h[o]!=p[o])return!1;for(o=h.length-1;o>=0;o--)if(l=h[o],!c(e[l],t[l],r))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=r(387),u=r(386),c=e.exports=function(e,t,r){return r||(r={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:o(e,t,r)}},function(e,t){function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function n(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=i?r:n,t.supported=r,t.unsupported=n},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}t=e.exports="function"==typeof Object.keys?Object.keys:r,t.shim=r},function(e,t){"use strict";function r(e){return e.replace(n,function(e,t){return t.toUpperCase()})}var n=/-(.)/g;e.exports=r},function(e,t,r){"use strict";function n(e){return i(e.replace(o,"ms-"))}var i=r(388),o=/^-ms-/;e.exports=n},function(e,t,r){"use strict";function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return n(e)?Array.isArray(e)?e.slice():o(e):[e]}var o=r(399);e.exports=i},function(e,t,r){"use strict";function n(e){var t=e.match(l);return t&&t[1].toLowerCase()}function i(e,t){var r=c;c?void 0:u(!1);var i=n(e),o=i&&s(i);if(o){r.innerHTML=o[1]+e+o[2];for(var l=o[0];l--;)r=r.lastChild}else r.innerHTML=e;var h=r.getElementsByTagName("script");h.length&&(t?void 0:u(!1),a(h).forEach(t));for(var p=a(r.childNodes);r.lastChild;)r.removeChild(r.lastChild);return p}var o=r(19),a=r(390),s=r(225),u=r(6),c=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;e.exports=i},function(e,t){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=r},function(e,t){"use strict";function r(e){return e.replace(n,"-$1").toLowerCase()}var n=/([A-Z])/g;e.exports=r},function(e,t,r){"use strict";function n(e){return i(e).replace(o,"-ms-")}var i=r(393),o=/^ms-/;e.exports=n},function(e,t){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t,r){"use strict";function n(e){return i(e)&&3==e.nodeType}var i=r(395);e.exports=n},function(e,t){"use strict";function r(e,t,r){if(!e)return null;var i={};for(var o in e)n.call(e,o)&&(i[o]=t.call(r,e[o],o,e));return i}var n=Object.prototype.hasOwnProperty;e.exports=r},function(e,t){"use strict";function r(e){var t={};return function(r){return t.hasOwnProperty(r)||(t[r]=e.call(this,r)),t[r]}}e.exports=r},function(e,t,r){"use strict";function n(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?i(!1):void 0,"number"!=typeof t?i(!1):void 0,0===t||t-1 in e?void 0:i(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(r){}for(var n=Array(t),o=0;t>o;o++)n[o]=e[o];return n}var i=r(6);e.exports=n},function(e,t,r){function n(e,t,r){if(!e)throw new TypeError("must specify data as first parameter");if(r=0|+(r||0),Array.isArray(e)&&Array.isArray(e[0])){var n=e[0].length,o=e.length*n;t&&"string"!=typeof t||(t=new(i(t||"float32"))(o+r));var a=t.length-r;if(o!==a)throw new Error("source length "+o+" ("+n+"x"+e.length+") does not match destination length "+a);for(var s=0,u=r;s<e.length;s++)for(var c=0;n>c;c++)t[u++]=e[s][c]}else if(t&&"string"!=typeof t)t.set(e,r);else{var l=i(t||"float32");0===r?t=new l(e):(t=new l(e.length+r),t.set(e,r))}return t}var i=r(220);e.exports=n},function(e,t,r){function n(e,t,r){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(r=this),"[object Array]"===u.call(e)?i(e,t,r):"string"==typeof e?o(e,t,r):a(e,t,r)}function i(e,t,r){for(var n=0,i=e.length;i>n;n++)c.call(e,n)&&t.call(r,e[n],n,e)}function o(e,t,r){for(var n=0,i=e.length;i>n;n++)t.call(r,e.charAt(n),n,e)}function a(e,t,r){for(var n in e)c.call(e,n)&&t.call(r,e[n],n,e)}var s=r(233);e.exports=n;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty},function(e,t){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(t,function(){return this}())},function(e,t){"use strict";function r(e,t,r){function n(){a=!0,r.apply(this,arguments)}function i(){a||(e>o?t.call(this,o++,i,n):n.apply(this,arguments))}var o=0,a=!1;i()}t.__esModule=!0,t.loopAsync=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],t=arguments.length<=1||void 0===arguments[1]?s.POP:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],n=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"string"==typeof e&&(e=u.parsePath(e)),"object"==typeof t&&(e=o({},e,{state:t}),t=r||s.POP,r=n);var i=e.pathname||"/",a=e.search||"",c=e.hash||"",l=e.state||null;return{pathname:i,search:a,hash:c,state:l,action:t,key:r}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(39),s=(n(a),r(65)),u=r(53);t["default"]=i,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})}function o(){function e(e,t){g[e]=t}function t(e){return g[e]}function r(){var e=m[v],r=e.key,n=e.basename,i=e.pathname,o=e.search,s=(n||"")+i+(o||""),u=void 0;r?u=t(r):(u=null,r=p.createKey(),e.key=r);var c=l.parsePath(s);return p.createLocation(a({},c,{state:u}),void 0,r)}function n(e){var t=v+e;return t>=0&&t<m.length}function o(e){if(e){if(!n(e))return;v+=e;var t=r();p.transitionTo(a({},t,{action:h.POP}))}}function s(t){switch(t.action){case h.PUSH:v+=1,v<m.length&&m.splice(v),m.push(t),e(t.key,t.state);break;case h.REPLACE:m[v]=t,e(t.key,t.state)}}var u=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(u)?u={entries:u}:"string"==typeof u&&(u={entries:[u]});var p=d["default"](a({},u,{getCurrentLocation:r,finishTransition:s,saveState:e,go:o})),f=u,m=f.entries,v=f.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(e){var t=p.createKey();return"string"==typeof e?{pathname:e,key:t}:"object"==typeof e&&e?a({},e,{key:t}):void c["default"](!1)}),null==v?v=m.length-1:v>=0&&v<m.length?void 0:c["default"](!1);var g=i(m);return p}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(39),u=(n(s),r(23)),c=n(u),l=r(53),h=r(65),p=r(231),d=n(p);t["default"]=o,e.exports=t["default"]},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,h=r?i-1:0,p=r?-1:1,d=e[t+h];for(h+=p,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+h],h+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,f=n?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+h>=1?p/u:p*Math.pow(2,1-h),t*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=f,a/=256,c-=8);e[r+d-f]|=128*m}},function(e,t){e.exports=function(e){if(!e||"string"!=typeof e)throw new Error("must specify property for indexof search");return new Function("array","value","start",["start = start || 0","for (var i=start; i<array.length; i++)",'  if (array[i]["'+e+'"] === value)',"      return i","return -1"].join("\n"))}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},function(e,t,r){r(411),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function a(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function s(e){var t=new FileReader;return t.readAsText(e),o(t)}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(f.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(f.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!f.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},f.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e?e:Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function l(e,t){t=t||{};var r=t.body;if(l.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new n(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function p(e){var t=new n,r=e.getAllResponseHeaders().trim().split("\n");return r.forEach(function(e){var r=e.trim().split(":"),n=r.shift().trim(),i=r.join(":").trim();t.append(n,i)}),t}function d(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof n?t.headers:new n(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){n.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(n)},n.prototype["delete"]=function(e){delete this.map[t(e)]},n.prototype.get=function(e){var r=this.map[t(e)];return r?r[0]:null},n.prototype.getAll=function(e){return this.map[t(e)]||[]},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(e,n){this.map[t(e)]=[r(n)]},n.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){e.call(t,n,r,this)},this)},this)};var f={blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e},m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this)},u.call(l.prototype),u.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},d.error=function(){var e=new d(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];d.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new d(null,{status:t,headers:{location:e}})},e.Headers=n,e.Request=l,e.Response=d,e.fetch=function(e,t){return new Promise(function(r,n){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=l.prototype.isPrototypeOf(e)&&!t?e:new l(e,t);var a=new XMLHttpRequest;a.onload=function(){var e=1223===a.status?204:a.status;if(100>e||e>599)return void n(new TypeError("Network request failed"));var t={status:e,statusText:a.statusText,headers:p(a),url:i()},o="response"in a?a.response:a.responseText;r(new d(o,t))},a.onerror=function(){n(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&f.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,r){function n(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function i(e){Object.defineProperty(n.prototype,e,{get:o(e),configurable:!0})}function o(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}function a(e,t){if(!e.chars||0===e.chars.length)return null;var r=f(e.chars,t);return r>=0?e.chars[r]:null}function s(e){for(var t=0;t<v.length;t++){var r=v[t].charCodeAt(0),n=f(e.chars,r);if(n>=0)return e.chars[n].height}return 0}function u(e){for(var t=0;t<g.length;t++){var r=g[t].charCodeAt(0),n=f(e.chars,r);if(n>=0)return e.chars[n]}return 0}function c(e){for(var t=0;t<y.length;t++){var r=y[t].charCodeAt(0),n=f(e.chars,r);if(n>=0)return e.chars[n].height}return 0}function l(e,t,r){if(!e.kernings||0===e.kernings.length)return 0;for(var n=e.kernings,i=0;i<n.length;i++){var o=n[i];if(o.first===t&&o.second===r)return o.amount}return 0}function h(e){return"center"===e?w:"right"===e?E:x}var p=r(809),d=r(196),f=r(407)("id"),m=r(320),v=["x","e","a","o","n","s","r","c","u","m","v","w","z"],g=["m","w"],y=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],b="	".charCodeAt(0),_=" ".charCodeAt(0),x=0,w=1,E=2;e.exports=function(e){return new n(e)},n.prototype.update=function(e){if(e=d({measure:this._measure},e),this._opt=e,this._opt.tabSize=m(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var t=this.glyphs,r=e.text||"",n=e.font;this._setupSpaceGlyphs(n);var i=p.lines(r,e),o=e.width||0;t.length=0;var a=i.reduce(function(e,t){return Math.max(e,t.width,o)},0),u=0,f=0,v=m(e.lineHeight,n.common.lineHeight),g=n.common.base,y=v-g,b=e.letterSpacing||0,_=v*i.length-y,x=h(this._opt.align);f-=_,this._width=a,this._height=_,this._descender=v-g,this._baseline=g,this._xHeight=s(n),this._capHeight=c(n),this._lineHeight=v,this._ascender=v-y-this._xHeight;var S=this;i.forEach(function(e,i){for(var o,s=e.start,c=e.end,h=e.width,p=s;c>p;p++){var d=r.charCodeAt(p),m=S.getGlyph(n,d);if(m){o&&(u+=l(n,o.id,m.id));var g=u;x===w?g+=(a-h)/2:x===E&&(g+=a-h),t.push({position:[g,f],data:m,index:p,line:i}),u+=m.xadvance+b,o=m}}f+=v,u=0}),this._linesTotal=i.length},n.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=a(e,_)||u(e)||e.chars[0],r=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=d(t,{x:0,y:0,xadvance:r,id:b,xoffset:0,yoffset:0,width:0,height:0})}},n.prototype.getGlyph=function(e,t){var r=a(e,t);return r?r:t===b?this._fallbackTabGlyph:t===_?this._fallbackSpaceGlyph:null},n.prototype.computeMetrics=function(e,t,r,n){var i,o,a=this._opt.letterSpacing||0,s=this._opt.font,u=0,c=0,h=0;if(!s.chars||0===s.chars.length)return{start:t,end:t,width:0};r=Math.min(e.length,r);for(var p=t;r>p;p++){var d=e.charCodeAt(p),i=this.getGlyph(s,d);if(i){var f=(i.xoffset,o?l(s,o.id,i.id):0);u+=f;var m=u+i.xadvance+a,v=u+i.width;if(v>=n||m>=n)break;u=m,c=v,o=i}h++}return o&&(c+=o.xoffset),{start:t,end:t+h,width:c}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(i)},function(e,t,r){(function(t){function n(e){var t=Object.prototype.toString;return"[object ArrayBuffer]"===t.call(e)}function i(e){if(p)return h(e,{responseType:"arraybuffer"});if("undefined"==typeof window.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new window.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),h({xhr:t},e)}var o=r(810),a=function(){},s=r(417),u=r(419),c=r(418),l=r(414),h=r(196),p=function(){return window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();e.exports=function(e,r){r="function"==typeof r?r:a,"string"==typeof e?e={uri:e}:e||(e={});var h=e.binary;h&&(e=i(e)),o(e,function(i,o,h){if(i)return r(i);if(!/^2/.test(o.statusCode))return r(new Error("http status code: "+o.statusCode));if(!h)return r(new Error("no body result"));var p=!1;if(n(h)){var d=new Uint8Array(h);h=new t(d,"binary")}l(h)&&(p=!0,"string"==typeof h&&(h=new t(h,"binary"))),p||(t.isBuffer(h)&&(h=h.toString(e.encoding)),h=h.trim());var f;try{var m=o.headers["content-type"];f=p?c(h):/json/.test(m)||"{"===h.charAt(0)?JSON.parse(h):/xml/.test(m)||"<"===h.charAt(0)?u(h):s(h)}catch(v){r(new Error("error parsing font "+v.message)),r=a}r(null,f)})}}).call(t,r(91).Buffer)},function(e,t,r){(function(t){var n=r(415),i=new t([66,77,70,3]);e.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&n(e.slice(0,4),i)}}).call(t,r(91).Buffer)},function(e,t,r){var n=r(91).Buffer;e.exports=function(e,t){if(n.isBuffer(e)&&n.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}}},function(e,t){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(e,t){for(var o,a,s=r(e),u=1;u<arguments.length;u++){o=Object(arguments[u]);for(var c in o)n.call(o,c)&&(s[c]=o[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(o);for(var l=0;l<a.length;l++)i.call(o,a[l])&&(s[a[l]]=o[a[l]])}}return s}},function(e,t){function r(e,t){if(e=e.replace(/\t+/g," ").trim(),!e)return null;var r=e.indexOf(" ");if(-1===r)throw new Error("no named row at line "+t);var i=e.substring(0,r);e=e.substring(r+1),e=e.replace(/letter=[\'\"]\S+[\'\"]/gi,""),e=e.split("="),e=e.map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var o=[],a=0;a<e.length;a++){var s=e[a];0===a?o.push({key:s[0],data:""}):a===e.length-1?o[o.length-1].data=n(s[0]):(o[o.length-1].data=n(s[0]),o.push({key:s[1],data:""}))}var u={key:i,data:{}};return o.forEach(function(e){u.data[e.key]=e.data}),u}function n(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?i(e):parseInt(e,10):""}function i(e){return e.split(",").map(function(e){return parseInt(e,10)})}e.exports=function(e){if(!e)throw new Error("no data provided");e=e.toString().trim();var t={pages:[],chars:[],kernings:[]},n=e.split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var o=r(n[i],i);if(o)if("page"===o.key){if("number"!=typeof o.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof o.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');t.pages[o.data.id]=o.data.file}else"chars"===o.key||"kernings"===o.key||("char"===o.key?t.chars.push(o.data):"kerning"===o.key?t.kernings.push(o.data):t[o.key]=o.data)}return t}},function(e,t){function r(e,t,r){if(r>t.length-1)return 0;var u=t.readUInt8(r++),c=t.readInt32LE(r);switch(r+=4,u){case 1:e.info=n(t,r);break;case 2:e.common=i(t,r);break;case 3:e.pages=o(t,r,c);break;case 4:e.chars=a(t,r,c);break;case 5:e.kernings=s(t,r,c)}return 5+c}function n(e,t){var r={};r.size=e.readInt16LE(t);var n=e.readUInt8(t+2);return r.smooth=n>>7&1,r.unicode=n>>6&1,r.italic=n>>5&1,r.bold=n>>4&1,n>>3&1&&(r.fixedHeight=1),r.charset=e.readUInt8(t+3)||"",r.stretchH=e.readUInt16LE(t+4),r.aa=e.readUInt8(t+6),r.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],r.spacing=[e.readInt8(t+11),e.readInt8(t+12)],r.outline=e.readUInt8(t+13),r.face=c(e,t+14),r}function i(e,t){var r={};r.lineHeight=e.readUInt16LE(t),r.base=e.readUInt16LE(t+2),r.scaleW=e.readUInt16LE(t+4),r.scaleH=e.readUInt16LE(t+6),r.pages=e.readUInt16LE(t+8);e.readUInt8(t+10);return r.packed=0,r.alphaChnl=e.readUInt8(t+11),r.redChnl=e.readUInt8(t+12),r.greenChnl=e.readUInt8(t+13),r.blueChnl=e.readUInt8(t+14),r}function o(e,t,r){for(var n=[],i=u(e,t),o=i.length+1,a=r/o,s=0;a>s;s++)n[s]=e.slice(t,t+i.length).toString("utf8"),t+=o;return n}function a(e,t,r){for(var n=[],i=r/20,o=0;i>o;o++){var a={},s=20*o;a.id=e.readUInt32LE(t+0+s),a.x=e.readUInt16LE(t+4+s),a.y=e.readUInt16LE(t+6+s),a.width=e.readUInt16LE(t+8+s),a.height=e.readUInt16LE(t+10+s),a.xoffset=e.readInt16LE(t+12+s),a.yoffset=e.readInt16LE(t+14+s),a.xadvance=e.readInt16LE(t+16+s),a.page=e.readUInt8(t+18+s),a.chnl=e.readUInt8(t+19+s),n[o]=a}return n}function s(e,t,r){for(var n=[],i=r/10,o=0;i>o;o++){var a={},s=10*o;a.first=e.readUInt32LE(t+0+s),a.second=e.readUInt32LE(t+4+s),a.amount=e.readInt16LE(t+8+s),n[o]=a}return n}function u(e,t){for(var r=t;r<e.length&&0!==e[r];r++);return e.slice(t,r)}function c(e,t){return u(e,t).toString("utf8")}var l=[66,77,70];e.exports=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");var t=l.every(function(t,r){return e.readUInt8(r)===t});if(!t)throw new Error("BMFont missing BMF byte header");var n=3,i=e.readUInt8(n++);if(i>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var o={kernings:[],chars:[]},a=0;5>a;a++)n+=r(o,e,n);return o}},function(e,t,r){function n(e){var t=i(e);return t.reduce(function(e,t){var r=o(t.nodeName);return e[r]=t.nodeValue,e},{})}function i(e){for(var t=[],r=0;r<e.attributes.length;r++)t.push(e.attributes[r]);return t}function o(e){return u[e.toLowerCase()]||e}var a=r(420),s=r(812),u={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};e.exports=function(e){e=e.toString();var t=s(e),r={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(e){var i=t.getElementsByTagName(e)[0];i&&(r[e]=a(n(i)))});var i=t.getElementsByTagName("pages")[0];if(!i)throw new Error("malformed file -- no <pages> element");for(var o=i.getElementsByTagName("page"),u=0;u<o.length;u++){var c=o[u],l=parseInt(c.getAttribute("id"),10),h=c.getAttribute("file");if(isNaN(l))throw new Error('malformed file -- page "id" attribute is NaN');if(!h)throw new Error('malformed file -- needs page "file" attribute');r.pages[parseInt(l,10)]=h}return["chars","kernings"].forEach(function(e){var i=t.getElementsByTagName(e)[0];if(i)for(var o=e.substring(0,e.length-1),s=i.getElementsByTagName(o),u=0;u<s.length;u++){var c=s[u];r[e].push(a(n(c)))}}),r}},function(e,t){function r(e){return e.split(",").map(function(e){return parseInt(e,10)})}var n="chasrset";e.exports=function(e){n in e&&(e.charset=e[n],delete e[n]);for(var t in e)"face"!==t&&"charset"!==t&&("padding"===t||"spacing"===t?e[t]=r(e[t]):e[t]=parseInt(e[t],10));return e}},function(e,t,r){var n=r(807),i=r(401),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};var t={};return i(n(e).split("\n"),function(e){var r=e.indexOf(":"),i=n(e.slice(0,r)).toLowerCase(),a=n(e.slice(r+1));"undefined"==typeof t[i]?t[i]=a:o(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},function(e,t,r){"use strict";e.exports=r(426)},function(e,t,r){"use strict";var n=r(66);e.exports=n,n.prototype.done=function(e,t){var r=arguments.length?this.then.apply(this,arguments):this;r.then(null,function(e){setTimeout(function(){throw e},0)})}},function(e,t,r){"use strict";function n(e){var t=new i(i._61);return t._81=1,t._65=e,t}var i=r(66);e.exports=i;var o=n(!0),a=n(!1),s=n(null),u=n(void 0),c=n(0),l=n("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(e===!0)return o;if(e===!1)return a;if(0===e)return c;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(r){return new i(function(e,t){t(r)})}return n(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,r){function n(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?n(a,s._65):(2===s._81&&r(s._65),void s.then(function(e){n(a,e)},r))}var u=s.then;if("function"==typeof u){var c=new i(u.bind(s));return void c.then(function(e){n(a,e)},r)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)n(a,t[a])})},i.reject=function(e){return new i(function(t,r){r(e)})},i.race=function(e){return new i(function(t,r){e.forEach(function(e){i.resolve(e).then(t,r)})})},i.prototype["catch"]=function(e){return this.then(null,e)}},function(e,t,r){"use strict";var n=r(66);e.exports=n,n.prototype["finally"]=function(e){return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})}},function(e,t,r){"use strict";e.exports=r(66),r(423),r(425),r(424),r(427),r(428)},function(e,t,r){"use strict";function n(e,t){for(var r=[],n=0;t>n;n++)r.push("a"+n);var i=["return function ("+r.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(r).concat([s]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],i)(o,e)}function i(e){for(var t=Math.max(e.length-1,3),r=[],n=0;t>n;n++)r.push("a"+n);var i=["return function ("+r.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+s+";","var res;","switch (argLength) {",r.concat(["extra"]).map(function(e,t){return"case "+t+":res = fn.call("+["self"].concat(r.slice(0,t)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],i)(o,e)}var o=r(66),a=r(321);e.exports=o,o.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?n(e,t):i(e)};var s="function (err, res) {if (err) { rj(err); } else { rs(res); }}";o.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),r="function"==typeof t[t.length-1]?t.pop():null,n=this;try{return e.apply(this,arguments).nodeify(r,n)}catch(i){if(null===r||"undefined"==typeof r)return new o(function(e,t){t(i)});a(function(){r.call(n,i)})}}},o.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(r){a(function(){e.call(t,null,r)})},function(r){a(function(){e.call(t,r)})})}},function(e,t,r){"use strict";var n=r(66);e.exports=n,n.enableSynchronous=function(){n.prototype.isPending=function(){return 0==this.getState()},n.prototype.isFulfilled=function(){return 1==this.getState()},n.prototype.isRejected=function(){return 2==this.getState()},n.prototype.getValue=function(){if(3===this._81)return this._65.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._65},n.prototype.getReason=function(){if(3===this._81)return this._65.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._65},n.prototype.getState=function(){return 3===this._81?this._65.getState():-1===this._81||-2===this._81?0:this._81}},n.disableSynchronous=function(){n.prototype.isPending=void 0,n.prototype.isFulfilled=void 0,n.prototype.isRejected=void 0,n.prototype.getValue=void 0,n.prototype.getReason=void 0,n.prototype.getState=void 0}},function(e,t,r){var n=r(220),i=r(319),o=r(409),a=[0,2,3],s=[2,1,3];e.exports=function(e,t){e&&(i(e)||o(e))||(t=e||{},e=null),t="number"==typeof t?{count:t
}:t||{};for(var r="string"==typeof t.type?t.type:"uint16",u="number"==typeof t.count?t.count:1,c=t.start||0,l=t.clockwise!==!1?a:s,h=l[0],p=l[1],d=l[2],f=6*u,m=e||new(n(r))(f),v=0,g=0;f>v;v+=6,g+=4){var y=v+c;m[y+0]=g+0,m[y+1]=g+1,m[y+2]=g+2,m[y+3]=g+h,m[y+4]=g+p,m[y+5]=g+d}return m}},function(e,t,r){"use strict";var n=r(801);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(e,t){var r=t.replace(/\+/g," ").split("="),n=r.shift(),i=r.length>0?r.join("="):void 0;return n=decodeURIComponent(n),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i,e},{}):{})},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var r=e[t];return void 0===r?"":null===r?t:Array.isArray(r)?r.sort().map(function(e){return n(t)+"="+n(e)}).join("&"):n(t)+"="+n(r)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,r){(function(t){for(var n=r(234),i="undefined"==typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],u=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!u){var l=0,h=0,p=[],d=1e3/60;s=function(e){if(0===p.length){var t=n(),r=Math.max(0,d-(t-l));l=r+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(r){setTimeout(function(){throw r},0)}},Math.round(r))}return p.push({handle:++h,callback:e,cancelled:!1}),h},u=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(){i.requestAnimationFrame=s,i.cancelAnimationFrame=u}}).call(t,function(){return this}())},function(e,t){e.exports="#define GLSLIFY 1// set in vertex shader\r\nvarying vec2 vUv;\r\nvarying vec2 vBgUv;\r\nvarying vec3 surfacePosition;\r\n\r\n// Passed from definition\r\nuniform float smooth;\r\nuniform vec3 color;\r\nuniform float opacity;\r\nuniform vec3 specularColor;\r\n\r\n// Maps\r\nuniform sampler2D map;\r\nuniform sampler2D bgDiffuse;\r\nuniform sampler2D bgNormals;\r\nuniform sampler2D bgSpecular;\r\n\r\n// More passed\r\nuniform float normalScale;\r\nuniform float shininess;\r\nuniform float randomness;\r\nuniform int graffiti;\r\n\r\n// MAX_DIR_LIGHTS is part of the glsl spec\r\n// otherwise these three are from THREE\r\nuniform vec3 ambientLightColor;\r\n#if NUM_DIR_LIGHTS > 0\r\n  struct DirectionalLight {\r\n    vec3 direction;\r\n    vec3 color;\r\n    int shadow;\r\n    float shadowBias;\r\n    float shadowRadius;\r\n    vec2 shadowMapSize;\r\n  };\r\n  uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\r\n#endif\r\n\r\n//Including shader effects.\r\nfloat aastep_2_0(float threshold, float value) {\n  #ifdef GL_OES_standard_derivatives\n    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;\n    return smoothstep(threshold-afwidth, threshold+afwidth, value);\n  #else\n    return step(threshold, value);\n  #endif  \n}\n\n\n//http://www.thetenthplanet.de/archives/1180\nmat3 cotangentFrame_6_1(vec3 N, vec3 p, vec2 uv) {\n  // get edge vectors of the pixel triangle\n  vec3 dp1 = dFdx(p);\n  vec3 dp2 = dFdy(p);\n  vec2 duv1 = dFdx(uv);\n  vec2 duv2 = dFdy(uv);\n\n  // solve the linear system\n  vec3 dp2perp = cross(dp2, N);\n  vec3 dp1perp = cross(N, dp1);\n  vec3 T = dp2perp * duv1.x + dp1perp * duv2.x;\n  vec3 B = dp2perp * duv1.y + dp1perp * duv2.y;\n\n  // construct a scale-invariant frame \n  float invmax = 1.0 / sqrt(max(dot(T,T), dot(B,B)));\n  return mat3(T * invmax, B * invmax, N);\n}\n\n\n\nvec3 perturb_5_2(vec3 map, vec3 N, vec3 V, vec2 texcoord) {\n  mat3 TBN = cotangentFrame_6_1(N, -V, texcoord);\n  return normalize(TBN * map);\n}\n\n\nvec3 normals_4_3(vec3 pos) {\n  vec3 fdx = dFdx(pos);\n  vec3 fdy = dFdy(pos);\n  return normalize(cross(fdx, fdy));\n}\n\n\nfloat orenNayarDiffuse_1_4(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float albedo) {\n  \n  float LdotV = dot(lightDirection, viewDirection);\n  float NdotL = dot(lightDirection, surfaceNormal);\n  float NdotV = dot(surfaceNormal, viewDirection);\n\n  float s = LdotV - NdotL * NdotV;\n  float t = mix(1.0, max(NdotL, NdotV), step(0.0, s));\n\n  float sigma2 = roughness * roughness;\n  float A = 1.0 + sigma2 * (albedo / (sigma2 + 0.13) + 0.5 / (sigma2 + 0.33));\n  float B = 0.45 * sigma2 / (sigma2 + 0.09);\n\n  return albedo * max(0.0, NdotL) * (A + B * s / t) / 3.14159265;\n}\n\n\nfloat blinnPhongSpecular_3_5(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  //Calculate Blinn-Phong power\n  vec3 H = normalize(viewDirection + lightDirection);\n  return pow(max(0.0, dot(surfaceNormal, H)), shininess);\n}\n\n\n// function declaration\r\n// returns vec3, takes in normal, matrixCompMult(mat a, mat b)\r\nvec3 transformDirection(in vec3 normal, in mat4 matrix) {\r\n// normalize returns unit vector (divided by length)\r\n  return normalize((matrix * vec4(normal, 0.0)).xyz);\r\n}\r\nvoid main() {\r\n  float opacity = 0.8;\r\n  vec3 viewDirection = cameraPosition - surfacePosition;\r\n  vec4 texVec = texture2D(map, vUv);\r\n  vec4 diffuseVec = texture2D(bgDiffuse, vBgUv);\r\n  vec4 normalVec = texture2D(bgNormals, vBgUv);\r\n  vec4 specVec = texture2D(bgSpecular, vBgUv);\r\n  vec3 V = normalize(viewDirection);\r\n  vec3 N = normalize(normals_4_3(viewDirection));\r\n\r\n  // get light properties from ThreeJS\r\n  // Lights currently not functioning.\r\n  vec3 lightColor = directionalLights[0].color;\r\n  vec3 L = transformDirection(directionalLights[0].direction, viewMatrix);\r\n\r\n  // Compute normal based off tex\r\n  vec3 normalMap = normalVec.xyz * 2.0 - 1.0;\r\n  vec3 surfaceNormal = perturb_5_2(normalMap, N, V, vUv);\r\n\r\n  // Compute specular light intensity/direction.\r\n  vec3 specularColor = specVec.rgb;\r\n  vec3 specularLight = specularColor * blinnPhongSpecular_3_5(L, V, surfaceNormal, 2.0);\r\n\r\n  vec3 bgColor = diffuseVec.rgb;\r\n  vec3 texColor = texVec.rgb;\r\n\r\n  vec3 diffuseColor = bgColor * (1.0 - opacity) + color * opacity;\r\n  vec3 diffuseLight = diffuseColor * orenNayarDiffuse_1_4(L, V, surfaceNormal, 1.0, 1.2);\r\n\r\n  vec3 finalLight = specularLight + diffuseLight;\r\n  gl_FragColor.rgb = finalLight;\r\n\r\n  // Alpha to be calc from the sdf map\r\n\r\n  float alpha = texVec.a;\r\n  gl_FragColor.a = alpha * opacity;\r\n  if (gl_FragColor.a < 0.06)\r\n    discard;\r\n}\r\n"},function(e,t){e.exports="#define GLSLIFY 1// varying vec2 bgUv;\r\n// Varies based off of interpolation\r\nvarying vec2 vUv;\r\nvarying vec2 vBgUv;\r\nvarying vec3 surfacePosition;\r\nconst float PI = 3.141592653589793238462643383;\r\n// Bufferattribute that varies and is set by updateBgUv\r\nattribute vec2 bgUv;\r\n// constant per set\r\nuniform vec2 bgRepeat;\r\n\r\nvoid main() {\r\n  vUv = uv;\r\n\r\n  surfacePosition = (modelMatrix * vec4(position, 1.0)).xyz;\r\n\r\n  // Rotate texture. Will need to break\r\n  // a param as it depends on face underneath.\r\n  vBgUv = bgUv * bgRepeat;\r\n  // Transform to origin, rotate, and return to coord space\r\n  vBgUv = vBgUv + vec2(-0.5, -0.5);\r\n  //vBgUv = mat2(cos(PI / 4.0), sin(PI / 4.0), -sin(PI / 4.0), cos(PI / 4.0)) * vBgUv;\r\n  vBgUv = vBgUv + vec2(0.5, 0.5);\r\n  vBgUv = vec2(vBgUv.x, 1.0 - vBgUv.y);\r\n\r\n  gl_Position = projectionMatrix *\r\n              modelViewMatrix *\r\n              vec4(position, 1.0);\r\n\r\n  // mat4 modelxz = modelViewMatrix;\r\n  // vec4 projected = modelxz * vec4(position.xy, 0.0, 1.0);\r\n  // bgUv = projected.xy;\r\n}\r\n"},function(e,t,r){"use strict";var n=r(4),i=n.createClass({displayName:"Cassette",propTypes:{src:n.PropTypes.string.isRequired,preload:n.PropTypes.string,mimeType:n.PropTypes.string,labelColor:n.PropTypes.string,tapeColor:n.PropTypes.string,cassetteColor:n.PropTypes.string,controlsColor:n.PropTypes.string,containerClass:n.PropTypes.string,scaleMethod:n.PropTypes.string},getDefaultProps:function(){return{preload:"metadata",mimeType:"audio/mpeg",labelColor:"#fff",tapeColor:"#333",cassetteColor:"#333",controlsColor:"#999",containerClass:"react-cassette-player",scaleMethod:"meet"}},getInitialState:function(){return{lt:7.6,rt:0,playing:!1,canPlay:!1}},componentDidMount:function(){var e=this.refs.player;"none"===this.props.preload?this.audioReady():e.addEventListener("canplay",this.audioReady),e.addEventListener("ended",this.audioEnded),e.addEventListener("timeupdate",this.audioUpdate),e.addEventListener("pause",this.audioPause)},componentWillReceiveProps:function(e){this.props.src!==e.src&&this.audioPause()},componentDidUpdate:function(e,t){e.src!==this.props.src&&(this.audioLoad(),this.audioPlay())},audioReady:function(){this.setState({canPlay:!0})},audioPlay:function(){try{for(var e=document.getElementsByTagName("audio"),t=0;t<e.length;t++)e[t].pause()}catch(r){}this.refs.player.play(),this.setState({playing:!0})},audioPause:function(){this.refs.player.pause(),this.setState({playing:!1})},audioLoad:function(){this.refs.player.load(),this.setState({lt:7.6,rt:0,playing:!1,canPlay:!1})},audioUpdate:function(){var e=this.refs.player,t=e.currentTime/e.duration,r=7.6*(1-t),n=7.6-r;.07>r&&(r=.07),this.setState({lt:r,rt:n})},audioEnded:function(){this.setState({playing:!1})},togglePlayPause:function(){this.state.canPlay&&(this.state.playing?this.audioPause():this.audioPlay())},render:function(){var e="xMidYMid "+this.props.scaleMethod,t="M40.849,49.944 h"+this.state.lt+" c0.243-1.207,0.367-2.438,0.367-3.669 c0-1.339-0.146-2.676-0.435-3.984 h-"+(this.state.lt-.06)+" V49.944 z";if(this.state.rt>=.07)var r="M40.849,49.944 h"+this.state.rt+" c0.243-1.207,0.367-2.438,0.367-3.669 c0-1.339-0.146-2.676-0.435-3.984 h-"+(this.state.rt-.06)+" V49.944 z",i=n.createElement("path",{fill:this.props.tapeColor,d:r,transform:"translate(100, 0) scale(-1, 1)"});else var i=null;if(this.state.playing)var o=n.createElement("g",{transform:"scale(0.14) translate(285,465)"},n.createElement("rect",{fill:this.props.controlsColor,x:"50.927",y:"28.349",width:"10.715",height:"42.863"}),n.createElement("rect",{fill:this.props.controlsColor,x:"72.359",y:"28.349",width:"10.718",height:"42.863"}));else if(this.state.canPlay)var o=n.createElement("g",{transform:"scale(0.14) translate(325,465)"},n.createElement("path",{fill:this.props.controlsColor,d:"M16.785,27.729c-1.745-0.816-3.862-1.089-3.862,1.617v40.985c0,2.498,1.909,2.844,3.874,1.685l27.77-19.994   c2.093-1.537,1.419-3.089-0.179-4.405L16.785,27.729z"}));else var o=null;return n.createElement("div",{className:this.props.containerClass},n.createElement("audio",{ref:"player",preload:this.props.preload},n.createElement("source",{src:this.props.src,type:this.props.mimeType})),n.createElement("svg",{onClick:this.togglePlayPause,x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:e},n.createElement("g",null,n.createElement("polygon",{fill:this.props.cassetteColor,points:"23.034,66.621 20.613,78.02 79.387,78.02 76.965,66.621"}),n.createElement("path",{fill:this.props.labelColor,d:"M86.225,25.851h-72.45c-1.667,0-3.024,1.356-3.024,3.023v29.189c0,1.666,1.356,3.023,3.024,3.023h72.45    c1.668,0,3.023-1.357,3.023-3.023V28.874C89.248,27.207,87.893,25.851,86.225,25.851z M30.769,52.279    c-3.205,0-5.803-2.597-5.803-5.802s2.598-5.803,5.803-5.803c3.205,0,5.803,2.598,5.803,5.803S33.973,52.279,30.769,52.279z     M60.234,51.023H39.77V41.21h20.465V51.023z M69.235,52.279c-3.205,0-5.803-2.597-5.803-5.802s2.598-5.803,5.803-5.803    s5.803,2.598,5.803,5.803S72.44,52.279,69.235,52.279z"}),n.createElement("path",{fill:this.props.cassetteColor,d:"M91.399,21.98H8.6c-1.988,0-3.6,1.612-3.6,3.6v48.84c0,1.988,1.612,3.6,3.6,3.6h9.805l2.88-13.561h57.43    l2.88,13.561h9.805c1.988,0,3.601-1.611,3.601-3.6V25.58C95,23.592,93.388,21.98,91.399,21.98z M90.328,58.062    c0,2.262-1.841,4.102-4.104,4.102h-72.45c-2.263,0-4.104-1.84-4.104-4.102V28.874c0-2.262,1.841-4.103,4.104-4.103h72.45    c2.263,0,4.104,1.841,4.104,4.103V58.062z"})),n.createElement("g",null,n.createElement("path",{fill:this.props.tapeColor,d:t}),i),o))}});e.exports=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){var t=f(),r=t-g;g=t,y+=r*s,y>i*l&&(y=0);for(var n=Math.ceil(y/i),o=0;o<m.length;o++){var a=m[o],u=a.active,c=a.animationStep,h=a.prevState,d=m[o].nextState;if(u)if(0>=y)m[o].nextState=c(i/1e3,h);else for(var b=0;n>b;b++){m[o].nextState=c(i/1e3,d);var _=[d,m[o].nextState];m[o].prevState=_[0],d=_[1]}}y-=n*i;for(var x=1+y/i,o=0;o<m.length;o++){var w=m[o],E=w.animationRender,S=w.nextState,C=w.prevState;E(x,S,C)}m=m.filter(function(e){var t=e.active;return t}),0===m.length?v=!1:p(e)}function t(){v||(v=!0,g=f(),y=0,p(e))}var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=r.timeStep,i=void 0===n?1/60*1e3:n,o=r.timeScale,s=void 0===o?1:o,c=r.maxSteps,l=void 0===c?10:c,h=r.raf,p=void 0===h?u["default"]:h,d=r.now,f=void 0===d?a["default"]:d,m=[],v=!1,g=0,y=0;return function(e,r,n){for(var i=0;i<m.length;i++){var o=m[i];if(o.animationStep===r)return o.active=!0,o.prevState=e,t(),o.stop}var a={animationStep:r,animationRender:n,prevState:e,nextState:e,active:!0};return a.stop=function(){return a.active=!1},m.push(a),t(),a.stop}}t.__esModule=!0,t["default"]=i;var o=r(234),a=n(o),s=r(431),u=n(s);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n],n));return r}function o(e,t){for(var r in t)if(t.hasOwnProperty(r)&&!e(t[r],r))return!1;return!0}function a(e){var t=e.PropTypes,r=e.createClass({displayName:"Motion",propTypes:{defaultValue:function(e,t){return e[t]?new Error("Spring's `defaultValue` has been changed to `defaultStyle`. Its format received a few (easy to update!) changes as well."):void 0},endValue:function(e,t){return e[t]?new Error("Spring's `endValue` has been changed to `style`. Its format received a few (easy to update!) changes as well."):void 0},defaultStyle:t.object,style:t.object.isRequired,children:t.func.isRequired},getInitialState:function(){var e=this.props,t=e.defaultStyle,r=e.style,n=t||r;return{currentStyle:n,currentVelocity:i(g["default"],n)}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(e,t){var r=t.currentStyle,n=t.currentVelocity,i=this.props.style,o=y.updateCurrentStyle(e,r,n,i),a=y.updateCurrentVelocity(e,r,n,i);return c["default"](n,o)&&c["default"](a,o)&&this.stopAnimation(),{currentStyle:o,currentVelocity:a}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=E(this.state,this.animationStep,this.animationRender)},animationRender:function(e,t,r){this.hasUnmounted||this.setState({currentStyle:y.interpolateValue(e,t.currentStyle,r.currentStyle),currentVelocity:t.currentVelocity})},render:function(){var t=w["default"](this.state.currentStyle),r=this.props.children(t);return r&&e.Children.only(r)}}),n=e.createClass({displayName:"StaggeredMotion",propTypes:{defaultStyle:function(e,t){return e[t]?new Error('You forgot the "s" for `StaggeredMotion`\'s `defaultStyles`.'):void 0},style:function(e,t){return e[t]?new Error('You forgot the "s" for `StaggeredMotion`\'s `styles`.'):void 0},defaultStyles:t.arrayOf(t.object),styles:t.func.isRequired,children:t.func.isRequired},getInitialState:function(){var e=this.props,t=e.styles,r=e.defaultStyles,n=r?r:t();return{currentStyles:n,currentVelocities:n.map(function(e){return i(g["default"],e)})}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(e,t){var r=t.currentStyles,n=t.currentVelocities,i=this.props.styles(r.map(w["default"])),o=r.map(function(t,r){return y.updateCurrentStyle(e,t,n[r],i[r])}),a=r.map(function(t,r){return y.updateCurrentVelocity(e,t,n[r],i[r])});return n.every(function(e,t){return c["default"](e,r[t])})&&a.every(function(e,t){return c["default"](e,o[t])})&&this.stopAnimation(),{currentStyles:o,currentVelocities:a}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=E(this.state,this.animationStep,this.animationRender)},animationRender:function(e,t,r){if(!this.hasUnmounted){var n=t.currentStyles.map(function(t,n){return y.interpolateValue(e,t,r.currentStyles[n])});this.setState({currentStyles:n,currentVelocities:t.currentVelocities})}},render:function(){var t=this.state.currentStyles.map(w["default"]),r=this.props.children(t);return r&&e.Children.only(r)}}),a=e.createClass({displayName:"TransitionMotion",propTypes:{defaultValue:function(e,t){return e[t]?new Error("TransitionSpring's `defaultValue` has been changed to `defaultStyles`. Its format received a few (easy to update!) changes as well."):void 0},endValue:function(e,t){return e[t]?new Error("TransitionSpring's `endValue` has been changed to `styles`. Its format received a few (easy to update!) changes as well."):void 0},defaultStyle:function(e,t){return e[t]?new Error('You forgot the "s" for `TransitionMotion`\'s `defaultStyles`.'):void 0},style:function(e,t){return e[t]?new Error('You forgot the "s" for `TransitionMotion`\'s `styles`.'):void 0},defaultStyles:t.objectOf(t.any),styles:t.oneOfType([t.func,t.objectOf(t.any.isRequired)]).isRequired,willLeave:t.oneOfType([t.func]),willEnter:t.oneOfType([t.func]),children:t.func.isRequired},getDefaultProps:function(){return{willEnter:function(e,t){return t},willLeave:function(){return null}}},getInitialState:function(){var e=this.props,t=e.styles,r=e.defaultStyles,n=void 0;return n=null==r?"function"==typeof t?t():t:r,{currentStyles:n,currentVelocities:i(function(e){return i(g["default"],e)},n)}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(e,t){var r=t.currentStyles,n=t.currentVelocities,a=this.props,u=a.styles,l=a.willEnter,p=a.willLeave;"function"==typeof u&&(u=u(r));var f=u,m=!1;f=d["default"](r,u,function(e){var t=p(e,r[e],u,r,n);return null==t?null:c["default"](n[e],r[e])&&h["default"](r[e],t)?null:t}),Object.keys(f).filter(function(e){return!r.hasOwnProperty(e)}).forEach(function(e){var t,o;m=!0;var a=l(e,f[e],u,r,n);f[e]=a,r=s({},r,(t={},t[e]=a,t)),n=s({},n,(o={},o[e]=i(g["default"],a),o))});var v=i(function(t,i){return y.updateCurrentStyle(e,r[i],n[i],t)},f),b=i(function(t,i){return y.updateCurrentVelocity(e,r[i],n[i],t)},f);return!m&&o(function(e,t){return c["default"](e,r[t])},n)&&o(function(e,t){return c["default"](e,v[t])},b)&&this.stopAnimation(),{currentStyles:v,currentVelocities:b}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=E(this.state,this.animationStep,this.animationRender)},animationRender:function(e,t,r){if(!this.hasUnmounted){var n=i(function(t,n){return y.interpolateValue(e,t,r.currentStyles[n])},t.currentStyles);this.setState({currentStyles:n,currentVelocities:t.currentVelocities})}},render:function(){var t=i(w["default"],this.state.currentStyles),r=this.props.children(t);return r&&e.Children.only(r)}}),u=_["default"](e),l=u.Spring,p=u.TransitionSpring;return{Spring:l,TransitionSpring:p,Motion:r,StaggeredMotion:n,TransitionMotion:a}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=a;var u=r(440),c=n(u),l=r(438),h=n(l),p=r(439),d=n(p),f=r(435),m=n(f),v=r(446),g=n(v),y=r(445),b=r(437),_=n(b),x=r(444),w=n(x),E=m["default"]();e.exports=t["default"]},function(e,t,r){"use strict";function n(e){var t=e.createClass({displayName:"Spring",componentWillMount:function(){},render:function(){return null}}),r=e.createClass({displayName:"TransitionSpring",componentWillMount:function(){},render:function(){return null}});return{Spring:t,TransitionSpring:r}}t.__esModule=!0,t["default"]=n;e.exports=t["default"]},function(e,t){"use strict";function r(e,t){for(var r in t)if(t.hasOwnProperty(r)){var n=e[r],i=t[r];if(null!=i&&i.config){if(n.config&&n.val!==i.val)return!1;if(!n.config&&n!==i.val)return!1}}return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e,t,r,n,i,o,a){for(var s=!0;s;){var u=e,c=t,l=r,h=n,p=i,d=o,f=a;m=v=g=y=b=b=void 0,s=!1;var m=h===u.length,v=p===c.length,g=u[h],y=c[p];if(m&&v)return null;if(m)f[y]=l[y],e=u,t=c,r=l,n=h,i=p+1,o=d,a=f,s=!0;else if(v){var b=d(g);null!=b&&(f[g]=b),e=u,t=c,r=l,n=h+1,i=p,o=d,a=f,s=!0}else if(g!==y)if(l.hasOwnProperty(g))e=u,t=c,r=l,n=h+1,i=p,o=d,a=f,s=!0;else{var b=d(g);null!=b&&(f[g]=b),e=u,t=c,r=l,n=h+1,i=p,o=d,a=f,s=!0}else f[g]=l[g],e=u,t=c,r=l,n=h+1,i=p+1,o=d,a=f,s=!0}}function n(e,t,n){var i={};return r(Object.keys(e),Object.keys(t),t,0,0,n,i),i}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){for(var r in e)if(e.hasOwnProperty(r)&&null!=t[r]&&t[r].config&&0!==e[r])return!1;return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(4),o=n(i),a=r(436),s=n(a),u=r(442),c=n(u),l=s["default"](o["default"]),h=l.Spring,p=l.TransitionSpring,d=l.Motion,f=l.StaggeredMotion,m=l.TransitionMotion;t.Spring=h,t.TransitionSpring=p,t.Motion=d,t.StaggeredMotion=f,t.TransitionMotion=m;var v=r(238),g=n(v);t.spring=g["default"];var y=r(237),b=n(y);t.presets=b["default"];var _={reorderKeys:c["default"]};t.utils=_},function(e,t){"use strict";function r(e,t){for(var r=t(Object.keys(e)),n={},i=0;i<r.length;i++){var o=r[i];n[o]=e[o]}return n}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e,t,r,i,o,a){var s=-o*(t-i),u=-a*r,c=s+u,l=r+c*e,h=t+l*e;return Math.abs(l-r)<n&&Math.abs(h-t)<n?[i,0]:[h,l]}t.__esModule=!0,t["default"]=r;var n=1e-4;e.exports=t["default"]},function(e,t){"use strict";function r(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=null==e[r]||null==e[r].val?e[r]:e[r].val);return t}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){if(!r)return t;var n={};for(var i in t)if(t.hasOwnProperty(i))if(null!=t[i]&&t[i].config){var o=r[i].config?r[i].val:r[i];n[i]=l["default"](t[i].val*e+o*(1-e),t[i].config)}else n[i]=t[i];return n}function o(e,t,r,n){var i={};for(var o in n)if(n.hasOwnProperty(o))if(null!=n[o]&&n[o].config){var a=n[o].config,s=a[0],c=a[1],h=u["default"](e,null==t[o].val?t[o]:t[o].val,r[o],n[o].val,s,c)[0];i[o]=l["default"](h,n[o].config)}else i[o]=n[o];return i}function a(e,t,r,n){var i={};for(var o in n)if(n.hasOwnProperty(o))if(null!=n[o]&&n[o].config){var a=n[o].config,s=a[0],c=a[1],l=u["default"](e,null==t[o].val?t[o]:t[o].val,r[o],n[o].val,s,c)[1];i[o]=l}else i[o]=0;return i}t.__esModule=!0,t.interpolateValue=i,t.updateCurrentStyle=o,t.updateCurrentVelocity=a;var s=r(443),u=n(s),c=r(238),l=n(c)},function(e,t){"use strict";function r(){return 0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return!!u(e).length}function i(e){if(!l.supports("defer"))return e;var t=[];return e.forEach(function(e){return t.push.apply(t,s(g(E(e))))}),t}function o(e,t,r,o,a){function s(e){var t=e.getQuery(),r=t.getID();delete m[r],t.isDeferred()||delete g[r],n(g)||w(m,function(e){return e.isResolvable()})||(n(m)?h.update({done:!1,ready:!0,stale:!1}):h.update({done:!0,ready:!0,stale:!1}))}function u(e,t){h.update({error:t});var r=e.getQuery(),n=r.getID();delete m[n],r.isDeferred()||delete g[n]}function l(t){return f(e.getQueuedStore(),t.getQuery())}var h=new p(r),m={},g={};return d.enqueue(function(){var r=o===c.REFETCH?b():null;i(t).forEach(function(t){var n=e.getPendingQueryTracker().add({query:t,fetchMode:o,forceIndex:r,storeData:e}),i=t.getID();m[i]=n,t.isDeferred()||(g[i]=n),n.getResolvedPromise().then(s.bind(null,n),u.bind(null,n))}),n(m)?n(g)?(h.update({ready:!1}),x(function(){if(e.hasCacheManager()){var t=_(g,function(e){return e.getQuery()});e.readFromDiskCache(t,{onSuccess:function(){n(g)&&h.update({ready:!0,stale:!0})}})}else v(g,l)&&n(g)&&h.update({ready:!0,stale:!0})})):h.update({ready:!0}):h.update({done:!0,ready:!0}),a.stop()}).done(),{abort:function(){h.update({aborted:!0})}}}var a=r(3)["default"],s=r(69)["default"],u=r(24)["default"],c=r(242),l=r(80),h=r(13),p=r(474),d=r(148),f=r(483),m=r(486),v=r(261),g=r(490),y=r(28),b=r(249),_=r(111),x=r(70),w=r(520),E=r(502),S=(r(17),function(){function e(t){a(this,e),this._storeData=t}return e.prototype.run=function(e,t,r){var n=this;r=r||c.CLIENT;var i=r===c.REFETCH?h.profile("GraphQLQueryRunner.forceFetch"):h.profile("GraphQLQueryRunner.primeCache"),a=[];return r===c.CLIENT?y(e,function(e){e&&a.push.apply(a,s(m(e,n._storeData.getRecordStore(),n._storeData.getQueryTracker())))}):y(e,function(e){e&&a.push(e)}),o(this._storeData,a,t,r,i)},e.prototype.forceFetch=function(e,t){var r=c.REFETCH,n=h.profile("GraphQLQueryRunner.forceFetch"),i=[];return y(e,function(e){e&&i.push(e)}),o(this._storeData,i,t,r,n)},e}());e.exports=S},function(e,t,r){"use strict";var n=r(3)["default"],i=r(155)["default"],o=r(154)["default"],a=r(24)["default"],s=r(21),u=function(){function e(){n(this,e),this._indexToMetadataMap={},this._idToIndicesMap={},this._cursorToIndexMap={},this._count=0,this._minIndex=null,this._maxIndex=null}return e.prototype._getIndexForCursor=function(e){return this._cursorToIndexMap[e]},e.prototype._getIndexForID=function(e){var t=this._idToIndicesMap[e];return t&&t[0]},e.prototype.getFirstCursor=function(){if(this.getLength())for(var e=this._minIndex;e<=this._maxIndex;e++){var t=this._indexToMetadataMap[e];if(!t.deleted)return t.cursor}},e.prototype.getLastCursor=function(){if(this.getLength())for(var e=this._maxIndex;e>=this._minIndex;e--){var t=this._indexToMetadataMap[e];if(!t.deleted)return t.cursor}},e.prototype.getFirstID=function(){if(this.getLength())for(var e=this._minIndex;e<=this._maxIndex;e++){var t=this._indexToMetadataMap[e];if(!t.deleted)return t.edgeID}},e.prototype.getLastID=function(){if(this.getLength())for(var e=this._maxIndex;e>=this._minIndex;e--){var t=this._indexToMetadataMap[e];if(!t.deleted)return t.edgeID}},e.prototype._getEdgeAtIndex=function(e){var t=this._indexToMetadataMap[e];return t&&!t.deleted?t:null},e.prototype.containsEdgeWithID=function(e){var t=this._getIndexForID(e);return void 0===t?!1:!!this._getEdgeAtIndex(t)},e.prototype.containsEdgeWithCursor=function(e){var t=this._getIndexForCursor(e);return void 0===t?!1:!!this._getEdgeAtIndex(t)},e.prototype.getMetadataAfterCursor=function(e,t){if(!this.getLength())return{edgeIDs:[],cursors:[]};var r=this._minIndex;if(t){var n=this._getIndexForCursor(t);if(void 0===n)return console.warn("This segment does not have a cursor %s",t),{edgeIDs:[],cursors:[]};r=n+1}for(var i=0,o=[],a=[];r<=this._maxIndex&&e>i;){var s=this._indexToMetadataMap[r];s.deleted||(o.push(s.edgeID),a.push(s.cursor),i++),r++}return{edgeIDs:o,cursors:a}},e.prototype.getMetadataBeforeCursor=function(e,t){if(!this.getLength())return{edgeIDs:[],cursors:[]};var r=this._maxIndex;if(t){var n=this._getIndexForCursor(t);if(void 0===n)return console.warn("This segment does not have a cursor %s",t),{edgeIDs:[],cursors:[]};r=n-1}for(var i=0,o=[],a=[];r>=this._minIndex&&e>i;){var s=this._indexToMetadataMap[r];s.deleted||(o.push(s.edgeID),a.push(s.cursor),i++),r--}return{edgeIDs:o.reverse(),cursors:a.reverse()}},e.prototype._addEdgeAtIndex=function(e,t){var r=s.getDataID(e),n=e.cursor,i=this._getIndexForID(r);if(void 0!==i&&this._getEdgeAtIndex(i))return void console.warn("Attempted to add an ID already in GraphQLSegment: %s",r);if(0===this.getLength())this._minIndex=t,this._maxIndex=t;else if(this._minIndex==t+1)this._minIndex=t;else{if(this._maxIndex!=t-1)return void console.warn("Attempted to add noncontiguous index to GraphQLSegment: "+t+" to "+("("+this._minIndex+", "+this._maxIndex+")"));this._maxIndex=t}this._indexToMetadataMap[t]={edgeID:r,cursor:n,deleted:!1},this._idToIndicesMap[r]=this._idToIndicesMap[r]||[],this._idToIndicesMap[r].unshift(t),this._count++,n&&(this._cursorToIndexMap[n]=t)},e.prototype.prependEdge=function(e){this._addEdgeAtIndex(e,null!==this._minIndex?this._minIndex-1:0)},e.prototype.appendEdge=function(e){this._addEdgeAtIndex(e,null!==this._maxIndex?this._maxIndex+1:0)},e.prototype.removeEdge=function(e){var t=this._getIndexForID(e);if(void 0===t)return void console.warn("Attempted to remove edge with ID that was never in GraphQLSegment: "+e);var r=this._indexToMetadataMap[t];return r.deleted?void console.warn("Attempted to remove edge with ID that was already removed: "+e):(r.deleted=!0,void this._count--)},e.prototype.removeAllEdges=function(e){var t=this._idToIndicesMap[e];if(t)for(var r=0;r<t.length;r++){var n=this._indexToMetadataMap[t[r]];n.deleted||(n.deleted=!0,this._count--)}},e.prototype.addEdgesAfterCursor=function(e,t){if(e.length){var r=-1;if(t&&(r=this._getIndexForCursor(t),void 0===r))return void console.warn("This segment does not have a cursor %s",t);for(;null!==this._maxIndex&&r<this._maxIndex;){var n=this._indexToMetadataMap[r+1];if(!n.deleted)return void console.warn("Attempted to do an overwrite to GraphQLSegment: last index is "+this._maxIndex+" trying to add edges before "+r);r++}for(var i=r+1,o=0;o<e.length;o++){var a=e[o];this._addEdgeAtIndex(a,i+o)}}},e.prototype.addEdgesBeforeCursor=function(e,t){if(e.length){var r=1;if(t&&(r=this._getIndexForCursor(t),void 0===r))return void console.warn("This segment does not have a cursor %s",t);for(;null!==this._minIndex&&r>this._minIndex;){var n=this._indexToMetadataMap[r-1];if(!n.deleted)return void console.warn("Attempted to do an overwrite to GraphQLSegment: first index is "+this._minIndex+" trying to add edges after "+r);r--}for(var i=r-1,o=0;o<e.length;o++){var a=e[e.length-o-1];this._addEdgeAtIndex(a,i-o)}}},e.prototype.getLength=function(){return null===this._minIndex&&null===this._maxIndex?0:this._maxIndex-this._minIndex+1},e.prototype.getCount=function(){return this._count},e.prototype._rollback=function(e,t,r){o(this._cursorToIndexMap,e),o(this._idToIndicesMap,t),this._count=r.count,this._maxIndex=r.maxIndex,this._minIndex=r.minIndex},e.prototype._getCounterState=function(){return{count:this._count,maxIndex:this._maxIndex,minIndex:this._minIndex}},e.prototype.concatSegment=function(e){if(!e.getLength())return!0;for(var t={},r={},n=this._getCounterState(),i=e._indexToMetadataMap,a=e._minIndex;a<=e._maxIndex;a++){var s;this.getLength()?s=this._maxIndex+1:(s=0,this._minIndex=0),this._maxIndex=s;var u=i[a],c=this._getIndexForID(u.edgeID);if(t.hasOwnProperty(u.edgeID)||(this._idToIndicesMap[u.edgeID]?t[u.edgeID]=this._idToIndicesMap[u.edgeID].slice():t[u.edgeID]=void 0),void 0!==c){var l=this._indexToMetadataMap[c];if(l.deleted&&!u.deleted)this._idToIndicesMap[u.edgeID].unshift(s);else{if(!u.deleted)return console.warn("Attempt to concat an ID already in GraphQLSegment: %s",u.edgeID),this._rollback(r,t,n),!1;this._idToIndicesMap[u.edgeID]=this._idToIndicesMap[u.edgeID]||[],this._idToIndicesMap[u.edgeID].push(s)}}else this._idToIndicesMap[u.edgeID]=this._idToIndicesMap[u.edgeID]||[],this._idToIndicesMap[u.edgeID].unshift(s);var h=this._getIndexForCursor(u.cursor);if(void 0!==h){var p=this._indexToMetadataMap[h];if(p.deleted&&!u.deleted)r[u.cursor]=this._cursorToIndexMap[u.cursor],this._cursorToIndexMap[u.cursor]=s;else if(!u.deleted)return console.warn("Attempt to concat a cursor already in GraphQLSegment: %s",u.cursor),
this._rollback(r,t,n),!1}else u.cursor&&(r[u.cursor]=this._cursorToIndexMap[u.cursor],this._cursorToIndexMap[u.cursor]=s);u.deleted||this._count++,this._indexToMetadataMap[s]=o({},u)}return!0},e.prototype.toJSON=function(){return[this._indexToMetadataMap,this._idToIndicesMap,this._cursorToIndexMap,this._minIndex,this._maxIndex,this._count]},e.fromJSON=function(t){var r=i(t,6),n=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=new e;return l._indexToMetadataMap=n,l._idToIndicesMap=o,l._cursorToIndexMap=a,l._minIndex=s,l._maxIndex=u,l._count=c,l},e.prototype.__debug=function(){return{metadata:this._indexToMetadataMap,idToIndices:this._idToIndicesMap,cursorToIndex:this._cursorToIndexMap}},e.prototype.getEdgeIDs=function(){return a(this._idToIndicesMap)},e}();e.exports=u},function(e,t,r){"use strict";var n=r(3)["default"];Object.defineProperty(t,"__esModule",{value:!0});var i=r(156),o=r(70),a=function(){function e(t){n(this,e),this._batchUpdate=function(e){return e()},this._executingIDs={},this._rangeData=t,this._scheduledIDs=null,this._subscribers=[]}return e.prototype.addListenerForIDs=function(e,t){var r=this,n=e.map(function(e){return r._getBroadcastID(e)}),i=this._subscribers.length;return this._subscribers.push({subscribedIDs:n,callback:t}),{remove:function(){delete r._subscribers[i]}}},e.prototype.broadcastChangeForID=function(e){var t=this,r=this._scheduledIDs;null==r&&(o(function(){return t._processBroadcasts()}),r=this._scheduledIDs={}),r[this._getBroadcastID(e)]=this._subscribers.length-1},e.prototype.injectBatchingStrategy=function(e){this._batchUpdate=e},e.prototype._processBroadcasts=function(){var e=this;this._scheduledIDs&&(this._executingIDs=this._scheduledIDs,this._scheduledIDs=null,this._batchUpdate(function(){return e._processSubscribers()}))},e.prototype._processSubscribers=function(){var e=this;this._subscribers.forEach(function(t,r){return e._processSubscriber(t,r)})},e.prototype._processSubscriber=function(e,t){var r=e.subscribedIDs,n=e.callback;for(var o in this._executingIDs)if(this._executingIDs.hasOwnProperty(o)){var a=this._executingIDs[o];if(t>a)break;if(r.indexOf(o)>=0){i.applyWithGuard(n,null,null,null,"GraphQLStoreChangeEmitter");break}}},e.prototype._getBroadcastID=function(e){return this._rangeData.getCanonicalClientID(e)},e}();e.exports=a},function(e,t,r){"use strict";var n=r(3)["default"],i=r(150),o=r(107),a=function(){function e(){n(this,e),this._rangeData={},this._rangeDataKeyMap={}}return e.prototype.getClientIDForRangeWithID=function(e,t,r){var n=i(e,t).map(function(e){return o(e).substring(1)}).join(","),a=r+"_"+n,s=this._rangeData[a];if(!s){this._rangeData[a]={dataID:r,calls:e,callValues:t};var u=this._rangeDataKeyMap[r];u||(this._rangeDataKeyMap[r]=u=[]),u.push(a)}return a},e.prototype.parseRangeClientID=function(e){return this._rangeData[e]||null},e.prototype.getCanonicalClientID=function(e){return this._rangeData[e]?this._rangeData[e].dataID:e},e.prototype.removeRecord=function(e){var t=this,r=this._rangeDataKeyMap[e];r&&(r.forEach(function(e){delete t._rangeData[e]}),delete this._rangeDataKeyMap[e])},e}();e.exports=a},function(e,t,r){"use strict";function n(e,t){function r(e,t,r){var n=_[e];n?void 0:R(!1);var i=u(l,e,n,A),o=x.get(t.name);return F&&(r=F(r,o)),S.Fragment.create(i,o,r)}var n=e.displayName||e.name,l="Relay("+n+")",_=t.fragments,w=f(_),A=t.initialVariables||{},F=t.prepareVariables,j=function(n){function a(e,t){p(this,a),n.call(this,e,t);var r=t.relay,i=t.route;O(r)?void 0:R(!1),i&&"string"==typeof i.name?void 0:R(!1);var o=this;o.forceFetch=this.forceFetch.bind(this),o.getPendingTransactions=this.getPendingTransactions.bind(this),o.hasFragmentData=this.hasFragmentData.bind(this),o.hasOptimisticUpdate=this.hasOptimisticUpdate.bind(this),o.hasPartialData=this.hasPartialData.bind(this),o.setVariables=this.setVariables.bind(this),this._didShowFakeDataWarning=!1,this._fragmentPointers={},this._hasStaleQueryData=!1,this._fragmentResolvers={},this.mounted=!0,this.pending=null,this.state={variables:{},queryData:{}}}return h(a,n),a.prototype.setVariables=function(e,t){this._runVariables(e,t,!1)},a.prototype.forceFetch=function(e,t){this._runVariables(e,t,!0)},a.prototype._createQuerySetAndFragmentPointers=function(e){var t=this,n={},i={},o=this.context.relay.getStoreData();return w.forEach(function(a){var s=r(a,t.context.route,e),u=t.state.queryData[a];if(s&&null!=u){var c;if(s.isPlural()){Array.isArray(u)?void 0:R(!1);var l=[];u.forEach(function(e,t){var r=C.getDataID(e);r&&(i[a+t]=o.buildFragmentQueryForDataID(s,r),l.push(r))}),l.length&&(c=new v(l,s))}else{var h=C.getDataID(u);h&&(c=new v(h,s),i[a]=o.buildFragmentQueryForDataID(s,h))}n[a]=c}}),{fragmentPointers:n,querySet:i}},a.prototype._runVariables=function(e,t,r){var n=this,i=this.state.variables,o=this.pending?this.pending.variables:i,a=s(o,e);this.pending&&this.pending.request.abort();var u=E.profile("RelayContainer.setVariables",{containerName:l,nextVariables:a}),c={},h=null;if(r||!N(a,i)){var p=this._createQuerySetAndFragmentPointers(a);c=p.querySet,h=p.fragmentPointers}var f=m.guard(function(e){var r=e.aborted,i=e.done,o=e.error,s=e.ready,c=r||i||o;c&&n.pending===v&&(n.pending=null);var l;if(s&&h){n._fragmentPointers=h,n._updateFragmentResolvers(n.context.relay);var p=n._getQueryData(n.props);l={variables:a,queryData:p}}else l={};var f=n.mounted;if(f){var m=E.profile("RelayContainer.update");I(function(){n.setState(l,function(){m.stop(),c&&u.stop()}),t&&t.call(n.refs.component||null,d({},e,{mounted:f}))})}else t&&t(d({},e,{mounted:f})),c&&u.stop()},"RelayContainer.onReadyStateChange"),v={variables:a,request:r?this.context.relay.forceFetch(c,f):this.context.relay.primeCache(c,f)};this.pending=v},a.prototype.hasOptimisticUpdate=function(e){var t=C.getDataID(e);return null==t?R(!1):void 0,this.context.relay.getStoreData().hasOptimisticUpdate(t)},a.prototype.getPendingTransactions=function(e){var t=C.getDataID(e);null==t?R(!1):void 0;var r=this.context.relay.getStoreData(),n=r.getClientMutationIDs(t);if(!n)return null;var i=r.getMutationQueue();return n.map(function(e){return i.getTransaction(e)})},a.prototype.hasFragmentData=function(e,t){var r=this.context.relay.getStoreData();if(!r.getPendingQueryTracker().hasPendingQueries())return!0;var n=C.getDataID(t);null==n?R(!1):void 0;var i=c(e,this.context,this.state.variables);return i instanceof S.Fragment?void 0:R(!1),r.getCachedStore().hasDeferredFragmentData(n,i.getCompositeHash())},a.prototype.hasPartialData=function(e){return M.isPartialStatus(e[C.MetadataKey.STATUS])},a.prototype.componentWillMount=function(){var e=this.context,t=e.relay,r=e.route;r.useMockData||this.setState(this._initialize(this.props,t,r,A))},a.prototype.componentWillReceiveProps=function(e,r){var n=this,i=P(r),a=i.relay,s=i.route;s.useMockData||this.setState(function(r){return n.context.relay!==a&&n._cleanup(),n._initialize(e,a,s,o(t,e,r.variables))})},a.prototype.componentWillUnmount=function(){this._cleanup(),this.mounted=!1},a.prototype._initialize=function(e,r,n,o){var a=i(t,e,o);return this._updateFragmentPointers(e,n,a),this._updateFragmentResolvers(r),{variables:a,queryData:this._getQueryData(e)}},a.prototype._cleanup=function(){this._fragmentResolvers&&T(this._fragmentResolvers,function(e){return e&&e.dispose()}),this._fragmentPointers={},this._fragmentResolvers={};var e=this.pending;e&&(e.request.abort(),this.pending=null)},a.prototype._updateFragmentResolvers=function(e){var t=this,r=this._fragmentPointers,n=this._fragmentResolvers;w.forEach(function(i){var o=r[i],a=n[i];o?a||(a=e.getFragmentResolver(o,t._handleFragmentDataUpdate.bind(t)),n[i]=a):a&&(a.dispose(),n[i]=null)})},a.prototype._handleFragmentDataUpdate=function(){if(this.mounted){var e=this._getQueryData(this.props),t=E.profile("RelayContainer.handleFragmentDataUpdate");this.setState({queryData:e},t.stop)}},a.prototype._updateFragmentPointers=function(e,t,n){var i=this._fragmentPointers;w.forEach(function(o){var a=e[o];if(!a)return void(i[o]=null);var s=r(o,t,n),u=s.getConcreteNodeHash(),c=void 0;if(s.isPlural())Array.isArray(a)?void 0:R(!1),c=a.length?a.reduce(function(e,t,r){var n=t[u];return n?void 0:R(!1),e.concat(n.getDataIDs())},[]):null;else{Array.isArray(a)?R(!1):void 0;var l=a[u];c=l?l.getDataID():null}i[o]=c?new v(c,s):null})},a.prototype._getQueryData=function(e){var t=this,r={},n=this._fragmentPointers;return T(this._fragmentResolvers,function(i,o){var a=e[o],s=n[o];a&&s?r[o]=i.resolve(s):(i&&i.dispose(),r[o]=a),t.state.queryData.hasOwnProperty(o)&&r[o]!==t.state.queryData[o]&&(t._hasStaleQueryData=!0)}),r},a.prototype.shouldComponentUpdate=function(e,t,r){if(this._hasStaleQueryData)return this._hasStaleQueryData=!1,!0;if(this.context.relay!==r.relay||this.context.route!==r.route)return!0;var n=this._fragmentPointers;return!y.areNonQueryPropsEqual(_,this.props,e)||n&&!y.areQueryResultsEqual(n,this.state.queryData,t.queryData)||!y.areQueryVariablesEqual(this.state.variables,t.variables)},a.prototype.render=function(){var t={forceFetch:this.forceFetch,getPendingTransactions:this.getPendingTransactions,hasFragmentData:this.hasFragmentData,hasOptimisticUpdate:this.hasOptimisticUpdate,hasPartialData:this.hasPartialData,route:this.context.route,setVariables:this.setVariables,variables:this.state.variables};return g.createElement(e,d({},this.props,this.state.queryData,D(t,this),{ref:k(e)?"component":null}))},a}(g.Component);return a(j),j.contextTypes=L,j.displayName=l,b.proxyMethods(j,e),j}function i(e,t,r){var n=e.initialVariables;if(n){var i;for(var o in n)o in t&&(i=i||d({},r),i[o]=t[o]);r=i||r}return r}function o(e,t,r){var n=e.initialVariables;for(var i in n)if(i in t&&t[i]!=r[i])return n;return r}function a(e){E.instrumentMethods(e.prototype,{componentWillMount:"RelayContainer.prototype.componentWillMount",componentWillReceiveProps:"RelayContainer.prototype.componentWillReceiveProps",shouldComponentUpdate:"RelayContainer.prototype.shouldComponentUpdate"})}function s(e,t){if(t)for(var r in t)if(e[r]!==t[r])return d({},e,t);return e}function u(e,t,r,n){var i=A.Fragment(r,n);return i?void 0:R(!1),i}function c(e,t,r){var n=x.get(t.route.name),i=e.getFragment(r),o=e.getVariables(n,r);return S.Fragment.create(i,n,o,{isDeferred:!0,isContainerFragment:e.isContainerFragment()})}function l(e,t){function r(r,i){return s||(s=n(e,t)),new s(r,i)}var i=e.displayName||e.name,o="Relay("+i+")",a=t.fragments;"object"==typeof a&&a?void 0:R(!1);var s,c=f(a),l=t.initialVariables||{},h=t.prepareVariables;return r.getFragmentNames=function(){return c},r.hasFragment=function(e){return!!a[e]},r.hasVariable=function(e){return Object.prototype.hasOwnProperty.call(l,e)},r.getFragment=function(e,t){var r=a[e];return r||R(!1),"function"!=typeof r?R(!1):void 0,_.createForContainer(function(){return u(o,e,r,l)},l,t,h)},r.contextTypes=L,r.displayName=o,r.moduleName=null,r}var h=r(16)["default"],p=r(3)["default"],d=r(15)["default"],f=r(24)["default"];Object.defineProperty(t,"__esModule",{value:!0});var m=r(156),v=r(67),g=r(4),y=r(452),b=r(453),_=(r(241),r(104)),x=r(54),w=(r(243),r(105)),E=r(13),S=r(12),C=r(21),M=r(147),A=r(149),T=r(28),R=r(5),O=r(252),P=r(159),D=r(497),I=r(255),N=r(160),k=(r(17),r(496)),L={relay:w.Context,route:w.QueryConfig.isRequired};e.exports={create:l}},function(e,t){"use strict";function r(e,t,r,n){var i;for(i in t)if((!n||n.hasOwnProperty(i))&&t.hasOwnProperty(i)&&(!r.hasOwnProperty(i)||!e(t[i],r[i],i)))return!1;for(i in r)if((!n||n.hasOwnProperty(i))&&r.hasOwnProperty(i)&&!t.hasOwnProperty(i))return!1;return!0}function n(e,t){return e===t&&(null===e||"object"!=typeof e)}function i(e,t,r,i){return e[i]&&t===r||n(t,r)}function o(e,t,r,i){return e.hasOwnProperty(i)||n(t,r)}var a={areQueryResultsEqual:function(e,t,n){return r(i.bind(null,e),t,n)},areNonQueryPropsEqual:function(e,t,n){return r(o.bind(null,e),t,n)},areQueryVariablesEqual:function(e,t){return r(n,e,t)}};e.exports=a},function(e,t,r){"use strict";e.exports=r(464)},function(e,t,r){(function(t){"use strict";function n(e){if(e.status>=200&&e.status<300)return e;throw e}function i(e,t){var r=20,n=60,i=e.getQueryString().split("\n");return t.map(function(e,t){var o=e.locations,a=e.message,s=t+1+". ",u=" ".repeat(s.length),c=o?"\n"+o.map(function(e){var t=e.column,o=e.line,a=i[o-1],s=Math.min(t-1,r);return[a.substr(t-1-s,n)," ".repeat(s)+"^^^"].map(function(e){return u+e}).join("\n")}).join("\n"):"";return s+a+c}).join("\n")}var o=r(3)["default"],a=r(15)["default"],s=r(38),u=r(262),c=r(513),l=function(){function e(t,r){o(this,e),this._uri=t,this._init=a({},r);var n=this;n.sendMutation=this.sendMutation.bind(this),n.sendQueries=this.sendQueries.bind(this),n.supports=this.supports.bind(this)}return e.prototype.sendMutation=function(e){return this._sendMutation(e).then(function(e){return e.json()}).then(function(t){if(t.hasOwnProperty("errors")){var r=new Error("Server request for mutation `"+e.getDebugName()+"` failed for the following reasons:\n\n"+i(e,t.errors));r.source=t,e.reject(r)}else e.resolve({response:t.data})})["catch"](function(t){return e.reject(t)})},e.prototype.sendQueries=function(e){var t=this;return s.all(e.map(function(e){return t._sendQuery(e).then(function(e){return e.json()}).then(function(t){if(t.hasOwnProperty("errors")){var r=new Error("Server request for query `"+e.getDebugName()+"` failed for the following reasons:\n\n"+i(e,t.errors));r.source=t,e.reject(r)}else t.hasOwnProperty("data")?e.resolve({response:t.data}):e.reject(new Error("Server response was missing for query `"+e.getDebugName()+"`."))})["catch"](function(t){return e.reject(t)})}))},e.prototype.supports=function(){return!1},e.prototype._sendMutation=function(e){var r,i=e.getFiles();if(i){if(!t.FormData)throw new Error("Uploading files without `FormData` not supported.");var o=new FormData;o.append("query",e.getQueryString()),o.append("variables",JSON.stringify(e.getVariables()));for(var s in i)i.hasOwnProperty(s)&&o.append(s,i[s]);r=a({},this._init,{body:o,method:"POST"})}else r=a({},this._init,{body:JSON.stringify({query:e.getQueryString(),variables:e.getVariables()}),headers:a({},this._init.headers,{Accept:"*/*","Content-Type":"application/json"}),method:"POST"});return u(this._uri,r).then(n)},e.prototype._sendQuery=function(e){return c(this._uri,a({},this._init,{body:JSON.stringify({query:e.getQueryString(),variables:e.getVariables()}),headers:a({},this._init.headers,{Accept:"*/*","Content-Type":"application/json"}),method:"POST"}))},e}();e.exports=l}).call(t,function(){return this}())},function(e,t,r){"use strict";var n=r(3)["default"],i=(r(240),r(13)),o=(r(12),r(81)),a=r(21),s=r(489),u=r(28),c=r(83),l=r(5),h=r(516),p={readFragment:function(e,t,r,n,i,o,a,s,u,c){var l=new d(n,i,o,a,s,u,c);return l.readFragment(e,t,r),{abort:function(){l.abort()}}},readQueries:function(e,t,r,n,i,o,a,s){var u=new d(t,r,n,i,o,a,s);return u.read(e),{abort:function(){u.abort()}}}},d=function(){function e(t,r,i,o,a,s,u){n(this,e),this._store=t,this._cachedRecords=r,this._cachedRootCallMap=i,this._cacheManager=a,this._callbacks=u,this._changeTracker=s,this._garbageCollector=o,this._pendingNodes={},this._pendingRoots={},this._state="PENDING"}return e.prototype.abort=function(){"LOADING"!==this._state?l(!1):void 0,this._state="COMPLETED"},e.prototype.read=function(e){var t=this;"PENDING"!==this._state?l(!1):void 0,this._state="LOADING",u(e,function(e){"COMPLETED"!==t._state&&e&&!function(){var r=e.getStorageKey();c(e,function(n){"COMPLETED"!==t._state&&(n=n||"",t.visitRoot(r,n,e))})}()}),this._isDone()&&this._handleSuccess()},e.prototype.readFragment=function(e,t,r){"PENDING"!==this._state?l(!1):void 0,this._state="LOADING",this.visitNode(e,{node:t,path:r,rangeCalls:void 0}),this._isDone()&&this._handleSuccess()},e.prototype.visitRoot=function(e,t,r){var n=this._store.getDataID(e,t);null==n?this._cachedRootCallMap.hasOwnProperty(e)&&this._cachedRootCallMap[e].hasOwnProperty(t)?this._handleFailed():this.queueRoot(e,t,r):this.visitNode(n,{node:r,path:new o(r),rangeCalls:void 0})},e.prototype.queueRoot=function(e,t,r){var n=this,i=e+"*"+t;this._pendingRoots.hasOwnProperty(i)?this._pendingRoots[i].push(r):(this._pendingRoots[i]=[r],this._cacheManager.readRootCall(e,t,function(r,a){if("COMPLETED"!==n._state){if(r)return void n._handleFailed();var s=n._pendingRoots[i];delete n._pendingRoots[i],n._cachedRootCallMap[e]=n._cachedRootCallMap[e]||{},n._cachedRootCallMap[e][t]=a,null==n._cachedRootCallMap[e][t]?n._handleFailed():!function(){var e=a;s.forEach(function(t){"COMPLETED"!==n._state&&n.visitNode(e,{node:t,path:new o(t),rangeCalls:void 0})})}(),n._isDone()&&n._handleSuccess()}}))},e.prototype.visitNode=function(e,t){var r=this,n=s(this._store,this._cachedRecords,t.node,e,t.path,t.rangeCalls),i=n.missingData,o=n.pendingNodes;return i?void this._handleFailed():void u(o,function(e,t){r.queueNode(t,e)})},e.prototype.queueNode=function(e,t){var r=this;if(this._pendingNodes.hasOwnProperty(e)){var n;(n=this._pendingNodes[e]).push.apply(n,t)}else this._pendingNodes[e]=t,this._cacheManager.readNode(e,function(n,i){if("COMPLETED"!==r._state){if(n)return void r._handleFailed();i&&a.isClientID(e)&&(i.__path__=t[0].path);var o=r._store.getRecordState(e);"UNKNOWN"===o&&void 0!==i?(r._garbageCollector&&r._garbageCollector.register(e),r._changeTracker.createID(e)):"EXISTENT"===o&&null!=i&&r._changeTracker.updateID(e),r._cachedRecords[e]=i;var s=r._pendingNodes[e];delete r._pendingNodes[e],void 0===r._cachedRecords[e]?r._handleFailed():s.forEach(function(t){"COMPLETED"!==r._state&&r.visitNode(e,t)}),r._isDone()&&r._handleSuccess()}})},e.prototype._isDone=function(){return h(this._pendingRoots)&&h(this._pendingNodes)&&"LOADING"===this._state},e.prototype._handleFailed=function(){"COMPLETED"===this._state?l(!1):void 0,this._state="COMPLETED",this._callbacks.onFailure&&this._callbacks.onFailure()},e.prototype._handleSuccess=function(){"COMPLETED"===this._state?l(!1):void 0,this._state="COMPLETED",this._callbacks.onSuccess&&this._callbacks.onSuccess()},e}();i.instrumentMethods(d.prototype,{read:"RelayCacheReader.read",readFragment:"RelayCacheReader.readFragment",visitRoot:"RelayCacheReader.visitRoot",queueRoot:"RelayCacheReader.queueRoot",visitNode:"RelayCacheReader.visitNode",queueNode:"RelayCacheReader.queueNode"}),e.exports=p},function(e,t,r){"use strict";var n=r(3)["default"];Object.defineProperty(t,"__esModule",{value:!0});var i=r(145),o=r(81),a=r(21),s=r(28),u=r(5),c=r(70),l=(r(17),function(){function e(t,r){n(this,e),this._activeHoldCount=0,this._collectionQueue=[],this._isCollecting=!1,this._isScheduled=!1,this._refCounts={},this._scheduler=r,this._storeData=t}return e.prototype.register=function(e){this._refCounts.hasOwnProperty(e)||(this._refCounts[e]=0)},e.prototype.incrementReferenceCount=function(e){this._refCounts.hasOwnProperty(e)||(this._refCounts[e]=0),this._refCounts[e]++},e.prototype.decrementReferenceCount=function(e){return!this._refCounts.hasOwnProperty(e)||this._refCounts[e]<=0?void(this._refCounts[e]=0):void this._refCounts[e]--},e.prototype.acquireHold=function(){var e=this,t=!1;return this._activeHoldCount++,{release:function(){t?u(!1):void 0,e._activeHoldCount>0?void 0:u(!1),t=!0,e._activeHoldCount--,0===e._activeHoldCount&&e._scheduleCollection()}}},e.prototype.collectFromNode=function(e){0===this._refCounts[e]&&(this._collectionQueue.push(e),this._scheduleCollection())},e.prototype.collect=function(){var e=this;s(this._refCounts,function(t,r){0===t&&e._collectionQueue.push(r)}),this._scheduleCollection()},e.prototype._scheduleCollection=function(){var e=this;this._isScheduled||(this._isScheduled=!0,c(function(){e._isScheduled=!1,e._processQueue()}))},e.prototype._processQueue=function(){var e=this;if(!this._isCollecting&&!this._activeHoldCount&&this._collectionQueue.length){this._isCollecting=!0;var t=this._storeData.getCachedData(),r=this._storeData.getNodeData();this._scheduler(function(){if(e._activeHoldCount)return e._isCollecting=!1,!1;var n=e._getNextUnreferencedID();if(n){var i=t[n];i&&e._traverseRecord(i);var o=r[n];o&&e._traverseRecord(o),e._collectRecord(n)}return e._isCollecting=!!e._collectionQueue.length,e._isCollecting})}},e.prototype._getNextUnreferencedID=function(){for(;this._collectionQueue.length;){var e=this._collectionQueue.shift();if(this._refCounts.hasOwnProperty(e)&&0===this._refCounts[e])return e}return null},e.prototype._traverseRecord=function(e){var t=this;s(e,function(e,r){if(!(e instanceof o))if(e instanceof i)e.getEdgeIDs().forEach(function(e){null!=e&&t._collectionQueue.push(e)});else if(Array.isArray(e))e.forEach(function(e){if("object"==typeof e&&null!==e){var r=a.getDataID(e);null!=r&&t._collectionQueue.push(r)}});else if("object"==typeof e&&null!==e){var n=a.getDataID(e);null!=n&&t._collectionQueue.push(n)}})},e.prototype._collectRecord=function(e){this._storeData.getQueryTracker().untrackNodesForID(e),this._storeData.getQueuedStore().removeRecord(e),this._storeData.getRangeData().removeRecord(e),delete this._refCounts[e]},e}());e.exports=l},function(e,t,r){"use strict";var n=r(80),i=r(106),o=r(151),a=r(153),s={NetworkLayer:n,DefaultStoreData:i.getStoreData(),flattenRelayQuery:o,printRelayQuery:a};e.exports=s},function(e,t,r){"use strict";function n(e,t,r,n){var i=l.Fragment(r,n);return i?void 0:p(!1),i}var i=r(3)["default"],o=r(15)["default"];r(24)["default"];Object.defineProperty(t,"__esModule",{value:!0});var a=r(104),s=r(54),u=r(12),c=r(106),l=r(149),h=r(28),p=r(5),d=(r(17),function(){function e(t){i(this,e),this._didShowFakeDataWarning=!1,this._resolveProps(t)}return e.prototype.getMutation=function(){p(!1)},e.prototype.getFatQuery=function(){p(!1)},e.prototype.getConfigs=function(){p(!1)},e.prototype.getVariables=function(){p(!1)},e.prototype.getFiles=function(){return null},e.prototype.getOptimisticResponse=function(){return null},e.prototype.getOptimisticConfigs=function(){return null},e.prototype.getCollisionKey=function(){return null},e.prototype._resolveProps=function(e){var t=this,r=this.constructor.fragments,i=this.constructor.initialVariables||{},a=o({},e);h(r,function(r,o){var l=e[o];if(l){var h=u.Fragment.create(n(t.constructor.name,o,r,i),s.get("$RelayMutation_"+t.constructor.name),i),d=h.getConcreteNodeHash();if(h.isPlural()){Array.isArray(l)?void 0:p(!1);var f=l.reduce(function(e,t,r){var n=t[d];return n?void 0:p(!1),e.concat(n.getDataIDs())},[]);a[o]=c.readAll(h,f)}else{Array.isArray(l)?p(!1):void 0;var m=l[d];if(m){var v=m.getDataID();a[o]=c.read(h,v)}}}}),this.props=a},e.getFragment=function(e,t){var r=this,i=this.fragments,o=i[e];o||p(!1);var s=this.initialVariables||{},u=this.prepareVariables;return a.createForContainer(function(){return n(r.name,e,o,s)},s,t,u)},e}());e.exports=d},function(e,t,r){"use strict";function n(e,t){var r=e.getFieldByStorageKey(t);return r?void 0:x(!1),r}function i(e,t){var r=f.Fragment.build("MutationQuery",e.getType(),t);return r?(r instanceof f.Fragment?void 0:x(!1),r):null}function o(e){for(var t=f.Field.build({fieldName:S,type:"String"}),r=e.length-1;r>=0;r--)t=f.Field.build({fieldName:e[r],type:E,children:[t],metadata:{canHaveSubselections:!0}});return t}function a(e,t,r){var n=[f.Field.build({fieldName:"cursor",type:"String"}),f.Field.build({fieldName:C,type:"String"})];l.EDGES_HAVE_SOURCE_FIELD&&!m.isClientID(e)&&n.push(f.Field.build({children:[f.Field.build({fieldName:S,type:"String"}),f.Field.build({fieldName:C,type:"String"})],fieldName:"source",metadata:{canHaveSubselections:!0},type:E})),n.push.apply(n,r);var i=v(f.Field.build({children:n,fieldName:t,metadata:{canHaveSubselections:!0},type:E}));return i instanceof f.Field?void 0:x(!1),i}function s(e){var t=void 0;return g(e,function(e,r){if(""!==r){var n=r.slice(0,-1).split(/\)\./),i=n.sort().join(").")+(n.length?")":"");i!==r&&(t=t||[],t.push(r))}}),t&&x(!1),e}function u(e,t){function r(i){return i instanceof f.Field&&i.getSchemaName()===t?void n.push(i):void((i===e||i instanceof f.Fragment)&&i.getChildren().forEach(function(e){return r(e)}))}var n=[];return r(e),n}var c=r(69)["default"],l=r(20),h=r(54),p=r(245),d=r(27),f=r(12),m=r(21),v=r(151),g=r(28),y=r(159),b=r(494),_=r(495),x=r(5),w=l.CLIENT_MUTATION_ID,E=d.ANY_TYPE,S=d.ID,C=d.TYPENAME,M={buildFragmentForFields:function(e){var t=e.fatQuery,r=e.fieldIDs,o=e.tracker,a=[];return g(r,function(e,r){var i=n(t,r),s=[].concat(e),u=[];s.forEach(function(e){u.push.apply(u,c(o.getTrackedChildrenForID(e)))});var l=i.clone(u);if(l){var h=_(l,i);h&&a.push(h)}}),i(t,a)},buildFragmentForEdgeDeletion:function(e){var t=e.fatQuery,r=e.connectionName,o=e.parentID,a=e.parentName,s=e.tracker,u=n(t,a),c=[],l=u.clone(s.getTrackedChildrenForID(o));if(l){var h=function(e){return e.getSchemaName()===r},p=_(l,u,h);p&&c.push(p)}return i(t,c)},buildFragmentForEdgeInsertion:function(e){var t=e.fatQuery,r=e.connectionName,o=e.parentID,s=e.edgeName,l=e.parentName,h=e.rangeBehaviors,p=e.tracker,d=p.getTrackedChildrenForID(o),f=[],m=[];if(d.forEach(function(e){m.push.apply(m,c(u(e,r)))}),m.length){var v={},g=[];if(m.forEach(function(e){var t=u(e,"edges");t.length&&(e.getRangeBehaviorKey()in h?t.forEach(function(e){g.push.apply(g,c(e.getChildren()))}):v[e.getShallowHash()]=!0)}),g.length&&f.push(a(o,s,g)),null!=l){var y=n(t,l),b=y.clone(d);if(b){var x=function(e){return!v.hasOwnProperty(e.getShallowHash())},w=_(b,y,x);w&&f.push(w)}}}return i(t,f)},buildFragmentForOptimisticUpdate:function(e){var t=e.response,r=e.fatQuery,n=b(t);return i(r,n)},buildQueryForOptimisticUpdate:function(e){var t=e.fatQuery,r=e.mutation,n=e.response,i=e.tracker,o=[y(M.buildFragmentForOptimisticUpdate({response:n,fatQuery:t,tracker:i}))];return f.Mutation.build("OptimisticQuery",t.getType(),r.calls[0].name,null,o,r.metadata)},buildQuery:function(e){var t=e.configs,r=e.fatQuery,n=e.input,i=e.mutationName,a=e.mutation,u=e.tracker;return function(){var e=[f.Field.build({fieldName:w,type:"String",metadata:{isRequisite:!0}})];return t.forEach(function(t){switch(t.type){case p.REQUIRED_CHILDREN:e=e.concat(t.children.map(function(e){return f.Fragment.create(e,h.get("$buildQuery"),{})}));break;case p.RANGE_ADD:e.push(M.buildFragmentForEdgeInsertion({connectionName:t.connectionName,edgeName:t.edgeName,fatQuery:r,parentID:t.parentID,parentName:t.parentName,rangeBehaviors:s(t.rangeBehaviors),tracker:u}));break;case p.RANGE_DELETE:case p.NODE_DELETE:e.push(M.buildFragmentForEdgeDeletion({connectionName:t.connectionName,fatQuery:r,parentID:t.parentID,parentName:t.parentName,tracker:u})),e.push(Array.isArray(t.deletedIDFieldName)?o(t.deletedIDFieldName):f.Field.build({fieldName:t.deletedIDFieldName,type:"String"}));break;case p.FIELDS_CHANGE:e.push(M.buildFragmentForFields({fatQuery:r,fieldIDs:t.fieldIDs,tracker:u}));break;default:x(!1)}}),f.Mutation.build(i,r.getType(),a.calls[0].name,n,e.filter(function(e){return null!=e}),a.metadata)}()}};e.exports=M},function(e,t,r){"use strict";var n=r(3)["default"],i=r(15)["default"],o=r(108)["default"],a=r(156),s=r(45),u=r(20),c=r(459),l=r(461),h=r(243),p=r(244),d=r(80),f=r(12),m=r(157),v=r(151),g=r(491),y=r(5),b=r(159),_=r(70),x=u.CLIENT_MUTATION_ID,w=0,E=function(){function e(t){n(this,e),this._collisionQueueMap={},this._pendingTransactionMap={},this._queue=[],this._storeData=t,this._willBatchRefreshQueuedData=!1}return e.prototype.createTransaction=function(e,t){var r=m(w++),n=new h(this,r),i=new S({id:r,mutation:e,mutationTransaction:n,onFailure:t&&t.onFailure,onSuccess:t&&t.onSuccess});return this._pendingTransactionMap[r]=i,this._queue.push(i),this._handleOptimisticUpdate(i),n},e.prototype.getTransaction=function(e){return this._get(e).mutationTransaction},e.prototype.getError=function(e){return this._get(e).error},e.prototype.getStatus=function(e){return this._get(e).status},e.prototype.commit=function(e){var t=this._get(e),r=t.getCollisionKey(),n=r&&this._collisionQueueMap[r];return n?(n.push(t),t.status=p.COMMIT_QUEUED,void(t.error=null)):(r&&(this._collisionQueueMap[r]=[t]),void this._handleCommit(t))},e.prototype.rollback=function(e){var t=this._get(e);this._handleRollback(t)},e.prototype._get=function(e){var t=this._pendingTransactionMap[e];return t?void 0:y(!1),t},e.prototype._handleOptimisticUpdate=function(e){var t=e.getOptimisticResponse(),r=e.getOptimisticQuery(this._storeData);if(t&&r){var n=e.getOptimisticConfigs()||e.getConfigs();this._storeData.handleUpdatePayload(r,t,{configs:n,isOptimisticUpdate:!0})}},e.prototype._handleCommitFailure=function(e,t){var r=t?p.COMMIT_FAILED:p.COLLISION_COMMIT_FAILED;e.status=r,e.error=t;var n=!0,i=e.onFailure;if(i){var o=function(){n=!1};a.applyWithGuard(i,null,[e.mutationTransaction,o],null,"RelayMutationTransaction:onCommitFailure")}t&&this._failCollisionQueue(e),n&&this._pendingTransactionMap.hasOwnProperty(e.id)&&this._handleRollback(e),this._batchRefreshQueuedData()},e.prototype._handleCommitSuccess=function(e,t){this._advanceCollisionQueue(e),this._clearPendingTransaction(e),this._refreshQueuedData(),this._storeData.handleUpdatePayload(e.getQuery(this._storeData),t[e.getCallName()],{configs:e.getConfigs(),isOptimisticUpdate:!1});var r=e.onSuccess;r&&a.applyWithGuard(r,null,[t],null,"RelayMutationTransaction:onCommitSuccess")},e.prototype._handleCommit=function(e){var t=this;e.status=p.COMMITTING,e.error=null;var r=new l(e.getQuery(this._storeData),e.getFiles());d.sendMutation(r),r.getPromise().done(function(r){return t._handleCommitSuccess(e,r.response)},function(r){return t._handleCommitFailure(e,r)})},e.prototype._handleRollback=function(e){this._clearPendingTransaction(e),this._batchRefreshQueuedData()},e.prototype._clearPendingTransaction=function(e){delete this._pendingTransactionMap[e.id],this._queue=this._queue.filter(function(t){return t!==e})},e.prototype._advanceCollisionQueue=function(e){var t=e.getCollisionKey();if(t){var r=b(this._collisionQueueMap[t]);r.shift(),r.length?this._handleCommit(r[0]):delete this._collisionQueueMap[t]}},e.prototype._failCollisionQueue=function(e){var t=this,r=e.getCollisionKey();if(r){var n=b(this._collisionQueueMap[r]);n.shift(),n.forEach(function(e){return t._handleCommitFailure(e,null)}),delete this._collisionQueueMap[r]}},e.prototype._batchRefreshQueuedData=function(){var e=this;this._willBatchRefreshQueuedData||(this._willBatchRefreshQueuedData=!0,_(function(){e._willBatchRefreshQueuedData=!1,e._refreshQueuedData()}))},e.prototype._refreshQueuedData=function(){var e=this;this._storeData.clearQueuedData(),this._queue.forEach(function(t){return e._handleOptimisticUpdate(t)})},e}(),S=function(){function e(t){n(this,e),this.error=null,this.id=t.id,this.mutation=t.mutation,this.mutationTransaction=t.mutationTransaction,this.onFailure=t.onFailure,this.onSuccess=t.onSuccess,this.status=p.UNCOMMITTED}return e.prototype.getCallName=function(){return this._callName||(this._callName=this.getMutationNode().calls[0].name),this._callName},e.prototype.getCollisionKey=function(){return void 0===this._collisionKey&&(this._collisionKey=this.mutation.getCollisionKey()||null),this._collisionKey},e.prototype.getConfigs=function(){return this._configs||(this._configs=this.mutation.getConfigs()),this._configs},e.prototype.getFatQuery=function(){if(!this._fatQuery){var e=g.Fragment(this.mutation.getFatQuery());e instanceof f.Fragment?void 0:y(!1),this._fatQuery=b(v(e,{preserveEmptyNodes:e.isPattern(),shouldRemoveFragments:!0}))}return this._fatQuery},e.prototype.getFiles=function(){return void 0===this._files&&(this._files=this.mutation.getFiles()||null),this._files},e.prototype.getInputVariable=function(){if(!this._inputVariable){var e=i({},this.mutation.getVariables(),o({},x,this.id));this._inputVariable=e}return this._inputVariable},e.prototype.getMutationNode=function(){if(!this._mutationNode){var e=s.getMutation(this.mutation.getMutation());e?void 0:y(!1),this._mutationNode=e}return this._mutationNode},e.prototype.getOptimisticConfigs=function(){return void 0===this._optimisticConfigs&&(this._optimisticConfigs=this.mutation.getOptimisticConfigs()||null),this._optimisticConfigs},e.prototype.getOptimisticQuery=function(e){
if(void 0===this._optimisticQuery){var t=this.getOptimisticResponse();if(t){var r=this.getOptimisticConfigs();r?this._optimisticQuery=c.buildQuery({configs:r,fatQuery:this.getFatQuery(),input:this.getInputVariable(),mutationName:this.mutation.constructor.name,mutation:this.getMutationNode(),tracker:e.getQueryTracker()}):this._optimisticQuery=c.buildQueryForOptimisticUpdate({response:t,fatQuery:this.getFatQuery(),mutation:this.getMutationNode(),tracker:e.getQueryTracker()})}else this._optimisticQuery=null}return this._optimisticQuery},e.prototype.getOptimisticResponse=function(){if(void 0===this._optimisticResponse){var e=this.mutation.getOptimisticResponse()||null;e&&(e[x]=this.id),this._optimisticResponse=e}return this._optimisticResponse},e.prototype.getQuery=function(e){return this._query||(this._query=c.buildQuery({configs:this.getConfigs(),fatQuery:this.getFatQuery(),input:this.getInputVariable(),mutationName:this.getMutationNode().name,mutation:this.getMutationNode(),tracker:e.getQueryTracker()})),this._query},e}();e.exports=E},function(e,t,r){"use strict";var n=r(16)["default"],i=r(3)["default"],o=r(109),a=r(153),s=function(e){function t(r,n){i(this,t),e.call(this),this._mutation=r,this._printedQuery=null,this._files=n}return n(t,e),t.prototype.getDebugName=function(){return this._mutation.getName()},t.prototype.getFiles=function(){return this._files},t.prototype.getVariables=function(){var e=this._printedQuery;return e||(e=a(this._mutation),this._printedQuery=e),e.variables},t.prototype.getQueryString=function(){var e=this._printedQuery;return e||(e=a(this._mutation),this._printedQuery=e),e.text},t.prototype.getMutation=function(){return this._mutation},t}(o);e.exports=s},function(e,t,r){"use strict";var n=r(21),i={},o={},a={},s={},u={isClientOnlyID:function(e){return n.isClientID(e)&&!i[e]},updateClientServerIDMap:function(e,t){i[e]=t},getServerIDForClientID:function(e){return i[e]||null},putClientIDForMutation:function(e,t){o[t]=e;var r=u.getErrorNodeForMutation(t);r&&(u.deleteMutationForErrorNode(r),u.putErrorNodeForMutation(e,t))},getClientIDForMutation:function(e){return o[e]},deleteClientIDForMutation:function(e){delete o[e]},putErrorNodeForMutation:function(e,t){s[e]=t,a[t]=e},getMutationForErrorNode:function(e){return s[e]},getErrorNodeForMutation:function(e){return a[e]},deleteMutationForErrorNode:function(e){delete s[e]},deleteErrorNodeForMutation:function(e){delete a[e]}};e.exports=u},function(e,t){"use strict";var r={after:!0,before:!0,find:!0,first:!0,last:!0,surrounds:!0},n={find:!0,first:!0,last:!0},i={CLIENT_MUTATION_ID:"clientMutationId",CURSOR:"cursor",EDGES:"edges",END_CURSOR:"endCursor",HAS_NEXT_PAGE:"hasNextPage",HAS_PREV_PAGE:"hasPreviousPage",NODE:"node",PAGE_INFO:"pageInfo",START_CURSOR:"startCursor",EDGES_HAVE_SOURCE_FIELD:!1,isConnectionCall:function(e){return r.hasOwnProperty(e.name)},hasRangeCalls:function(e){return e.some(function(e){return n.hasOwnProperty(e.name)})},getDefaultPageInfo:function(){var e={};return e[i.START_CURSOR]=void 0,e[i.END_CURSOR]=void 0,e[i.HAS_NEXT_PAGE]=!1,e[i.HAS_PREV_PAGE]=!1,e}};e.exports=i},function(e,t){"use strict";var r={proxyMethods:function(e,t){}};e.exports=r},function(e,t,r){"use strict";function n(e,t){var r=e.getFieldName(),n=e.getIdentifyingArg(),i=n&&n.value||null,o=t[r];return e.getBatchCall()||(Array.isArray(i)?(Array.isArray(o)?void 0:a(!1),o.length!==i.length?a(!1):void 0):Array.isArray(o)&&a(!1)),Array.isArray(o)?o:[o]}var i=r(83),o=r(152),a=r(5),s={ANY_TYPE:"__any",ID:"id",ID_TYPE:"ID!",NODE:"node",NODE_TYPE:"Node",NODES:"nodes",TYPENAME:"__typename",isNodeRootCall:function(e){return e===s.NODE||e===s.NODES},getResultsFromPayload:function(e,t,r){var u=[],c=t.getBatchCall();if(c)n(t,r).forEach(function(e){if("object"==typeof e&&e){var t=e[s.ID];null==t?a(!1):void 0,u.push({dataID:t,result:e})}});else{var l,h;!function(){l=n(t,r),h=0;var a=t.getStorageKey();i(t,function(t){var r=l[h++],n=e.getDataID(a,t);if(null==n){var i="object"==typeof r&&r?r[s.ID]:null;n=null!=i?i:o()}u.push({dataID:n,result:r,rootCallInfo:{storageKey:a,identifyingArgValue:t}})})}()}return u}};e.exports=s},function(e,t,r){"use strict";function n(e){return!!o(e).length}var i=r(3)["default"],o=r(24)["default"];Object.defineProperty(t,"__esModule",{value:!0});var a=r(38),s=r(109),u=r(512),c=r(242),l=r(148),h=r(484),p=r(261),d=r(488),f=r(5),m=r(503),v=function(){function e(t){i(this,e),this._pendingFetchMap={},this._preloadQueryMap=new u,this._storeData=t}return e.prototype.add=function(e){return new g(e,{pendingFetchMap:this._pendingFetchMap,preloadQueryMap:this._preloadQueryMap,storeData:this._storeData})},e.prototype.hasPendingQueries=function(){return n(this._pendingFetchMap)},e.prototype.resetPending=function(){this._pendingFetchMap={}},e.prototype.resolvePreloadQuery=function(e,t){this._preloadQueryMap.resolveKey(e,t)},e.prototype.rejectPreloadQuery=function(e,t){this._preloadQueryMap.rejectKey(e,t)},e}(),g=function(){function e(t,r){var n=t.fetchMode,o=t.forceIndex,u=t.query,l=r.pendingFetchMap,h=r.preloadQueryMap,p=r.storeData;return function(){i(this,e);var t=u.getID();this._dependents=[],this._forceIndex=o,this._pendingDependencyMap={},this._pendingFetchMap=l,this._preloadQueryMap=h,this._query=u,this._resolvedDeferred=new s,this._resolvedSubtractedQuery=!1,this._storeData=p;var r;n===c.PRELOAD?(r=u,this._fetchSubtractedQueryPromise=this._preloadQueryMap.get(t)):(r=this._subtractPending(u),this._fetchSubtractedQueryPromise=r?d(r):a.resolve()),this._fetchedSubtractedQuery=!r,this._errors=[],r?(this._pendingFetchMap[t]={fetch:this,query:r},this._fetchSubtractedQueryPromise.done(this._handleSubtractedQuerySuccess.bind(this,r),this._handleSubtractedQueryFailure.bind(this,r))):this._markSubtractedQueryAsResolved()}.apply(this,arguments)}return e.prototype.isResolvable=function(){return this._fetchedSubtractedQuery?p(this._pendingDependencyMap,function(e){return e._fetchedSubtractedQuery}):!1},e.prototype.getQuery=function(){return this._query},e.prototype.getResolvedPromise=function(){return this._resolvedDeferred.getPromise()},e.prototype._subtractPending=function(e){var t=this;return p(this._pendingFetchMap,function(r){if(!e)return!1;if(h(r.query,e)){var n=m(e,r.query);n!==e&&(e=n,t._addPendingDependency(r.fetch))}return!0}),e},e.prototype._addPendingDependency=function(e){var t=e.getQuery().getID();this._pendingDependencyMap[t]=e,e._addDependent(this)},e.prototype._addDependent=function(e){this._dependents.push(e)},e.prototype._handleSubtractedQuerySuccess=function(e,t){var r=this;this._fetchedSubtractedQuery=!0,l.enqueue(function(){var n=t.response;n&&"object"==typeof n?void 0:f(!1),r._storeData.handleQueryPayload(e,n,r._forceIndex)}).done(this._markSubtractedQueryAsResolved.bind(this),this._markAsRejected.bind(this))},e.prototype._handleSubtractedQueryFailure=function(e,t){this._markAsRejected(t)},e.prototype._markSubtractedQueryAsResolved=function(){var e=this.getQuery().getID();delete this._pendingFetchMap[e],this._resolvedSubtractedQuery=!0,this._updateResolvedDeferred(),this._dependents.forEach(function(t){return t._markDependencyAsResolved(e)})},e.prototype._markAsRejected=function(e){var t=this.getQuery().getID();delete this._pendingFetchMap[t],console.warn(e.message),this._errors.push(e),this._updateResolvedDeferred(),this._dependents.forEach(function(r){return r._markDependencyAsRejected(t,e)})},e.prototype._markDependencyAsResolved=function(e){delete this._pendingDependencyMap[e],this._updateResolvedDeferred()},e.prototype._markDependencyAsRejected=function(e,t){delete this._pendingDependencyMap[e],this._errors.push(t),this._updateResolvedDeferred()},e.prototype._updateResolvedDeferred=function(){this._isSettled()&&!this._resolvedDeferred.isSettled()&&(this._errors.length?this._resolvedDeferred.reject(this._errors[0]):this._resolvedDeferred.resolve(void 0))},e.prototype._isSettled=function(){return this._errors.length>0||this._resolvedSubtractedQuery&&!n(this._pendingDependencyMap)},e}();t.PendingFetch=g,e.exports=v},function(e,t,r){(function(t){"use strict";var n=r(451),i=r(458),o=r(80),a=r(105),s=r(468),u=r(479),c=r(480),l=r(106),h=r(148),p=r(457),d=r(485),f=r(250),m=r(251);"undefined"!=typeof t.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(t.__REACT_DEVTOOLS_GLOBAL_HOOK__._relayInternals=p);var v={Mutation:i,PropTypes:a,QL:s,RootContainer:u,Route:c,Store:l,createContainer:n.create,createQuery:d,getQueries:f,injectNetworkLayer:o.injectNetworkLayer,injectTaskScheduler:h.injectScheduler,isContainer:m};e.exports=v}).call(t,function(){return this}())},function(e,t,r){"use strict";function n(e){c(!1)}function i(e){e instanceof s||a.getFragment(e)||a.getFragmentReference(e)?void 0:c(!1)}var o=r(154)["default"];Object.defineProperty(t,"__esModule",{value:!0});var a=r(45),s=r(104),u=r(246),c=r(5);o(n,{__frag:function(e){return"function"==typeof e?new u(e):(null!=e&&(Array.isArray(e)?e.forEach(i):i(e)),e)},__var:function(e){var t=a.getCallVariable(e);return t&&c(!1),a.createCallValue(e)}}),e.exports=n},function(e,t,r){"use strict";var n=r(3)["default"],i=r(15)["default"];r(68)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),a=function(){function e(t){n(this,e),this.constructor===e?o(!1):void 0,Object.defineProperty(this,"name",{enumerable:!0,value:this.constructor.routeName}),Object.defineProperty(this,"params",{enumerable:!0,value:this.prepareVariables(i({},t))||{}}),Object.defineProperty(this,"queries",{enumerable:!0,value:i({},this.constructor.queries)})}return e.prototype.prepareVariables=function(e){return e},e}();e.exports=a},function(e,t,r){"use strict";var n=r(16)["default"],i=r(3)["default"],o=r(109),a=r(153),s=function(e){function t(r){i(this,t),e.call(this),this._printedQuery=null,this._query=r}return n(t,e),t.prototype.getDebugName=function(){return this._query.getName()},t.prototype.getID=function(){return this._query.getID()},t.prototype.getVariables=function(){var e=this._printedQuery;return e||(e=a(this._query),this._printedQuery=e),e.variables},t.prototype.getQueryString=function(){var e=this._printedQuery;return e||(e=a(this._query),this._printedQuery=e),e.text},t.prototype.getQuery=function(){return this._query},t}(o);e.exports=s},function(e,t,r){"use strict";var n=r(3)["default"],i=(r(67),r(239)),o=r(5),a=function(){function e(t,r){n(this,e),this._data=void 0,this._fragmentPointer=r,this._fragmentResolver=null,this._storeData=t,this._subscriptionCallbacks=[],this._subscriptionCount=0}return e.prototype.subscribe=function(e){var t=this;this._subscriptionCount++;var r=this._subscriptionCallbacks.length,n={dispose:function(){t._subscriptionCallbacks[r]?void 0:o(!1),delete t._subscriptionCallbacks[r],t._subscriptionCount--,0===t._subscriptionCount&&t._unobserve()}};return this._subscriptionCallbacks.push(e),1===this._subscriptionCount&&this._resolveData(this._observe()),this._fire(e),n},e.prototype._observe=function(){var e=this;this._fragmentResolver?o(!1):void 0;var t=new i(this._storeData,this._fragmentPointer,function(){return e._onUpdate(t)});return this._fragmentResolver=t,t},e.prototype._unobserve=function(){this._fragmentResolver&&(this._data=void 0,this._fragmentResolver.dispose(),this._fragmentResolver=null)},e.prototype._onUpdate=function(e){var t=this;this._resolveData(e),this._subscriptionCallbacks.forEach(function(e){return t._fire(e)})},e.prototype._fire=function(e){e.onNext&&e.onNext(this._data)},e.prototype._resolveData=function(e){var t=e.resolve(this._fragmentPointer);Array.isArray(t)?o(!1):void 0,this._data=t},e}();e.exports=a},function(e,t,r){"use strict";var n=r(3)["default"],i=r(69)["default"],o=r(27),a=r(12),s=r(21),u=r(5),c="__type__",l=function(){function e(){n(this,e),this._trackedNodesByID={}}return e.prototype.trackNodeForID=function(e,t,r){(!s.isClientID(t)||(r?void 0:u(!1),r.isRootPath()))&&(e instanceof a.Field&&e.getSchemaName()===c||(this._trackedNodesByID[t]=this._trackedNodesByID[t]||{trackedNodes:[],isMerged:!1},this._trackedNodesByID[t].trackedNodes.push(e),this._trackedNodesByID[t].isMerged=!1))},e.prototype.getTrackedChildrenForID=function(e){var t=this._trackedNodesByID[e];if(!t)return[];var r=t.isMerged,n=t.trackedNodes;r||!function(){var e=[];n.forEach(function(t){e.push.apply(e,i(t.getChildren()))}),n.length=0,t.isMerged=!0;var r=a.Fragment.build("RelayQueryTracker",o.NODE_TYPE,e);r&&n.push(r)}();var s=n[0];return s?s.getChildren():[]},e.prototype.untrackNodesForID=function(e){delete this._trackedNodesByID[e]},e}();e.exports=l},function(e,t,r){"use strict";var n=r(16)["default"],i=r(3)["default"],o=r(15)["default"],a=r(12),s=r(20),u=r(27),c=r(55),l=r(82),h=r(248),p=r(152),d=r(5),f=r(84),m=(r(17),u.ANY_TYPE,u.ID),v=u.TYPENAME,g=s.EDGES,y=s.NODE,b=s.PAGE_INFO,_=function(e){function t(r,n,o,a,s){i(this,t),e.call(this),this._changeTracker=a,this._forceIndex=s&&s.forceIndex?s.forceIndex:0,this._isOptimisticUpdate=!(!s||!s.isOptimisticUpdate),this._store=r,this._queryTracker=o,this._updateTrackedQueries=!(!s||!s.updateTrackedQueries),this._writer=n}return n(t,e),t.prototype.getRecordStore=function(){return this._store},t.prototype.getRecordWriter=function(){return this._writer},t.prototype.getRecordTypeName=function(e,t,r){if(this._isOptimisticUpdate)return null;var n=r[v];return null!=n||e.isAbstract()||(n=e.getType()),n||null},t.prototype.writePayload=function(e,t,r,n){var i=this,o={nodeID:null,path:n,recordID:t,responseData:r};return e instanceof a.Field&&e.canHaveSubselections()?void e.getChildren().forEach(function(e){i.visit(e,o)}):void this.visit(e,o)},t.prototype.recordCreate=function(e){this._changeTracker.createID(e)},t.prototype.recordUpdate=function(e){this._changeTracker.updateID(e)},t.prototype.hasChangeToRecord=function(e){return this._changeTracker.hasChange(e)},t.prototype.isNewRecord=function(e){return this._changeTracker.isNewRecord(e)},t.prototype.createRecordIfMissing=function(e,t,r,n){var i=this._store.getRecordState(t);this._writer.putRecord(t,r,n),i!==l.EXISTENT&&this.recordCreate(t),(this.isNewRecord(t)||this._updateTrackedQueries)&&this._queryTracker.trackNodeForID(e,t,n)},t.prototype.visitRoot=function(e,t){var r=t.path,n=t.recordID,i=t.responseData,o=this._store.getRecordState(n);if(null==i)return void 0===i?d(!1):void 0,this._writer.deleteRecord(n),void(o===l.EXISTENT&&this.recordUpdate(n));"object"!=typeof i||null===i?d(!1):void 0;var a=this.getRecordTypeName(e,n,i);this.createRecordIfMissing(e,n,a,r),this.traverse(e,t)},t.prototype.visitFragment=function(e,t){var r=t.recordID;if(e.isDeferred()&&(this._writer.setHasDeferredFragmentData(r,e.getCompositeHash()),this.recordUpdate(r)),this._isOptimisticUpdate||f(e,this._store.getType(r))){var n=t.path.getPath(e,r);this.traverse(e,o({},t,{path:n}))}},t.prototype.visitField=function(e,t){var r=t.recordID,n=t.responseData;this._writer.getRecordState(r)!==l.EXISTENT?d(!1):void 0,"object"!=typeof n||null===n?d(!1):void 0;var i=n[e.getSerializationKey()];return void 0!==i?null===i?(this._writer.deleteField(r,e.getStorageKey()),void this.recordUpdate(r)):void(e.canHaveSubselections()?e.isConnection()?this._writeConnection(e,t,r,i):e.isPlural()?this._writePluralLink(e,t,r,i):this._writeLink(e,t,r,i):this._writeScalar(e,t,r,i)):void 0},t.prototype._writeScalar=function(e,t,r,n){var i=e.getStorageKey(),o=this._store.getField(r,i);this._writer.putField(r,i,n),Array.isArray(o)&&Array.isArray(n)&&o.length===n.length&&o.every(function(e,t){return e===n[t]})||o!==n&&this.recordUpdate(r)},t.prototype._writeConnection=function(e,t,r,n){var i=e.getStorageKey(),o=this._store.getLinkedRecordID(r,i)||p(),a=this._store.getRecordState(o),s=!!(e.getFieldByStorageKey(g)||null!=n&&"object"==typeof n&&n[g]),u=t.path.getPath(e,o);this._writer.putRecord(o,null,u),this._writer.putLinkedRecordID(r,i,o),a!==l.EXISTENT&&(this.recordUpdate(r),this.recordCreate(o)),(this.isNewRecord(o)||this._updateTrackedQueries)&&this._queryTracker.trackNodeForID(e,o,u),s&&(!this._store.hasRange(o)||this._forceIndex&&this._forceIndex>this._store.getRangeForceIndex(o))&&(this._writer.putRange(o,e.getCallsWithValues(),this._forceIndex),this.recordUpdate(o));var c={nodeID:null,path:u,recordID:o,responseData:n};this._traverseConnection(e,e,c)},t.prototype._traverseConnection=function(e,t,r){var n=this;t.getChildren().forEach(function(t){t instanceof a.Field?t.getSchemaName()===g?n._writeEdges(e,t,r):t.getSchemaName()!==b&&n.visit(t,r):n._traverseConnection(e,t,r)})},t.prototype._writeEdges=function(e,t,r){var n=this,i=r.recordID,o=r.responseData;"object"!=typeof o||null===o?d(!1):void 0;var a=o[g];if(null!=a){Array.isArray(a)?void 0:d(!1);var u=e.getCallsWithValues();s.hasRangeCalls(u)?void 0:d(!1);var c=this._store.getRangeMetadata(i,u);c?void 0:d(!1);var l=[],f=c.filteredEdges,v=!1,_=0;a.forEach(function(e){if(null!=e){"object"==typeof e&&e?void 0:d(!1);var o=e[y];if(null!=o){"object"!=typeof o?d(!1):void 0;var a=f[_++],s=o&&o[m]||a&&n._store.getLinkedRecordID(a.edgeID,y)||p(),u=h(i,s),c=r.path.getPath(t,u);n.createRecordIfMissing(t,u,null,c),l.push(u),n.traverse(t,{nodeID:s,path:c,recordID:u,responseData:e}),v=v||n.hasChangeToRecord(u)}}});var x=o[b]||s.getDefaultPageInfo();this._writer.putRangeEdges(i,u,x,l),v&&this.recordUpdate(i)}},t.prototype._writePluralLink=function(e,t,r,n){var i=this,o=e.getStorageKey();Array.isArray(n)?void 0:d(!1);var a=this._store.getLinkedRecordIDs(r,o),s=[],u=!a,c=0;n.forEach(function(r){if(null!=r){"object"==typeof r&&r?void 0:d(!1);var n=a&&a[c],o=r[m]||n||p();s.push(o);var l=t.path.getPath(e,o),h=i.getRecordTypeName(e,o,r);i.createRecordIfMissing(e,o,h,l),u=u||o!==n||i.isNewRecord(o),i.traverse(e,{nodeID:null,path:l,recordID:o,responseData:r}),u=u||i.hasChangeToRecord(o),c++}}),this._writer.putLinkedRecordIDs(r,o,s),u=u||!a||a.length!==s.length,u&&this.recordUpdate(r)},t.prototype._writeLink=function(e,t,r,n){var i=t.nodeID,o=e.getStorageKey();"object"!=typeof n||null===n?d(!1):void 0;var a=this._store.getLinkedRecordID(r,o),s=e.getSchemaName()===y&&i||n[m]||a||p(),u=t.path.getPath(e,s),c=this.getRecordTypeName(e,s,n);this.createRecordIfMissing(e,s,c,u),this._writer.putLinkedRecordID(r,o,s),(a!==s||this.isNewRecord(s))&&this.recordUpdate(r),this.traverse(e,{nodeID:null,path:u,recordID:s,responseData:n})},t}(c);e.exports=_},function(e,t,r){"use strict";var n=r(3)["default"],i=r(15)["default"],o=r(70),a=(r(17),function(){function e(t){n(this,e),this._onReadyStateChange=t,this._readyState={aborted:!1,done:!1,error:null,ready:!1,stale:!1},this._scheduled=!1}return e.prototype.update=function(e){var t=this,r=this._readyState;if(!r.aborted){if(r.done||r.error)return void!e.aborted;this._readyState=i({},r,e),this._scheduled||(this._scheduled=!0,o(function(){t._scheduled=!1,t._onReadyStateChange(t._readyState)}))}},e}());e.exports=a},function(e,t,r){"use strict";function n(e){return e.filter(function(e){return!s.isConnectionCall(e)})}function i(e){return e.split(/(?![_A-Za-z][_0-9A-Za-z]*)/,1)[0]}var o=r(3)["default"],a=r(24)["default"];Object.defineProperty(t,"__esModule",{value:!0});var s=(r(145),r(20)),u=r(27),c=r(28),l=r(5),h=(r(17),s.NODE),p="",d="__filterCalls__",f="__forceIndex__",m="__range__",v="__resolvedFragmentMap__",g="__path__",y=function(){function e(t,r,n){o(this,e),this._cachedRecords=t.cachedRecords,this._cachedRootCallMap=r&&r.cachedRootCallMap||{},this._queuedRecords=t.queuedRecords,this._nodeConnectionMap=n||{},this._records=t.records,this._rootCallMap=r&&r.rootCallMap||{},this._storage=[],this._queuedRecords&&this._storage.push(this._queuedRecords),this._records&&this._storage.push(this._records),this._cachedRecords&&this._storage.push(this._cachedRecords)}return e.prototype.getDataID=function(e,t){return u.isNodeRootCall(e)?(null==t?l(!1):void 0,t):(null==t&&(t=p),this._rootCallMap.hasOwnProperty(e)&&this._rootCallMap[e].hasOwnProperty(t)?this._rootCallMap[e][t]:this._cachedRootCallMap.hasOwnProperty(e)?this._cachedRootCallMap[e][t]:void 0)},e.prototype.getRecordState=function(e){var t=this._getRecord(e);return null===t?"NONEXISTENT":void 0===t?"UNKNOWN":"EXISTENT"},e.prototype.getPathToRecord=function(e){var t=this._getField(e,g);return t},e.prototype.hasOptimisticUpdate=function(e){return this._queuedRecords?void 0:l(!1),this._queuedRecords.hasOwnProperty(e)},e.prototype.getClientMutationIDs=function(e){this._queuedRecords?void 0:l(!1);var t=this._queuedRecords[e];return t?t.__mutationIDs__:null},e.prototype.hasDeferredFragmentData=function(e,t){var r=this._getField(e,v);return"object"!=typeof r&&null!=r?l(!1):void 0,!(!r||!r[t])},e.prototype.getType=function(e){return this._getField(e,"__typename")},e.prototype.getField=function(e,t){return this._getField(e,t)},e.prototype.getLinkedRecordID=function(e,t){var r=this._getField(e,t);return null==r?r:("object"!=typeof r||null===r||Array.isArray(r)?l(!1):void 0,r.__dataID__)},e.prototype.getLinkedRecordIDs=function(e,t){var r=this._getField(e,t);return null==r?r:(Array.isArray(r)?void 0:l(!1),r.map(function(e,t){return"object"==typeof e&&e.__dataID__?void 0:l(!1),e.__dataID__}))},e.prototype.getConnectionIDsForRecord=function(e){var t=this._nodeConnectionMap[e];return t?a(t):null},e.prototype.getConnectionIDsForField=function(e,t){var r=this._records[e];if(null==r)return r;var n;return c(r,function(e,r){if(e&&i(r)===t){var o=e.__dataID__;o&&(n=n||[],n.push(o))}}),n},e.prototype.getRangeForceIndex=function(e){var t=this._getField(e,f);return null===t?-1:t||0},e.prototype.getRangeFilterCalls=function(e){return this._getField(e,d)},e.prototype.getRangeMetadata=function(e,t){var r=this;if(null==e)return e;var i=this._getField(e,m);if(null!=i){var o=n(t);if(t.length===o.length)return{diffCalls:t,filterCalls:o,pageInfo:void 0,requestedEdgeIDs:[],filteredEdges:[]};var a=this._queuedRecords?this._queuedRecords[e]:null,s=i.retrieveRangeInfoForQuery(t,a),u=s.diffCalls,c=s.pageInfo,l=s.requestedEdgeIDs;u=u&&u.length?o.concat(u):[];var p;return p=l?l.map(function(e){return{edgeID:e,nodeID:r.getLinkedRecordID(e,h)}}).filter(function(e){return r._getRecord(e.nodeID)}):[],{diffCalls:u,filterCalls:o,pageInfo:c,requestedEdgeIDs:l,filteredEdges:p}}},e.prototype.hasRange=function(e){return!!this._getField(e,m)},e.prototype.removeRecord=function(e){delete this._records[e],this._queuedRecords&&delete this._queuedRecords[e],this._cachedRecords&&delete this._cachedRecords[e],delete this._nodeConnectionMap[e]},e.prototype._getRecord=function(e){return this._queuedRecords&&this._queuedRecords.hasOwnProperty(e)?this._queuedRecords[e]:this._records.hasOwnProperty(e)?this._records[e]:this._cachedRecords?this._cachedRecords[e]:void 0},e.prototype._getField=function(e,t){for(var r=this._storage,n=0;n<r.length;n++){var i=r[n][e];if(null===i)return null;if(i&&i.hasOwnProperty(t))return i[t]}},e}();e.exports=y},function(e,t,r){"use strict";function n(e){return e.filter(function(e){return!u.isConnectionCall(e)})}var i=r(3)["default"],o=r(24)["default"],a=r(103),s=r(145),u=r(20),c=r(27),l=r(21),h=r(147),p=r(5),d=r(253),f=u.CURSOR,m=u.NODE,v="",g="__filterCalls__",y="__forceIndex__",b="__range__",_="__resolvedFragmentMap__",x="__resolvedFragmentMapGeneration__",w="__path__",E=a.APPEND,S=a.PREPEND,C=a.REMOVE,M=function(){function e(t,r,n,o,a,s){i(this,e),this._cacheWriter=a,this._clientMutationID=s,this._isOptimisticWrite=n,this._nodeConnectionMap=o||{},this._records=t,this._rootCallMap=r}return e.prototype.getDataID=function(e,t){return c.isNodeRootCall(e)?(null==t?p(!1):void 0,t):(null==t&&(t=v),this._rootCallMap.hasOwnProperty(e)&&this._rootCallMap[e].hasOwnProperty(t)?this._rootCallMap[e][t]:void 0)},e.prototype.putDataID=function(e,t,r){return c.isNodeRootCall(e)?void(null==t?p(!1):void 0):(null==t&&(t=v),this._rootCallMap[e]=this._rootCallMap[e]||{},this._rootCallMap[e][t]=r,void(this._cacheWriter&&this._cacheWriter.writeRootCall(e,t,r)))},e.prototype.getRecordState=function(e){var t=this._records[e];return null===t?"NONEXISTENT":void 0===t?"UNKNOWN":"EXISTENT"},e.prototype.putRecord=function(e,t,r){var n=this._getRecordForWrite(e);if(!n){var i=l.createWithFields(e,{__typename:t});this._isOptimisticWrite&&this._setClientMutationID(i),l.isClientID(e)&&(r?void 0:p(!1),i[w]=r),this._records[e]=i;var o=this._cacheWriter;!this._isOptimisticWrite&&o&&o.writeField(e,"__dataID__",e,t)}},e.prototype.getPathToRecord=function(e){return this._getField(e,w)},e.prototype.hasDeferredFragmentData=function(e,t){var r=this._getField(e,_);return"object"!=typeof r&&null!=r?p(!1):void 0,!(!r||!r[t])},e.prototype.setHasDeferredFragmentData=function(e,t){var r=this._getRecordForWrite(e);r?void 0:p(!1);var n=r[_];"object"==typeof n&&n||(n={}),n[t]=!0,r[_]=n,"number"==typeof r[x]?r[x]++:r[x]=0},e.prototype.deleteRecord=function(e){this._records[e]=null,this._isOptimisticWrite||(delete this._nodeConnectionMap[e],this._cacheWriter&&this._cacheWriter.writeNode(e,null))},e.prototype.getType=function(e){return this._getField(e,"__typename")},e.prototype.getField=function(e,t){return this._getField(e,t)},e.prototype.putField=function(e,t,r){var n=this._getRecordForWrite(e);if(n?void 0:p(!1),n[t]=r,!this._isOptimisticWrite&&this._cacheWriter){var i=n.__typename;this._cacheWriter.writeField(e,t,r,i)}},e.prototype.deleteField=function(e,t){var r=this._getRecordForWrite(e);r?void 0:p(!1),r[t]=null,!this._isOptimisticWrite&&this._cacheWriter&&this._cacheWriter.writeField(e,t,null)},e.prototype.getLinkedRecordID=function(e,t){var r=this._getField(e,t);return null==r?r:("object"!=typeof r||null===r||Array.isArray(r)?p(!1):void 0,r.__dataID__)},e.prototype.putLinkedRecordID=function(e,t,r){var n=this._getRecordForWrite(e);n?void 0:p(!1);var i=this._records[r];i?void 0:p(!1);var o=l.create(r);n[t]=o,!this._isOptimisticWrite&&this._cacheWriter&&this._cacheWriter.writeField(e,t,o)},e.prototype.getLinkedRecordIDs=function(e,t){var r=this._getField(e,t);return null==r?r:(Array.isArray(r)?void 0:p(!1),r.map(function(e,t){return"object"==typeof e&&e.__dataID__?void 0:p(!1),e.__dataID__}))},e.prototype.putLinkedRecordIDs=function(e,t,r){var n=this,i=this._getRecordForWrite(e);i?void 0:p(!1);var o=r.map(function(e){var t=n._records[e];return t?void 0:p(!1),l.create(e)});i[t]=o,!this._isOptimisticWrite&&this._cacheWriter&&this._cacheWriter.writeField(e,t,o)},e.prototype.getRangeForceIndex=function(e){var t=this._getField(e,y);return null===t?-1:t||0},e.prototype.getRangeFilterCalls=function(e){return this._getField(e,g)},e.prototype.putRange=function(e,t,r){this._isOptimisticWrite?p(!1):void 0;var i=this._getRecordForWrite(e);i?void 0:p(!1);var o=new s,a=n(t);r=r||0,i.__filterCalls__=a,i.__forceIndex__=r,i.__range__=o;var u=this._cacheWriter;!this._isOptimisticWrite&&u&&(u.writeField(e,g,a),u.writeField(e,y,r),u.writeField(e,b,o))},e.prototype.hasRange=function(e){return!!this._getField(e,b)},e.prototype.putRangeEdges=function(e,t,r,n){var i=this,o=this._getField(e,b);o?void 0:p(!1);var a=[];n.forEach(function(t){var r=i._getRangeEdgeData(t);a.push(r),i._addConnectionForNode(e,r.node.__dataID__)}),o.addItems(t,a,r),!this._isOptimisticWrite&&this._cacheWriter&&this._cacheWriter.writeField(e,b,o)},e.prototype.applyRangeUpdate=function(e,t,r){this._isOptimisticWrite?this._applyOptimisticRangeUpdate(e,t,r):this._applyServerRangeUpdate(e,t,r)},e.prototype._getRangeEdgeData=function(e){var t=this.getLinkedRecordID(e,m);return t?void 0:p(!1),l.createWithFields(e,{cursor:this.getField(e,f),node:l.create(t)})},e.prototype._applyOptimisticRangeUpdate=function(e,t,r){var n=this._getRecordForWrite(e);n||(n=l.create(e),this._records[e]=n),this._setClientMutationID(n);var i=d[r],o=n[i];o||(o=[],n[i]=o),r===S?o.unshift(t):o.push(t)},e.prototype._applyServerRangeUpdate=function(e,t,r){var n=this._getField(e,b);if(n?void 0:p(!1),r===C){n.removeEdgeWithID(t);var i=this.getLinkedRecordID(t,"node");i&&this._removeConnectionForNode(e,i)}else{var o=this._getRangeEdgeData(t);this._addConnectionForNode(e,o.node.__dataID__),r===E?n.appendEdge(this._getRangeEdgeData(t)):n.prependEdge(this._getRangeEdgeData(t))}this._cacheWriter&&this._cacheWriter.writeField(e,b,n)},e.prototype._addConnectionForNode=function(e,t){var r=this._nodeConnectionMap[t];r||(r={},this._nodeConnectionMap[t]=r),r[e]=!0},e.prototype._removeConnectionForNode=function(e,t){var r=this._nodeConnectionMap[t];r&&(delete r[e],0===o(r).length&&delete this._nodeConnectionMap[t])},e.prototype._getRecordForWrite=function(e){var t=this._records[e];return t?(this._isOptimisticWrite&&this._setClientMutationID(t),t):t},e.prototype._getField=function(e,t){var r=this._records[e];return null===r?null:r&&r.hasOwnProperty(t)?r[t]:void 0},e.prototype._setClientMutationID=function(e){var t=this._clientMutationID;t?void 0:p(!1);var r=e.__mutationIDs__||[];-1===r.indexOf(t)&&(r.push(t),e.__mutationIDs__=r),e.__status__=h.setOptimisticStatus(0,!0)},e}();e.exports=M},function(e,t,r){"use strict";var n=r(3)["default"];Object.defineProperty(t,"__esModule",{value:!0});var i=function o(e,t){n(this,o),this.node=e,this.nodePath=t};e.exports=i},function(e,t,r){"use strict";function n(e){return e?s.createForRoot(l.getStoreData().getQueuedStore(),e):null}var i=r(16)["default"],o=r(3)["default"],a=r(15)["default"];Object.defineProperty(t,"__esModule",{value:!0});var s=r(67),u=r(4),c=r(105),l=r(106),h=r(275),p=r(250),d=r(5),f=r(111),m=u.PropTypes,v=function(e){function t(r,n){o(this,t),e.call(this,r,n);var i=l.getStoreData().getGarbageCollector();this.gcHold=i&&i.acquireHold(),this.mounted=!0,this.state=this._runQueries(this.props)}return i(t,e),t.prototype.getChildContext=function(){return{relay:l,route:this.props.queryConfig}},t.prototype._runQueries=function(e){var t=this,r=e.Container,i=e.forceFetch,o=e.queryConfig,s=p(r,o),u=function(e){if(!t.mounted)return void t._handleReadyStateChange(a({},e,{mounted:!1}));var i=t.state,u=i.pendingRequest,l=i.renderArgs.props;c===u&&((e.aborted||e.done||e.error)&&(u=null),e.ready&&!l&&(l=a({},o.params,f(s,n))),t.setState({activeContainer:r,activeQueryConfig:o,pendingRequest:u,readyState:a({},e,{mounted:!0}),renderArgs:{done:e.done,error:e.error,props:l,retry:t.state.renderArgs.retry,stale:e.stale}}))},c=i?e.onForceFetch?e.onForceFetch(s,u):l.forceFetch(s,u):e.onPrimeCache?e.onPrimeCache(s,u):l.primeCache(s,u);return{activeContainer:this.state?this.state.activeContainer:null,activeQueryConfig:this.state?this.state.activeQueryConfig:null,pendingRequest:c,readyState:null,renderArgs:{done:!1,error:null,props:null,retry:this._retry.bind(this),stale:!1}}},t.prototype._shouldUpdate=function(){var e=this.state,t=e.activeContainer,r=e.activeQueryConfig,n=this.props.Container;return!(t&&n!==t||r&&this.props.queryConfig!==r)},t.prototype._retry=function(){var e=this.state.readyState;e&&e.error?void 0:d(!1),this.setState(this._runQueries(this.props))},t.prototype.componentWillReceiveProps=function(e){(e.Container!==this.props.Container||e.queryConfig!==this.props.queryConfig||e.forceFetch&&!this.props.forceFetch)&&(this.state.pendingRequest&&this.state.pendingRequest.abort(),this.setState(this._runQueries(e)))},t.prototype.componentDidUpdate=function(e,t){var r=this.state.readyState;r&&(t&&r===t.readyState||this._handleReadyStateChange(r))},t.prototype._handleReadyStateChange=function(e){var t=this.props.onReadyStateChange;t&&t(e)},t.prototype.componentWillUnmount=function(){this.state.pendingRequest&&this.state.pendingRequest.abort(),this.gcHold&&this.gcHold.release(),this.gcHold=null,this.mounted=!1},t.prototype.render=function(){var e=void 0,t=this._shouldUpdate();if(t){var r=this.props,n=r.Container,i=r.render,o=this.state.renderArgs;i?e=i(o):o.props&&(e=u.createElement(n,o.props))}return void 0===e&&(e=null,t=!1),u.createElement(h,{shouldUpdate:t},e)},t}(u.Component);v.propTypes={Container:c.Container,forceFetch:m.bool,onReadyStateChange:m.func,queryConfig:c.QueryConfig.isRequired,render:m.func},v.childContextTypes={relay:c.Context,route:c.QueryConfig.isRequired},e.exports=v},function(e,t,r){"use strict";function n(e){var t=e.Component,r=e.forceFetch,n=e.onReadyStateChange,o=e.renderFailure,s=e.renderFetched,u=e.renderLoading,c=e.route;
return i.createElement(a,{Container:t,forceFetch:r,onReadyStateChange:n,queryConfig:c,render:function(e){var r=e.done,n=e.error,a=e.props,c=e.retry,l=e.stale;if(n){if(o)return o(n,c)}else{if(a)return s?s(a,{done:r,stale:l}):i.createElement(t,a);if(u)return u()}}})}var i=r(4),o=r(105),a=r(478),s=i.PropTypes;n.propTypes={Component:o.Container,forceFetch:s.bool,onReadyStateChange:s.func,renderFailure:s.func,renderFetched:s.func,renderLoading:s.func,route:o.QueryConfig.isRequired},n.childContextTypes={route:o.QueryConfig.isRequired},e.exports=n},function(e,t,r){"use strict";var n=r(16)["default"],i=r(3)["default"];Object.defineProperty(t,"__esModule",{value:!0});var o=r(469),a=r(28),s=r(5),u=function(){return null},c=function(e){function t(r,n){i(this,t),e.call(this,r);var o=this.constructor,a=o.routeName,c=o.path;o===t?s(!1):void 0,a?void 0:s(!1),Object.defineProperty(this,"uri",{enumerable:!0,get:function(){return!n&&c&&(n=u(o,this.params)),n}})}return n(t,e),t.prototype.prepareVariables=function(e){var t=this.constructor,r=t.paramDefinitions,n=t.prepareParams,i=(t.routeName,e);return n&&(i=n(i)),a(r,function(e,t){if(i){if(i.hasOwnProperty(t))return;i[t]=void 0}e.required?s(!1):void 0}),i},t.injectURICreator=function(e){u=e},t}(o);e.exports=c},function(e,t,r){"use strict";function n(e){var t=e.cachedRecords,r=e.cachedRootCallMap,n=(e.cacheWriter,e.queuedRecords),i=e.nodeRangeMap,o=e.records,a=e.rootCallMap;return{queuedStore:new x({cachedRecords:t,queuedRecords:n,records:o},{cachedRootCallMap:r,rootCallMap:a},i),cachedStore:new x({cachedRecords:t,records:o},{cachedRootCallMap:r,rootCallMap:a},i),recordStore:new x({records:o},{rootCallMap:a},i)}}var i=r(3)["default"],o=r(24)["default"],a=r(447),s=r(449),u=r(450),c=r(240),l=r(20),h=r(455),p=r(456),d=r(460),f=r(27),m=r(466),v=r(13),g=r(12),y=r(472),b=r(473),_=r(21),x=r(475),w=r(476),E=r(28),S=r(5),C=r(249),M=(r(17),r(505)),A=r(506),T=l.CLIENT_MUTATION_ID,R=f.ID,O=f.ID_TYPE,P=f.NODE,D=f.NODE_TYPE,I=f.TYPENAME,N=g.Field.build({fieldName:R,type:"String"}),k=g.Field.build({fieldName:I,type:"String"}),L=function(){function e(){i(this,e);var t={},r={},o={},c={},l={},h={},p=n({cachedRecords:t,cachedRootCallMap:r,cacheWriter:null,queuedRecords:o,nodeRangeMap:h,records:c,rootCallMap:l}),f=p.cachedStore,v=p.queuedStore,g=p.recordStore,b=new u;this._cacheManager=null,this._cachedRecords=t,this._cachedRootCallMap=r,this._cachedStore=f,this._changeEmitter=new s(b),this._mutationQueue=new d(this),this._nodeRangeMap=h,this._pendingQueryTracker=new m(this),this._queryRunner=new a(this),this._queryTracker=new y,this._queuedRecords=o,this._queuedStore=v,this._records=c,this._recordStore=g,this._rangeData=b,this._rootCallMap=l}return e.prototype.initializeGarbageCollector=function(e){this._garbageCollector?S(!1):void 0;var t=this._isStoreDataEmpty();t&&(this._garbageCollector=new p(this,e))},e.prototype.injectCacheManager=function(e){var t=n({cachedRecords:this._cachedRecords,cachedRootCallMap:this._cachedRootCallMap,cacheWriter:e?e.getQueryWriter():null,queuedRecords:this._queuedRecords,nodeRangeMap:this._nodeRangeMap,records:this._records,rootCallMap:this._rootCallMap}),r=t.cachedStore,i=t.queuedStore,o=t.recordStore;this._cacheManager=e,this._cachedStore=r,this._queuedStore=i,this._recordStore=o},e.prototype.clearCacheManager=function(){var e=n({cachedRecords:this._cachedRecords,cachedRootCallMap:this._cachedRootCallMap,cacheWriter:null,queuedRecords:this._queuedRecords,nodeRangeMap:this._nodeRangeMap,records:this._records,rootCallMap:this._rootCallMap}),t=e.cachedStore,r=e.queuedStore,i=e.recordStore;this._cacheManager=null,this._cachedStore=t,this._queuedStore=r,this._recordStore=i},e.prototype.hasCacheManager=function(){return!!this._cacheManager},e.prototype.hasOptimisticUpdate=function(e){return e=this.getRangeData().getCanonicalClientID(e),this.getQueuedStore().hasOptimisticUpdate(e)},e.prototype.getClientMutationIDs=function(e){return e=this.getRangeData().getCanonicalClientID(e),this.getQueuedStore().getClientMutationIDs(e)},e.prototype.readFromDiskCache=function(e,t){var r=this,n=this._cacheManager;n?void 0:S(!1);var i=new c,o=v.profile("RelayStoreData.readFromDiskCache");h.readQueries(e,this._queuedStore,this._cachedRecords,this._cachedRootCallMap,this._garbageCollector,n,i,{onSuccess:function(){r._handleChangedAndNewDataIDs(i.getChangeSet()),o.stop(),t.onSuccess&&t.onSuccess()},onFailure:function(){r._handleChangedAndNewDataIDs(i.getChangeSet()),o.stop(),t.onFailure&&t.onFailure()}})},e.prototype.readFragmentFromDiskCache=function(e,t,r,n){var i=this,o=this._cacheManager;o?void 0:S(!1);var a=new c,s=v.profile("RelayStoreData.readFragmentFromDiskCache");h.readFragment(e,t,r,this._queuedStore,this._cachedRecords,this._cachedRootCallMap,this._garbageCollector,o,a,{onSuccess:function(){i._handleChangedAndNewDataIDs(a.getChangeSet()),s.stop(),n.onSuccess&&n.onSuccess()},onFailure:function(){i._handleChangedAndNewDataIDs(a.getChangeSet()),s.stop(),n.onFailure&&n.onFailure()}})},e.prototype.handleQueryPayload=function(e,t,r){var n=v.profile("RelayStoreData.handleQueryPayload"),i=new c,o=new b(this._recordStore,this.getRecordWriter(),this._queryTracker,i,{forceIndex:r,updateTrackedQueries:!0});M(o,e,t),this._handleChangedAndNewDataIDs(i.getChangeSet()),n.stop()},e.prototype.handleUpdatePayload=function(e,t,r){var n,i,o=r.configs,a=r.isOptimisticUpdate,s=v.profile("RelayStoreData.handleUpdatePayload"),u=new c;if(a){var l=t[T];"string"!=typeof l?S(!1):void 0,n=this.getRecordStoreForOptimisticMutation(l),i=this.getRecordWriterForOptimisticMutation(l)}else n=this._getRecordStoreForMutation(),i=this._getRecordWriterForMutation();var h=new b(n,i,this._queryTracker,u,{forceIndex:C(),isOptimisticUpdate:a,updateTrackedQueries:!1});A(h,e,t,{configs:o,isOptimisticUpdate:a}),this._handleChangedAndNewDataIDs(u.getChangeSet()),s.stop()},e.prototype.buildFragmentQueryForDataID=function(e,t){if(_.isClientID(t)){var r=this._queuedStore.getPathToRecord(this._rangeData.getCanonicalClientID(t));return r?void 0:S(!1),r.getQuery(e)}return g.Root.build(e.getDebugName()||"UnknownQuery",P,t,[N,k,e],{identifyingArgName:R,identifyingArgType:O,isAbstract:!0,isDeferred:!1,isPlural:!1},D)},e.prototype.getNodeData=function(){return this._records},e.prototype.getQueuedData=function(){return this._queuedRecords},e.prototype.clearQueuedData=function(){var e=this;E(this._queuedRecords,function(t,r){delete e._queuedRecords[r],e._changeEmitter.broadcastChangeForID(r)})},e.prototype.getCachedData=function(){return this._cachedRecords},e.prototype.getGarbageCollector=function(){return this._garbageCollector},e.prototype.getMutationQueue=function(){return this._mutationQueue},e.prototype.getCachedStore=function(){return this._cachedStore},e.prototype.getQueuedStore=function(){return this._queuedStore},e.prototype.getRecordStore=function(){return this._recordStore},e.prototype.getRecordWriter=function(){return new w(this._records,this._rootCallMap,!1,this._nodeRangeMap,this._cacheManager?this._cacheManager.getQueryWriter():null)},e.prototype.getQueryTracker=function(){return this._queryTracker},e.prototype.getQueryRunner=function(){return this._queryRunner},e.prototype.getChangeEmitter=function(){return this._changeEmitter},e.prototype.getRangeData=function(){return this._rangeData},e.prototype.getPendingQueryTracker=function(){return this._pendingQueryTracker},e.prototype.getRootCallData=function(){return this._rootCallMap},e.prototype._isStoreDataEmpty=function(){return 0===o(this._records).length&&0===o(this._queuedRecords).length&&0===o(this._cachedRecords).length},e.prototype._handleChangedAndNewDataIDs=function(e){var t=this,r=o(e.updated);if(r.forEach(function(e){return t._changeEmitter.broadcastChangeForID(e)}),this._garbageCollector){var n=o(e.created),i=this._garbageCollector;n.forEach(function(e){return i.register(e)})}},e.prototype._getRecordStoreForMutation=function(){var e=this._records,t=this._rootCallMap;return new x({records:e},{rootCallMap:t},this._nodeRangeMap)},e.prototype._getRecordWriterForMutation=function(){return new w(this._records,this._rootCallMap,!1,this._nodeRangeMap,this._cacheManager?this._cacheManager.getMutationWriter():null)},e.prototype.getRecordStoreForOptimisticMutation=function(e){var t=this._cachedRecords,r=this._cachedRootCallMap,n=this._rootCallMap,i=this._queuedRecords,o=this._records;return new x({cachedRecords:t,queuedRecords:i,records:o},{cachedRootCallMap:r,rootCallMap:n},this._nodeRangeMap)},e.prototype.getRecordWriterForOptimisticMutation=function(e){return new w(this._queuedRecords,this._rootCallMap,!0,this._nodeRangeMap,null,e)},e}();v.instrumentMethods(L.prototype,{handleQueryPayload:"RelayStoreData.prototype.handleQueryPayload",handleUpdatePayload:"RelayStoreData.prototype.handleUpdatePayload"}),e.exports=L},function(e,t,r){"use strict";var n=r(3)["default"];Object.defineProperty(t,"__esModule",{value:!0});var i=r(38),o=r(5),a=function(){function e(t){n(this,e),this._queue=[],this._running=!1,this._schedule=t}return e.prototype.enqueue=function(){for(var e=this,t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];var o=new i(function(t,n){var i=0,o=null,a=function s(a){return o?void n(o):void(i>=r.length?t(a):e._queue.push(function(){s(function(){var e=r[i++];try{a=e(a)}catch(t){o=t,a=void 0}return a}())}))};a(void 0)});return this._scheduleIfNecessary(),o},e.prototype.injectScheduler=function(e){this._schedule=e},e.prototype._createTaskExecutor=function(e){var t=this,r=!1;return function(){r?o(!1):void 0,r=!0,t._invokeWithinScopedQueue(e),t._running=!1,t._scheduleIfNecessary()}},e.prototype._invokeWithinScopedQueue=function(e){var t=this._queue;this._queue=[];try{e()}finally{Array.prototype.unshift.apply(t,this._queue),this._queue=t}},e.prototype._scheduleIfNecessary=function(){if(!this._running)if(this._queue.length){this._running=!0;var e=this._createTaskExecutor(this._queue.shift());this._schedule?this._schedule(e):e()}else this._running=!1},e}();e.exports=a},function(e,t,r){"use strict";function n(e,t){var r=new f(e),n={dataID:void 0,rangeInfo:void 0,result:!0};return r.visit(t,n),n.result}var i=r(16)["default"],o=r(3)["default"],a=r(20),s=r(13),u=r(55),c=r(82),l=r(83),h=r(84),p=a.EDGES,d=a.PAGE_INFO,f=function(e){function t(r){o(this,t),e.call(this),this._store=r}return i(t,e),t.prototype.traverse=function(e,t){for(var r=e.getChildren(),n=0;n<r.length;n++){if(!t.result)return;this.visit(r[n],t)}},t.prototype.visitRoot=function(e,t){var r,n=this,i=e.getStorageKey();l(e,function(o){var a=n._store.getDataID(i,o);null==a?t.result=!1:(r={dataID:a,rangeInfo:void 0,result:!0},n.traverse(e,r),t.result=t.result&&r.result)})},t.prototype.visitFragment=function(e,t){var r=t.dataID;r&&h(e,this._store.getType(r))&&this.traverse(e,t)},t.prototype.visitField=function(e,t){var r=t.dataID,n=r&&this._store.getRecordState(r);if(n===c.UNKNOWN)return void(t.result=!1);if(n!==c.NONEXISTENT){var i=t.rangeInfo;i&&e.getSchemaName()===p?this._checkEdges(e,t):i&&e.getSchemaName()===d?this._checkPageInfo(e,t):e.canHaveSubselections()?e.isPlural()?this._checkPlural(e,t):e.isConnection()?this._checkConnection(e,t):this._checkLinkedField(e,t):this._checkScalar(e,t)}},t.prototype._checkScalar=function(e,t){var r=t.dataID&&this._store.getField(t.dataID,e.getStorageKey());void 0===r&&(t.result=!1)},t.prototype._checkPlural=function(e,t){var r=t.dataID&&this._store.getLinkedRecordIDs(t.dataID,e.getStorageKey());if(void 0===r)return void(t.result=!1);if(r)for(var n=0;n<r.length&&t.result;n++){var i={dataID:r[n],rangeInfo:void 0,result:!0};this.traverse(e,i),t.result=i.result}},t.prototype._checkConnection=function(e,t){var r=e.getCallsWithValues(),n=t.dataID&&this._store.getLinkedRecordID(t.dataID,e.getStorageKey());if(void 0===n)return void(t.result=!1);var i={dataID:n,rangeInfo:null,result:!0},o=this._store.getRangeMetadata(n,r);o&&(i.rangeInfo=o),this.traverse(e,i),t.result=t.result&&i.result},t.prototype._checkEdges=function(e,t){var r=t.rangeInfo;if(!r)return void(t.result=!1);if(r.diffCalls.length)return void(t.result=!1);for(var n=r.filteredEdges,i=0;i<n.length&&t.result;i++){var o={dataID:n[i].edgeID,rangeInfo:void 0,result:!0};this.traverse(e,o),t.result=o.result}},t.prototype._checkPageInfo=function(e,t){var r=t.rangeInfo;return r&&r.pageInfo?void 0:void(t.result=!1)},t.prototype._checkLinkedField=function(e,t){var r=t.dataID&&this._store.getLinkedRecordID(t.dataID,e.getStorageKey());if(void 0===r)return void(t.result=!1);if(r){var n={dataID:r,rangeInfo:void 0,result:!0};this.traverse(e,n),t.result=t.result&&n.result}},t}(u);e.exports=s.instrument("checkRelayQueryData",n)},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if(n(e.getFieldName())!==n(t.getFieldName()))return!1;var r=e.getIdentifyingArg(),i=t.getIdentifyingArg(),o=r&&r.value||null,a=i&&i.value||null;if(null==o&&null==a)return!0;if(null==o||null==a)return!1;if(Array.isArray(o)){var s=o;return Array.isArray(a)?a.every(function(e){return s.indexOf(e)>=0}):o.indexOf(a)>=0}return Array.isArray(a)?a.every(function(e){return e===o}):a===o}function n(e){return i.hasOwnProperty(e)?i[e]:e}var i={nodes:"node",usernames:"username"};e.exports=r},function(e,t,r){"use strict";function n(e,t){return"object"!=typeof t||null==t||Array.isArray(t)?a(!1):void 0,o.Root.create(e,i.get("$createRelayQuery"),t)}var i=r(54),o=r(12),a=r(5);e.exports=n},function(e,t,r){"use strict";function n(e,t,r){var n=new p(e),o=[],a=new A(t,r),s=e.getIdentifyingArg(),u=s&&s.value||null,c=Array.isArray(u)&&u.length>1,l=void 0;null!=s&&(l={identifyingArgName:s.name,identifyingArgType:null!=s.type?s.type:y,isAbstract:!0,isDeferred:!1,isPlural:!1});var d=e.getFieldName(),v=e.getStorageKey();return f(e,function(r){var s;c?(null==r?m(!1):void 0,s=h.Root.build(e.getName(),d,[r],e.getChildren(),l,e.getType())):s=e;var u=t.getDataID(v,r);if(null==u)return void o.push(s);var p=i(u),f=a.visit(s,n,p),g=f?f.diffNode:null;g&&(g instanceof h.Root?void 0:m(!1),o.push(g))}),o.concat(a.getSplitQueries())}function i(e){return{connectionField:null,dataID:e,edgeID:null,rangeInfo:null}}function o(e){for(var t=e.getChildren(),r=[],n=!1,i=[],a=!1,s=0;s<t.length;s++){var u=t[s];if(u instanceof h.Field)if(u.getSchemaName()===w){var c=u.getChildren();i=i.concat(c),n=n||1!==c.length||!(c[0]instanceof h.Field)||"id"!==c[0].getSchemaName()}else r.push(u),a=a||!u.isRequisite();else if(u instanceof h.Fragment){var l=o(u),p=l.edges,d=l.node;p&&(r.push(p),a=!0),d&&(i.push(d),n=!0)}}return{edges:a?e.clone(r):null,node:n?e.clone(i):null}}function a(e,t,r,n){var i=[S,C],o=[];return t.forEach(function(e){e instanceof h.Field?o.push(e):i.push(e)}),i.push(h.Fragment.build("diffRelayQuery",n,o)),h.Root.build(r,w,e,i,{identifyingArgName:g,identifyingArgType:y,isAbstract:!0,isDeferred:!1,isPlural:!1},b)}var s=r(3)["default"],u=r(20),c=r(27),l=r(13),h=r(12),p=r(81),d=r(21),f=r(83),m=r(5),v=r(84),g=(r(17),c.ID),y=c.ID_TYPE,b=c.NODE_TYPE,_=c.TYPENAME,x=u.EDGES,w=u.NODE,E=u.PAGE_INFO,S=h.Field.build({fieldName:g,metadata:{isRequisite:!0},type:"String"}),C=h.Field.build({fieldName:_,metadata:{isRequisite:!0},type:"String"}),M=h.Field.build({fieldName:c.NODE,children:[S,C],metadata:{canHaveSubselections:!0},type:b}),A=function(){function e(t,r){s(this,e),this._store=t,this._splitQueries=[],this._tracker=r}return e.prototype.splitQuery=function(e){this._splitQueries.push(e)},e.prototype.getSplitQueries=function(){return this._splitQueries},e.prototype.visit=function(e,t,r){return e instanceof h.Field?this.visitField(e,t,r):e instanceof h.Fragment?this.visitFragment(e,t,r):e instanceof h.Root?this.visitRoot(e,t,r):void 0},e.prototype.visitRoot=function(e,t,r){return this.traverse(e,t,r)},e.prototype.visitFragment=function(e,t,r){return this.traverse(e,t,r)},e.prototype.visitField=function(e,t,r){var n=r.connectionField,i=r.dataID,o=r.edgeID,a=r.rangeInfo;if(n&&a){if(o)return e.getSchemaName()===x?this.diffConnectionEdge(n,e,t.getPath(e,o),o,a):null;if(e.getSchemaName()===x||e.getSchemaName()===E)return a.diffCalls.length>0?{diffNode:e,trackedNode:null}:null}return e.canHaveSubselections()?e.isGenerated()?{diffNode:e,trackedNode:null}:e.isConnection()?this.diffConnection(e,t,i):e.isPlural()?this.diffPluralLink(e,t,i):this.diffLink(e,t,i):this.diffScalar(e,i)},e.prototype.traverse=function(e,t,r){var n=this,i=void 0,o=void 0,a=void 0,s=void 0,u=!1,c=!1;return e.getChildren().forEach(function(e){if(e instanceof h.Field){var i=n.visitField(e,t,r),a=i?i.diffNode:null,l=i?i.trackedNode:null;a?(o=o||[],o.push(a),u=u||!a.isGenerated()):e.isRequisite()&&!r.rangeInfo&&(o=o||[],o.push(e)),l?(s=s||[],s.push(l),c=c||!l.isGenerated()):e.isRequisite()&&(s=s||[],s.push(e))}else if(e instanceof h.Fragment){var p=v(e,n._store.getType(r.dataID));if(p){var i=n.traverse(e,t,r),a=i?i.diffNode:null,l=i?i.trackedNode:null;a&&(o=o||[],o.push(a),u=!0),l&&(s=s||[],s.push(l),c=!0)}else o=o||[],o.push(e)}}),o&&u&&(i=e.clone(o)),s&&c&&(a=e.clone(s)),!a||a instanceof h.Fragment||this._tracker.trackNodeForID(a,r.dataID,t),{diffNode:i,trackedNode:a}},e.prototype.diffScalar=function(e,t){return void 0===this._store.getField(t,e.getStorageKey())?{diffNode:e,trackedNode:null}:null},e.prototype.diffLink=function(e,t,r){var n=this._store.getLinkedRecordID(r,e.getStorageKey());return void 0===n?{diffNode:e,trackedNode:null}:null===n?{diffNode:null,trackedNode:e}:this.traverse(e,t.getPath(e,n),i(n))},e.prototype.diffPluralLink=function(e,t,r){var n=this,o=this._store.getLinkedRecordIDs(r,e.getStorageKey());if(void 0===o)return{diffNode:e,trackedNode:null};if(null===o||0===o.length)return{diffNode:null,trackedNode:e};if(e.getInferredRootCallName()!==w){var s=o[0];return this.traverse(e,t.getPath(e,s),i(s))}var u=!1;return o.forEach(function(r){var o=n.traverse(e,t.getPath(e,r),i(r));o&&(u=u||!!o.trackedNode||!!o.diffNode,o.diffNode&&n.splitQuery(a(r,o.diffNode.getChildren(),t.getName(),e.getType())))}),u?{diffNode:null,trackedNode:e}:null},e.prototype.diffConnection=function(e,t,r){var n=this,o=this._store,a=o.getLinkedRecordID(r,e.getStorageKey()),s=o.getRangeMetadata(a,e.getCallsWithValues());if(void 0===a)return{diffNode:e,trackedNode:null};if(null===a)return{diffNode:null,trackedNode:e};if(null==s)return this.traverse(e,t.getPath(e,a),i(a));var u=s.diffCalls,c=s.filteredEdges,l=!1;c.forEach(function(r){if(s&&a){var i={connectionField:e,dataID:a,edgeID:r.edgeID,rangeInfo:s},o=n.traverse(e,t.getPath(e,r.edgeID),i);o&&(l=l||!!o.trackedNode)}});var p={connectionField:e,dataID:a,edgeID:null,rangeInfo:s},d=this.traverse(e,t.getPath(e,a),p),f=d?d.diffNode:null,m=d?d.trackedNode:null;return u.length&&f instanceof h.Field&&(f=f.cloneFieldWithCalls(f.getChildren(),u)),l&&(m=e),{diffNode:f,trackedNode:m}},e.prototype.diffConnectionEdge=function(e,t,r,n,s){var u=!1,c=this.traverse(t,r.getPath(t,n),i(n)),l=c?c.diffNode:null,h=c?c.trackedNode:null,p=this._store.getLinkedRecordID(n,w);if(l)if(!p||d.isClientID(p));else{var f=o(l),v=f.edges,g=f.node;if(g){u=!0;var y=t.getFieldByStorageKey("node");y?void 0:m(!1),this.splitQuery(a(p,g.getChildren(),r.getName(),y.getType()))}if(v&&e.isFindable()){v=v.clone(v.getChildren().concat(M));var b=e.cloneFieldWithCalls([v],s.filterCalls.concat({name:"find",value:p}));if(b){u=!0;var _=r.getParent().getParent();this.splitQuery(_.getQuery(b))}}}return{diffNode:null,trackedNode:u?t:h}},e}();e.exports=l.instrument("diffRelayQuery",n)},function(e,t,r){"use strict";function n(e){return e.map(function(e){var t=e.name,r=e.args,n=r.map(function(e){var t=e.name,r=e.value,n=null;return Array.isArray(r)?n=r.map(i.createCallValue):null!=r&&(n=i.createCallValue(r)),i.createDirectiveArgument(t,n)});return i.createDirective(t,n)})}var i=r(45);e.exports=n},function(e,t,r){"use strict";function n(e){l||!function(){l=[];var e=l;c(function(){l=null,o(e),i(e)})}();var t=new u(e);return l.push(t),t.getPromise()}function i(e){a.sendQueries(e)}function o(e){var t=s.profile("fetchRelayQuery");e.forEach(function(e){var r=s.profile("fetchRelayQuery.query"),n=function(){r.stop(),t&&(t.stop(),t=null)};e.getPromise().done(n,n)})}var a=(r(38),r(80)),s=r(13),u=r(470),c=r(70),l=null;e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,i,o){var a=new d(e,t),s={dataID:n,missingData:!1,path:i,rangeCalls:o,rangeInfo:void 0};return a.visit(r,s),{missingData:s.missingData,pendingNodes:a.getPendingNodes()}}var i=r(16)["default"],o=r(3)["default"];Object.defineProperty(t,"__esModule",{value:!0});var a=r(20),s=r(13),u=r(55),c=r(82),l=r(84),h=a.EDGES,p=a.PAGE_INFO,d=function(e){function t(r){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),e.call(this),this._store=r,this._cachedRecords=n,this._pendingNodes={}}return i(t,e),t.prototype.getPendingNodes=function(){return this._pendingNodes},t.prototype.traverse=function(e,t){for(var r=e.getChildren(),n=0;n<r.length;n++){if(t.missingData)return;this.visit(r[n],t)}},t.prototype.visitFragment=function(e,t){var r=t.dataID,n=this._store.getRecordState(r);return n===c.UNKNOWN?void this._handleMissingData(e,t):void(n!==c.NONEXISTENT&&l(e,this._store.getType(r))&&this.traverse(e,t))},t.prototype.visitField=function(e,t){var r=t.dataID,n=this._store.getRecordState(r);if(n===c.UNKNOWN)return void this._handleMissingData(e,t);if(n!==c.NONEXISTENT){if(t.rangeCalls&&!t.rangeInfo){var i=this._store.getRangeMetadata(r,t.rangeCalls);i&&(t.rangeInfo=i)}var o=t.rangeInfo;o&&e.getSchemaName()===h?this._visitEdges(e,t):o&&e.getSchemaName()===p?this._visitPageInfo(e,t):e.canHaveSubselections()?e.isPlural()?this._visitPlural(e,t):e.isConnection()?this._visitConnection(e,t):this._visitLinkedField(e,t):this._visitScalar(e,t)}},t.prototype._visitScalar=function(e,t){var r=this._store.getField(t.dataID,e.getStorageKey());void 0===r&&this._handleMissingData(e,t)},t.prototype._visitPlural=function(e,t){var r=this._store.getLinkedRecordIDs(t.dataID,e.getStorageKey());if(void 0===r)return void this._handleMissingData(e,t);if(r)for(var n=0;n<r.length&&!t.missingData;n++){var i={dataID:r[n],missingData:!1,path:t.path.getPath(e,r[n]),rangeCalls:void 0,rangeInfo:void 0};this.traverse(e,i),t.missingData=i.missingData}},t.prototype._visitConnection=function(e,t){var r=e.getCallsWithValues(),n=this._store.getLinkedRecordID(t.dataID,e.getStorageKey());if(void 0===n)return void this._handleMissingData(e,t);if(n){var i={dataID:n,missingData:!1,path:t.path.getPath(e,n),rangeCalls:r,rangeInfo:null},o=this._store.getRangeMetadata(n,r);o&&(i.rangeInfo=o),this.traverse(e,i),t.missingData=t.missingData||i.missingData}},t.prototype._visitEdges=function(e,t){var r=t.rangeInfo;if(!r)return void this._handleMissingData(e,t);if(r.diffCalls.length)return void(t.missingData=!0);for(var n=r.requestedEdgeIDs,i=0;i<n.length&&!t.missingData;i++){var o={dataID:n[i],missingData:!1,path:t.path.getPath(e,n[i]),rangeCalls:void 0,rangeInfo:void 0};this.traverse(e,o),t.missingData=t.missingData||o.missingData}},t.prototype._visitPageInfo=function(e,t){var r=t.rangeInfo;return r&&r.pageInfo?void 0:void this._handleMissingData(e,t)},t.prototype._visitLinkedField=function(e,t){var r=this._store.getLinkedRecordID(t.dataID,e.getStorageKey());if(void 0===r)return void this._handleMissingData(e,t);if(r){var n={dataID:r,missingData:!1,path:t.path.getPath(e,r),rangeCalls:void 0,rangeInfo:void 0};this.traverse(e,n),t.missingData=t.missingData||n.missingData}},t.prototype._handleMissingData=function(e,t){var r=t.dataID;this._cachedRecords.hasOwnProperty(r)?t.missingData=!0:(this._pendingNodes[r]=this._pendingNodes[r]||[],this._pendingNodes[r].push({node:e,path:t.path,rangeCalls:t.rangeCalls}))},t}(u);e.exports=s.instrument("findRelayQueryLeaves",n)},function(e,t,r){"use strict";function n(e){for(var t=[],r=[e];r.length;){e=r.shift();var n=e,o=n.required,a=n.deferred;o&&t.push(o),a.length&&r.push.apply(r,i(a))}return t}var i=r(69)["default"];e.exports=n},function(e,t,r){"use strict";function n(e,t){var r={},n=o.get("$fromGraphQL");return t.create(e,n,r)}var i=r(12),o=r(54),a=r(5),s={Field:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=n(e,i.Field);return t instanceof i.Field?void 0:a(!1),t}),Fragment:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=n(e,i.Fragment);return t instanceof i.Fragment?void 0:a(!1),t}),Query:function(e){var t=n(e,i.Root);return t instanceof i.Root?void 0:a(!1),t},Operation:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=n(e,i.Operation);return t instanceof i.Operation?void 0:a(!1),t})};e.exports=s},function(e,t,r){"use strict";function n(e){var t=e.indexOf(".");return-1===t?e:a+e.substr(0,t)+i(o(e)>>>0)}var i=r(157),o=r(260),a="_";e.exports=n},function(e,t){"use strict";function r(e){var t=e.__instanceHash__;return null==t&&(t=(n++).toString(),e.__instanceHash__=t),t}var n=0;e.exports=r},function(e,t,r){"use strict";function n(e){var t=[];return h(e,function(e,r){l.isMetadataKey(r)||t.push(i(e,r))}),t}function i(e,t){var r={canHaveSubselections:!0,isPlural:!1},i=void 0;if(Array.isArray(e)){var a=e[0];a&&"object"==typeof a?i=n(a):(r.canHaveSubselections=!1,i=[]),r.isPlural=!0}else"object"==typeof e&&null!==e?i=n(e):(r.canHaveSubselections=!1,i=[]);return t===g?i.push(x):t===y&&i.push(w),o(t,i,r)}function o(e,t,r){var n=e,i=null;if(m.test(e)){var o=e.split(".");o.length>1&&(n=o.shift(),i=o.map(function(e){var t=e.match(v);t?void 0:p(!1);var r=t[2].split(",");return{name:t[1],value:1===r.length?r[0]:r}}))}else{var s=e.match(d);if(s?void 0:p(!1),n=s[1],s[2])try{!function(){var e=JSON.parse("{"+s[2].replace(f,'"$1"')+"}");i=a(e).map(function(t){return{name:t,value:e[t]}})}()}catch(u){p(!1)}}return c.Field.build({calls:i,children:t,fieldName:n,metadata:r,type:b})}var a=r(24)["default"],s=r(20),u=r(27),c=r(12),l=r(21),h=r(28),p=r(5),d=(r(17),/^(\w+)(?:\((.+?)\))?$/),f=/(\w+)(?=\s*:)/,m=/^\w+(?:\.\w+\(.*?\))+$/,v=/^(\w+)\((.*?)\)$/,g=s.NODE,y=s.EDGES,b=u.ANY_TYPE,_=u.ID,x=c.Field.build({fieldName:_,type:"String"}),w=c.Field.build({fieldName:"cursor",type:"String"});e.exports=n},function(e,t,r){"use strict";function n(e,t,r){r=r||o;var n=new f(r);return n.traverse(e,t)}function i(e){return v.traverse(e,void 0)}function o(){return!1}function a(e){return!e.getChildren().every(s)}function s(e){return e.isGenerated()}var u=r(16)["default"],c=r(3)["default"],l=r(20),h=r(12),p=r(146),d=r(5),f=function(e){function t(r){c(this,t),e.call(this),this._filterUnterminatedRange=r}return u(t,e),t.prototype.traverse=function(e,t){var r=this;return e.canHaveSubselections()?a(t)?e.clone(e.getChildren().map(function(e){if(e instanceof h.Fragment)return r.visit(e,t);if(e instanceof h.Field){for(var n,i=e.getSchemaName(),o=t.getChildren(),a=0;a<o.length;a++){var s=o[a];if(s instanceof h.Field?void 0:d(!1),s.getSchemaName()===i){n=s;break}}if(n)return r.visit(e,n)}return null})):e instanceof h.Field&&e.isConnection()&&this._filterUnterminatedRange(e)?i(e):e:e},t}(p),m=function(e){function t(){c(this,t),e.apply(this,arguments)}return u(t,e),t.prototype.visitField=function(e){var t=e.getSchemaName();return t===l.EDGES||t===l.PAGE_INFO?null:e},t}(p),v=new m;e.exports=n},function(e,t){"use strict";function r(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)}e.exports=r},function(e,t,r){"use strict";e.exports=r(498)},function(e,t){"use strict";function r(e){return{relay:e}}e.exports=r},function(e,t,r){"use strict";function n(e){var t=[],r=new d,n={fragmentCount:0,fragmentNameByHash:{},fragmentNameByText:{},fragmentTexts:t,variableCount:0,variableMap:r},a=null;e instanceof m.Root?a=i(e,n):e instanceof m.Mutation?a=o(e,n):e instanceof m.Fragment&&(a=s(e,n)),a?void 0:g(!1);var u={};return r.forEach(function(e){var t=e.value,r=e.variableID;return u[r]=t}),{text:[a].concat(t).join(" "),variables:u}}function i(e,t){e.getBatchCall()?g(!1):void 0;var r=e.getIdentifyingArg(),n=r&&r.name||null,i=r&&r.type||null,o=r&&r.value||null,s=e.getFieldName();if(null!=o){n?void 0:g(!1);var l=h(n,o,i,t);l&&(s+="("+l+")")}var p=u(e,t),d=e.getName()+a(t);return s+=c(e),"query "+d+"{"+s+p+"}"}function o(e,t){var r=e.getCall(),n=h(e.getCallVariableName(),r.value,e.getInputType(),t);n?void 0:g(!1);var i=u(e,t),o=e.getName()+a(t),s=r.name+"("+n+")";return"mutation "+o+"{"+s+i+"}"}function a(e){var t=e.variableMap,r=null;return t.forEach(function(e){var t=e.type,n=e.variableID;r=r||[],r.push("$"+n+":"+t)}),r?"("+r.join(",")+")":""}function s(e,t){var r=c(e);return"fragment "+e.getDebugName()+" on "+e.getType()+r+u(e,t)}function u(e,t){for(var r=[],n=e.getChildren(),i=void 0,o=0;o<n.length;o++){var a=n[o];if(a instanceof m.Field){var s=a.getSchemaName(),l=a.getCallsWithValues();if(l.length){s=a.getSerializationKey()+":"+s;for(var p=[],d=0;d<l.length;d++){var f=l[d],y=f.name,b=f.value,_=h(y,b,a.getCallType(y),t);_&&p.push(_)}p.length&&(s+="("+p.join(",")+")")}s+=c(a),a.getChildren().length&&(s+=u(a,t)),r.push(s)}else if(a instanceof m.Fragment){if(a.getChildren().length){var x=t.fragmentNameByHash,w=t.fragmentNameByText,E=t.fragmentTexts,S=a.isCloned()?null:a.getCompositeHash(),C=void 0;if(null!=S&&x.hasOwnProperty(S))C=x[S];else{var M=a.getType()+c(a)+u(a,t);w.hasOwnProperty(M)?C=w[M]:(C="F"+v(t.fragmentCount++),null!=S&&(x[S]=C),w[M]=C,E.push("fragment "+C+" on "+M))}i&&i.hasOwnProperty(C)||(i=i||{},i[C]=!0,r.push("..."+C))}}else g(!1)}return r&&r.length?"{"+r.join(",")+"}":""}function c(e){var t=void 0;return e.getDirectives().forEach(function(e){var r="@"+e.name;e.args.length&&(r+="("+e.args.map(l).join(",")+")"),t=t||[],t.push(r)}),t?" "+t.join(" "):""}function l(e){var t=e.name,r=e.value;return"boolean"!=typeof r&&"number"!=typeof r&&"string"!=typeof r?g(!1):void 0,t+":"+JSON.stringify(r)}function h(e,t,r,n){if(null==t)return t;var i=void 0;if(null!=r){var o=p(e,t,r,n);i="$"+o}else i=JSON.stringify(t);return e+":"+i}function p(e,t,r,n){var i=JSON.stringify(t),o=n.variableMap.get(i);if(o)return o.variableID;var a=e+"_"+v(n.variableCount++);return n.variableMap.set(i,{type:r,value:t,variableID:a}),a}var d=r(110),f=r(13),m=r(12),v=r(157),g=r(5);e.exports=f.instrument("printRelayQuery",n)},function(e,t,r){"use strict";function n(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return t;var r=!1;if(e instanceof o)r=t instanceof o&&t.equals(e);else{var a=Array.isArray(e),s=Array.isArray(t);if(a&&s){var u=e,c=t;r=c.reduce(function(e,t,r){return c[r]=n(u[r],t),e&&c[r]===u[r]},!0)&&u.length===c.length}else if(!a&&!s){var l=e,h=t,p=i(l),d=i(h);r=d.reduce(function(e,t){var r=h[t];return h[t]=n(l[t],r),e&&h[t]===l[t]},!0)&&p.length===d.length}}return r?e:t}var i=r(24)["default"],o=r(67);e.exports=n},function(e,t){"use strict";function r(e,t){return e===t?0:e===n?-1:t===n?1:0}var n="__type__";e.exports=r},function(e,t,r){"use strict";function n(e){var t=new y,r={__nodePath__:[],__parent__:null,__refQuery__:null,deferred:[],required:null};return t.visit(e,r),s(r)}function i(e,t){var r=t.getChildren().filter(function(t){return t!==e&&t instanceof f.Field&&t.isRequisite()});return r.map(function(e){var t=e.getChildren().filter(function(e){return e instanceof f.Field&&e.isRequisite()}),r=e.clone(t);return r?void 0:g(!1),r})}function o(e,t){for(var r=t.length-1;r>=0;r--){var n=t[r];if(n instanceof f.Field&&n.getInferredRootCallName())return new v(e,t.slice(0,r+1));var o=i(e,n),a=[e].concat(o);e=n.clone(a)}e instanceof f.Root?void 0:g(!1);var s=e.getIdentifyingArg(),u=s&&s.name||null,c=s&&s.value||null,l={identifyingArgName:u,identifyingArgType:p.ID_TYPE,isAbstract:!0,isDeferred:!0,isPlural:!1};return f.Root.build(e.getName(),e.getFieldName(),c,e.getChildren(),l,e.getType())}function a(e){return e.canHaveSubselections()?e.getChildren().every(a):e.isGenerated()&&!e.isRefQueryDependency()}function s(e){return e.required&&a(e.required)&&(e.required=null),e.deferred=e.deferred.map(function(t){var r=t.__refQuery__;if(r){var n=e.required;
if(!n)for(var i=e;i.__parent__&&!(n=i.__parent__.required);)i=i.__parent__;n?void 0:g(!1),t.required=u(r,n)}return s(t)}),e}function u(e,t){var r=e.node;r instanceof f.Field||r instanceof f.Fragment?void 0:g(!1);for(var n=["$","*"],i=void 0,o=0;o<e.nodePath.length;o++)i=e.nodePath[o],i instanceof f.Field&&(n.push(i.getSerializationKey()),i.isPlural()&&n.push("*"));n.length>2?void 0:g(!1);var a=i,s=a.getInferredPrimaryKey();s?void 0:g(!1),n.push(s);var u=f.Root.build(t.getName(),p.NODES,h.createBatchCallVariable(t.getID(),n.join(".")),[r],{identifyingArgName:p.ID,identifyingArgType:p.ID_TYPE,isAbstract:!0,isDeferred:!0,isPlural:!1},p.NODE_TYPE),c=u;return c}var c=r(16)["default"],l=r(3)["default"];Object.defineProperty(t,"__esModule",{value:!0});var h=r(45),p=r(27),d=r(13),f=r(12),m=r(146),v=r(477),g=r(5),y=function(e){function t(){l(this,t),e.apply(this,arguments)}return c(t,e),t.prototype.visitField=function(e,t){if(!e.hasDeferredDescendant())return e;t.__nodePath__.push(e);var r=this.traverse(e,t);return t.__nodePath__.pop(),r&&e.getInferredRootCallName()&&!function(){var t=e.getInferredPrimaryKey(),n=r.getChildren().map(function(e){return e instanceof f.Field&&e.getSchemaName()===t?e.cloneAsRefQueryDependency():e});r=r.clone(n)}(),r},t.prototype.visitFragment=function(e,t){if(!e.getChildren().length)return null;if(e.isDeferred()){var r=t.__nodePath__,n={__nodePath__:r,__parent__:t,__refQuery__:null,deferred:[],required:null},i=this.traverse(e,n);if(i){var a=o(i,r);a instanceof f.Root?n.required=a:a instanceof v&&(n.__refQuery__=a)}return(i||n.deferred.length)&&t.deferred.push(n),null}return e.hasDeferredDescendant()?this.traverse(e,t):e},t.prototype.visitRoot=function(e,t){if(e.hasDeferredDescendant()){t.__nodePath__.push(e);var r=this.traverse(e,t);return t.__nodePath__.pop(),t.required=r,r}return t.required=e,e},t}(m);e.exports=d.instrument("splitDeferredRelayQueries",n)},function(e,t,r){"use strict";function n(e,t){var r=new m,n={isEmpty:!0,subtrahend:t},i=r.visit(e,n);return n.isEmpty?null:(i instanceof h.Root?void 0:f(!1),i)}function i(e){return e instanceof h.Field&&!e.canHaveSubselections()?e.isRequisite()&&!e.isRefQueryDependency()&&e.getApplicationName()===e.getSchemaName():e.getChildren().every(i)}function o(e,t){var r=e.getIdentifyingArg(),n=t.getIdentifyingArg();return e.getFieldName()===t.getFieldName()&&d(r,n)}function a(e,t){return t.getChildren().filter(function(t){return t instanceof h.Field&&s(e,t)})}function s(e,t){if(e.getSchemaName()!==t.getSchemaName())return!1;var r=e.getCallsWithValues(),n=t.getCallsWithValues();return r.length!==n.length?!1:r.every(function(e,t){var r=n[t];return null==r?!1:e.name!==r.name?!1:"first"===e.name||"last"===e.name?parseInt(""+e.value,10)<=parseInt(""+r.value,10):d(e.value,r.value)})}var u=r(16)["default"],c=r(3)["default"],l=r(13),h=r(12),p=r(146),d=r(259),f=r(5),m=function(e){function t(){c(this,t),e.apply(this,arguments)}return u(t,e),t.prototype.visitRoot=function(e,t){var r=t.subtrahend;return r instanceof h.Root?void 0:f(!1),o(e,r)?this._subtractChildren(e,t):(t.isEmpty=!1,e)},t.prototype.visitFragment=function(e,t){return this._subtractChildren(e,t)},t.prototype.visitField=function(e,t){var r;return r=e.canHaveSubselections()?e.isConnection()?this._subtractConnection(e,t):this._subtractField(e,t):this._subtractScalar(e,t),!r||!r.isRequisite()&&t.isEmpty?null:r},t.prototype._subtractScalar=function(e,t){var r=t.subtrahend.getField(e);return r&&!e.isRequisite()?null:(t.isEmpty=i(e),e)},t.prototype._subtractConnection=function(e,t){var r=a(e,t.subtrahend);if(!r.length)return t.isEmpty=i(e),e;for(var n,o=e,s=0;s<r.length&&(n={isEmpty:!0,subtrahend:r[s]},o=this._subtractChildren(o,n),t.isEmpty=n.isEmpty,o);s++);return o},t.prototype._subtractField=function(e,t){var r=t.subtrahend.getField(e);if(!r)return t.isEmpty=i(e),e;var n={isEmpty:!0,subtrahend:r},o=this._subtractChildren(e,n);return t.isEmpty=n.isEmpty,o},t.prototype._subtractChildren=function(e,t){var r=this;return e.clone(e.getChildren().map(function(e){var n={isEmpty:!0,subtrahend:t.subtrahend},i=r.visit(e,n);return t.isEmpty=t.isEmpty&&n.isEmpty,i}))},t}(p);e.exports=l.instrument("subtractRelayQuery",n)},function(e,t,r){"use strict";var n=(r(16)["default"],r(3)["default"],r(55),r(158)),i=n;e.exports=i},function(e,t,r){"use strict";function n(e,t,r){var n=e.getRecordStore(),o=e.getRecordWriter(),s=new a(t);i.getResultsFromPayload(n,t,r).forEach(function(r){var n=r.dataID,i=r.result,a=r.rootCallInfo;a&&o.putDataID(a.storageKey,a.identifyingArgValue,n),e.writePayload(t,n,i,s)})}var i=r(27),o=r(13),a=r(81);e.exports=o.instrument("writeRelayQueryPayload",n)},function(e,t,r){"use strict";function n(e,t,r,n){var o=n.configs,s=n.isOptimisticUpdate;o.forEach(function(n){switch(n.type){case x.NODE_DELETE:i(e,r,n);break;case x.RANGE_ADD:u(e,r,t,n,s);break;case x.RANGE_DELETE:l(e,r,n);break;case x.FIELDS_CHANGE:case x.REQUIRED_CHILDREN:break;default:console.error("Expected a valid mutation handler type, got `%s`.",n.type)}}),a(e,r,t)}function i(e,t,r){var n=t[r.deletedIDFieldName];n&&(Array.isArray(n)?n.forEach(function(t){o(e,t)}):o(e,n))}function o(e,t){var r=e.getRecordStore(),n=e.getRecordWriter(),i=r.getRecordState(t);if(i!==M.NONEXISTENT){var a=r.getConnectionIDsForRecord(t);a&&a.forEach(function(r){var i=A(r,t);n.applyRangeUpdate(r,i,B),e.recordUpdate(i),e.recordUpdate(r),o(e,i)}),n.deleteRecord(t),e.recordUpdate(t)}}function a(e,t,r){var n=e.getRecordStore();for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if("object"==typeof o&&null!=o){var a=n.getDataID(i);(N in o||a||Array.isArray(o))&&s(e,i,o,r)}}}function s(e,t,r,n){if(!(t in z)){if(Array.isArray(r))return void r.forEach(function(r){"object"!=typeof r||null==r||Array.isArray(r)||f(r,N)&&s(e,t,r,n)});var i=r,o=e.getRecordStore(),a=f(i,N),u=void 0;null!=a?u=new S(E.Root.build("writeRelayUpdatePayload",L,a,null,{identifyingArgName:N,identifyingArgType:k,isAbstract:!0,isDeferred:!1,isPlural:!1},F)):(a=o.getDataID(t),u=new S(E.Root.build("writeRelayUpdatePayload",t,null,null,{identifyingArgName:null,identifyingArgType:null,isAbstract:!0,isDeferred:!1,isPlural:!1},I))),a?void 0:R(!1);var c=function l(r){r.getChildren().forEach(function(r){if(r instanceof E.Fragment)l(r);else if(r instanceof E.Field&&r.getSerializationKey()===t&&u&&a){var n=e.getRecordTypeName(r,a,i);e.createRecordIfMissing(r,a,n,u),e.writePayload(r,a,i,u)}})};c(n)}}function u(e,t,r,n,i){var o=f(t,P);o?void 0:R(!1);var a=e.getRecordStore(),s=m(t,n.edgeName),u=s&&m(s,L);if(s&&u){var l=n.parentID;if(!l){var h=m(s,"source");h&&(l=f(h,N))}l?void 0:R(!1);var p=f(u,N)||T(),d=s.cursor||H,v=g({},s,{cursor:d,node:g({},u,{id:p})}),y=a.getConnectionIDsForField(l,n.connectionName);if(y&&y.forEach(function(t){return c(e,r,n,t,p,v)}),i)_.putClientIDForMutation(p,o);else{var b=_.getClientIDForMutation(o);b&&(_.updateClientServerIDMap(b,p),_.deleteClientIDForMutation(o))}}}function c(e,t,r,n,i,o){var a=e.getRecordStore(),s=e.getRecordWriter(),u=a.getRangeFilterCalls(n),c=u?p(r.rangeBehaviors,u):null;if(c){var l=A(n,i),h=a.getPathToRecord(n);h?void 0:R(!1),h=h.getPath(V,l);var d=e.getRecordTypeName(V,l,o);e.createRecordIfMissing(V,l,d,h);var f=!1,m=function v(t){t.getChildren().forEach(function(t){t instanceof E.Fragment?v(t):t instanceof E.Field&&t.getSchemaName()===r.edgeName&&(f=!0,h&&e.writePayload(t,l,o,h))})};m(t),f?void 0:R(!1),c in y.RANGE_OPERATIONS?(s.applyRangeUpdate(n,l,c),e.hasChangeToRecord(l)&&e.recordUpdate(n)):console.error("writeRelayUpdatePayload(): invalid range operation `%s`, valid options are `%s` or `%s`.",c,j,U)}}function l(e,t,r){var n=e.getRecordStore(),i=Array.isArray(r.deletedIDFieldName)?d(n,r.deletedIDFieldName,t):f(t,r.deletedIDFieldName);null==i?R(!1):void 0;var o=r.pathToConnection.pop(),a=d(n,r.pathToConnection,t);if(r.pathToConnection.push(o),a){var s=n.getConnectionIDsForField(a,o);s&&s.forEach(function(t){h(e,t,i)})}}function h(e,t,r){var n=e.getRecordWriter(),i=A(t,r);n.applyRangeUpdate(t,i,B),o(e,i),e.hasChangeToRecord(i)&&e.recordUpdate(t)}function p(e,t){var r=t.map(O).sort().join("").slice(1);return e[r]||null}function d(e,t,r){if(1===t.length){var n=e.getDataID(t[0]);if(n)return n}var i=t.reduce(function(e,t){return e?m(e,t):null},r);if(i){var o=f(i,N);return null==o?R(!1):void 0,o}return null}function f(e,t){var r=e[t];return"number"==typeof r&&(r=""+r),null!=r&&"string"!=typeof r?R(!1):void 0,r}function m(e,t){var r=e[t];return null==r||"object"==typeof r&&!Array.isArray(r)?void 0:R(!1),r}var v=r(108)["default"],g=r(15)["default"],y=r(103),b=r(20),_=r(462),x=r(245),w=r(27),E=r(12),S=r(81),C=r(13),M=r(82),A=r(248),T=r(152),R=r(5),O=r(107),P=(r(17),b.CLIENT_MUTATION_ID),D=b.EDGES,I=w.ANY_TYPE,N=w.ID,k=w.ID_TYPE,L=w.NODE,F=w.NODE_TYPE,j=y.APPEND,U=y.PREPEND,B=y.REMOVE,V=E.Field.build({fieldName:D,type:I,metadata:{canHaveSubselections:!0,isPlural:!0}}),z=v({error:!0},P,!0),H="client:cursor";e.exports=C.instrument("writeRelayUpdatePayload",n)},function(e,t,r){e.exports={"default":r(205),__esModule:!0}},function(e,t,r){e.exports={"default":r(356),__esModule:!0}},function(e,t,r){e.exports={"default":r(207),__esModule:!0}},function(e,t,r){e.exports={"default":r(208),__esModule:!0}},function(e,t,r){e.exports={"default":r(210),__esModule:!0}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e.hasOwnProperty(t)||(e[t]=new o),e[t]}var o=(r(38),r(109)),a=r(5),s=function(){function e(){n(this,e),this._deferred={}}return e.prototype.get=function(e){return i(this._deferred,e).getPromise()},e.prototype.resolveKey=function(e,t){var r=i(this._deferred,e);r.isSettled()?a(!1):void 0,r.resolve(t)},e.prototype.rejectKey=function(e,t){var r=i(this._deferred,e);r.isSettled()?a(!1):void 0,r.reject(t)},e}();e.exports=s},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function i(e,t){var r=t||{},i=r.fetchTimeout,h=r.retryDelays,p=n(r,["fetchTimeout","retryDelays"]),d=null!=i?i:c,f=null!=h?h:l,m=0,v=0;return new o(function(t,r){function n(){m++,v=Date.now();var n=!0,a=u(e,p),c=setTimeout(function(){n=!1,o(m)?i():r(new Error(s("fetchWithRetries(): Failed to get response from server, tried %s times.",m)))},d);a.then(function(e){if(clearTimeout(c),n)if(e.status>=200&&e.status<300)t(e);else if(o(m))i();else{var a=new Error(s("fetchWithRetries(): Still no successful response after %s retries, giving up.",m));a.response=e,r(a)}})["catch"](function(e){clearTimeout(c),o(m)?i():r(e)})}function i(){var e=f[m-1],t=v+e;setTimeout(n,t-Date.now())}function o(e){return a.canUseDOM&&e<=f.length}n()})}Object.defineProperty(t,"__esModule",{value:!0});var o=r(38),a=r(258),s=r(263),u=r(262),c=(r(17),15e3),l=[1e3,3e3];e.exports=i},function(e,t){"use strict";function r(e,t,r){if(!e)return null;var i={};for(var o in e)n.call(e,o)&&t.call(r,e[o],o,e)&&(i[o]=e[o]);return i}var n=Object.prototype.hasOwnProperty;e.exports=r},function(e,t){/**
	 * Returns a flattened array that represents the DFS traversal of the supplied
	 * input array. For example:
	 *
	 *   var deep = ["a", ["b", "c"], "d", {"e": [1, 2]}, [["f"], "g"]];
	 *   var flat = flattenArray(deep);
	 *   console.log(flat);
	 *   > ["a", "b", "c", "d", {"e": [1, 2]}, "f", "g"];
	 *
	 * @see https://github.com/jonschlinkert/arr-flatten
	 * @copyright 2014-2015 Jon Schlinkert
	 * @license MIT
	 */
"use strict";function r(e){var t=[];return n(e,t),t}function n(e,t){for(var r=e.length,i=0;r--;){var o=e[i++];Array.isArray(o)?n(o,t):t.push(o)}}e.exports=r},function(e,t,r){"use strict";function n(e){if(e&&e[Symbol.iterator]&&void 0!==e.size?i(!1):void 0,Array.isArray(e))return 0===e.length;if("object"==typeof e){for(var t in e)return!1;return!0}return!e}var i=r(5);e.exports=n},function(e,t,r){"use strict";var n,i=r(258);i.canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),e.exports=n||{}},function(e,t,r){"use strict";var n,i=r(517);n=i.now?function(){return i.now()}:function(){return Date.now()},e.exports=n},function(e,t){"use strict";function r(e,t){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}e.exports=r},function(e,t){"use strict";function r(e,t,r){for(var i in e)if(n.call(e,i)&&t.call(r,e[i],i,e))return!0;return!1}var n=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,r){"use strict";var n=r(130)["default"],i=r(128)["default"],o=r(90)["default"],a=r(129)["default"],s=r(60)["default"];t.__esModule=!0;var u=r(4),c=s(u),l=r(47),h=r(264),p=s(h),d=function(e){function t(){o(this,t),e.apply(this,arguments)}return n(t,e),t.prototype.renderRouterContext=function(e){return c["default"].createElement(p["default"],e)},t.prototype.render=function(){return c["default"].createElement(l.Router,a({},this.props,{render:this.renderRouterContext}))},i(t,null,[{key:"displayName",value:"RelayRouter",enumerable:!0}]),t}(c["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";var n=r(130)["default"],i=r(128)["default"],o=r(90)["default"],a=r(129)["default"],s=r(351)["default"],u=r(60)["default"];t.__esModule=!0;var c=r(4),l=u(c),h=r(275),p=u(h),d=r(266),f=u(d),m=r(265),v=u(m),g=function(e){function t(){o(this,t),e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.Component,r=e.createElement,n=s(e,["Component","createElement"]),i=n.route,o=this.context.routeAggregator,u=i.queries;if(!u)return r(t,n);var c=f["default"](n),h=o.getData(i,u,c),d=h.failure,m=h.fragmentPointers,v=h.readyState,g=!0,y=void 0;if(d){var b=i.renderFailure;if(b){var _=d[0],x=d[1];y=b(_,x)}else y=null}else if(m){var w=a({},n,c,m),E=i.renderFetched;y=E?E(w,v):r(t,w)}else{var S=i.renderLoading;y=S?S():void 0,void 0===y&&(y=null,g=!1)}return l["default"].createElement(p["default"],{shouldUpdate:g},y)},i(t,null,[{key:"displayName",value:"RouteContainer",enumerable:!0},{key:"propTypes",value:{Component:l["default"].PropTypes.func.isRequired,createElement:l["default"].PropTypes.func.isRequired},enumerable:!0},{key:"contextTypes",value:{routeAggregator:l["default"].PropTypes.instanceOf(v["default"]).isRequired},enumerable:!0}]),t}(l["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,r){"use strict";var n=r(60)["default"];t.__esModule=!0;var i=r(521),o=n(i);t.RelayRouter=o["default"];var a=r(264),s=n(a);t.RelayRouterContext=s["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(22),o=(n(i),r(56)),a={contextTypes:{history:o.history},componentWillMount:function(){this.history=this.context.history}};t["default"]=a,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(4),a=n(o),s=r(267),u=n(s),c=a["default"].createClass({displayName:"IndexLink",render:function(){return a["default"].createElement(u["default"],i({},this.props,{onlyActiveOnIndex:!0}))}});t["default"]=c,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(4),o=n(i),a=r(22),s=(n(a),r(23)),u=n(s),c=r(268),l=n(c),h=r(56),p=o["default"].PropTypes,d=p.string,f=p.object,m=o["default"].createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=l["default"].createRouteFromReactElement(e))}},propTypes:{to:d.isRequired,query:f,state:f,onEnter:h.falsy,children:h.falsy},render:function(){u["default"](!1)}});t["default"]=m,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(4),o=n(i),a=r(22),s=(n(a),r(23)),u=n(s),c=r(46),l=r(56),h=o["default"].PropTypes.func,p=o["default"].createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=c.createRouteFromReactElement(e))}},propTypes:{path:l.falsy,component:l.component,components:l.components,getComponent:h,getComponents:h},render:function(){u["default"](!1)}});t["default"]=p,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(22),o=(n(i),r(4)),a=n(o),s=r(23),u=n(s),c=a["default"].PropTypes.object,l={contextTypes:{history:c.isRequired,route:c},propTypes:{route:c},componentDidMount:function(){this.routerWillLeave?void 0:u["default"](!1);var e=this.props.route||this.context.route;e?void 0:u["default"](!1),this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(e,this.routerWillLeave)},componentWillUnmount:function(){this._unlistenBeforeLeavingRoute&&this._unlistenBeforeLeavingRoute()}};t["default"]=l,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(4),o=n(i),a=r(23),s=n(a),u=r(46),c=r(56),l=o["default"].PropTypes,h=l.string,p=l.func,d=o["default"].createClass({displayName:"Route",statics:{createRouteFromReactElement:u.createRouteFromReactElement},propTypes:{path:h,component:c.component,components:c.components,getComponent:p,getComponents:p},render:function(){s["default"](!1)}});t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(22),o=(n(i),r(4)),a=n(o),s=a["default"].PropTypes.object,u={propTypes:{route:s.isRequired},childContextTypes:{route:s.isRequired},getChildContext:function(){return{route:this.props.route}},componentWillMount:function(){}};t["default"]=u,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e){return!e||!e.__v2_compatible__}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(230),u=n(s),c=r(101),l=n(c),h=r(4),p=n(h),d=r(163),f=n(d),m=r(56),v=r(162),g=n(v),y=r(46),b=r(269),_=r(22),x=(n(_),p["default"].PropTypes),w=x.func,E=x.object,S=p["default"].createClass({displayName:"Router",propTypes:{history:E,children:m.routes,routes:m.routes,render:w,createElement:w,onError:w,onUpdate:w,matchContext:E},getDefaultProps:function(){return{render:function(e){return p["default"].createElement(g["default"],e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},componentWillMount:function(){var e=this,t=this.props,r=(t.parseQueryString,t.stringifyQuery,this.createRouterObjects()),n=r.history,i=r.transitionManager,o=r.router;this._unlisten=i.listen(function(t,r){t?e.handleError(t):e.setState(r,e.props.onUpdate)}),this.history=n,this.router=o},createRouterObjects:function(){var e=this.props.matchContext;if(e)return e;var t=this.props.history,r=this.props,n=r.routes,i=r.children;o(t)&&(t=this.wrapDeprecatedHistory(t));var a=f["default"](t,y.createRoutes(n||i)),s=b.createRouterObject(t,a),u=b.createRoutingHistory(t,a);return{history:u,transitionManager:a,router:s}},wrapDeprecatedHistory:function(e){var t=this.props,r=t.parseQueryString,n=t.stringifyQuery,i=void 0;return i=e?function(){return e}:u["default"],l["default"](i)({parseQueryString:r,stringifyQuery:n})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function C(){var e=this.state,t=e.location,r=e.routes,n=e.params,o=e.components,s=this.props,u=s.createElement,C=s.render,c=i(s,["createElement","render"]);return null==t?null:(Object.keys(S.propTypes).forEach(function(e){return delete c[e]}),C(a({},c,{history:this.history,router:this.router,location:t,routes:r,params:n,components:o,createElement:u})))}});t["default"]=S,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(4),o=n(i),a=r(162),s=n(a),u=r(22),c=(n(u),o["default"].createClass({displayName:"RoutingContext",componentWillMount:function(){},render:function(){return o["default"].createElement(s["default"],this.props)}}));t["default"]=c,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return function(r,n,i){e.apply(t,arguments),e.length<3&&i()}}function o(e){return e.reduce(function(e,t){return t.onEnter&&e.push(i(t.onEnter,t)),e},[])}function a(e,t,r){function n(e,t,r){return t?void(a={pathname:t,query:r,state:e}):void(a=e)}var i=o(e);if(!i.length)return void r();var a=void 0;u.loopAsync(i.length,function(e,r,o){i[e](t,n,function(e){e||a?o(e,a):r()})},r)}function s(e){for(var t=0,r=e.length;r>t;++t)e[t].onLeave&&e[t].onLeave.call(e[t])}t.__esModule=!0,t.runEnterHooks=a,t.runLeaveHooks=s;var u=r(161),c=r(22);n(c)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(228),o=n(i),a=r(271),s=n(a);t["default"]=s["default"](o["default"]),e.exports=t["default"]},function(e,t,r){"use strict";function n(e,t,r){if(!e.path)return!1;var n=o.getParamNames(e.path);return n.some(function(e){return t.params[e]!==r.params[e]})}function i(e,t){var r=e&&e.routes,i=t.routes,o=void 0,a=void 0;return r?(o=r.filter(function(r){return-1===i.indexOf(r)||n(r,e,t)}),o.reverse(),a=i.filter(function(e){return-1===r.indexOf(e)||-1!==o.indexOf(e)})):(o=[],a=i),{leaveRoutes:o,enterRoutes:a}}t.__esModule=!0;var o=r(71);t["default"]=i,e.exports=t["default"]},function(e,t,r){"use strict";function n(e,t,r){t.component||t.components?r(null,t.component||t.components):t.getComponent?t.getComponent(e,r):t.getComponents?t.getComponents(e,r):r()}function i(e,t){o.mapAsync(e.routes,function(t,r,i){n(e.location,t,i)},t)}t.__esModule=!0;var o=r(161);t["default"]=i,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(230),o=n(i),a=r(271),s=n(a);t["default"]=s["default"](o["default"]),e.exports=t["default"]},function(e,t,r){"use strict";function n(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,r){return n(e,t[r])});if("object"==typeof e){for(var r in e)if(e.hasOwnProperty(r))if(void 0===e[r]){if(void 0!==t[r])return!1}else{if(!t.hasOwnProperty(r))return!1;if(!n(e[r],t[r]))return!1}return!0}return String(e)===String(t)}function i(e,t,r){return e.every(function(e,n){return String(t[n])===String(r[e])})}function o(e,t,r){for(var n=e,o=[],a=[],s=0,u=t.length;u>s;++s){var l=t[s],h=l.path||"";if("/"===h.charAt(0)&&(n=e,o=[],a=[]),null!==n){var p=c.matchPattern(h,n);n=p.remainingPathname,o=[].concat(o,p.paramNames),a=[].concat(a,p.paramValues)}if(""===n&&l.path&&i(o,a,r))return s}return null}function a(e,t,r,n){var i=o(e,t,r);return null===i?!1:n?t.slice(i+1).every(function(e){return!e.path}):!0}function s(e,t){return null==t?null==e:null==e?!0:n(e,t)}function u(e,t,r,n,i){var o=e.pathname,u=e.query;return null==r?!1:a(o,n,i,t)?s(u,r.query):!1}t.__esModule=!0,t["default"]=u;var c=r(71);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t){var r=e.history,n=e.routes,o=e.location,s=i(e,["history","routes","location"]);r||o?void 0:u["default"](!1),r=r?r:l["default"](s);var c=p["default"](r,d.createRoutes(n)),h=void 0;o?o=r.createLocation(o):h=r.listen(function(e){o=e});var m=f.createRouterObject(r,c);r=f.createRoutingHistory(r,c),c.match(o,function(e,n,i){t(e,n,i&&a({},i,{history:r,router:m,matchContext:{history:r,transitionManager:c,router:m}})),h&&h()})}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(23),u=n(s),c=r(270),l=n(c),h=r(163),p=n(h),d=r(46),f=r(269);t["default"]=o,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var n=!0,i=void 0;return e.getChildRoutes(t,function(e,t){return t=!e&&d.createRoutes(t),n?void(i=[e,t]):void r(e,t)}),n=!1,i}function o(e,t,r){e.indexRoute?r(null,e.indexRoute):e.getIndexRoute?e.getIndexRoute(t,function(e,t){r(e,!e&&d.createRoutes(t)[0])}):e.childRoutes?!function(){var n=e.childRoutes.filter(function(e){return!e.hasOwnProperty("path")});h.loopAsync(n.length,function(e,r,i){o(n[e],t,function(t,o){if(t||o){var a=[n[e]].concat(Array.isArray(o)?o:[o]);i(t,a)}else r()})},function(e,t){r(null,t)})}():r()}function a(e,t,r){return t.reduce(function(e,t,n){var i=r&&r[n];return Array.isArray(e[t])?e[t].push(i):t in e?e[t]=[e[t],i]:e[t]=i,e},e)}function s(e,t){return a({},e,t)}function u(e,t,r,n,a,u){var l=e.path||"";if("/"===l.charAt(0)&&(r=t.pathname,n=[],a=[]),null!==r){var h=p.matchPattern(l,r);if(r=h.remainingPathname,n=[].concat(n,h.paramNames),a=[].concat(a,h.paramValues),""===r&&e.path){var d=function(){var r={routes:[e],params:s(n,a)};return o(e,t,function(e,t){if(e)u(e);else{if(Array.isArray(t)){var n;(n=r.routes).push.apply(n,t)}else t&&r.routes.push(t);u(null,r)}}),{v:void 0}}();if("object"==typeof d)return d.v}}if(null!=r||e.childRoutes){var f=function(i,o){i?u(i):o?c(o,t,function(t,r){t?u(t):r?(r.routes.unshift(e),u(null,r)):u()},r,n,a):u()},m=i(e,t,f);m&&f.apply(void 0,m)}else u()}function c(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?t.pathname:arguments[3],i=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],o=arguments.length<=5||void 0===arguments[5]?[]:arguments[5];return function(){h.loopAsync(e.length,function(r,a,s){u(e[r],t,n,i,o,function(e,t){e||t?s(e,t):a()})},r)}()}t.__esModule=!0;var l=r(22),h=(n(l),r(161)),p=r(71),d=r(46);t["default"]=c,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e){return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=t.routes,n=i(t,["routes"]),o=u["default"](e)(n),s=l["default"](o,r);return a({},o,s)}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(101),u=n(s),c=r(163),l=n(c),h=r(22);n(h);t["default"]=o,e.exports=t["default"]},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;s=c=u=void 0,n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,r=a,n=!0}},s=r(4),u=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e){return!!e.shouldUpdate}},{key:"render",value:function(){var e=this.props.children;return null===e||e===!1?null:s.Children.only(e)}}]),t}(s.Component);e.exports=u},function(e,t,r){"use strict";var n=r(25),i=r(172),o=r(223),a={componentDidMount:function(){this.props.autoFocus&&o(i(this))}},s={Mixin:a,focusDOMComponent:function(){o(n.getNode(this._rootNodeID))}};e.exports=s},function(e,t,r){"use strict";function n(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case T.topCompositionStart:return R.compositionStart;case T.topCompositionEnd:return R.compositionEnd;case T.topCompositionUpdate:return R.compositionUpdate}}function a(e,t){return e===T.topKeyDown&&t.keyCode===x}function s(e,t){switch(e){case T.topKeyUp:return-1!==_.indexOf(t.keyCode);case T.topKeyDown:return t.keyCode!==x;case T.topKeyPress:case T.topMouseDown:case T.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,r,n,i){var c,l;if(w?c=o(e):P?s(e,n)&&(c=R.compositionEnd):a(e,n)&&(c=R.compositionStart),!c)return null;C&&(P||c!==R.compositionStart?c===R.compositionEnd&&P&&(l=P.getData()):P=v.getPooled(t));var h=g.getPooled(c,r,n,i);if(l)h.data=l;else{var p=u(n);null!==p&&(h.data=p)}return f.accumulateTwoPhaseDispatches(h),h}function l(e,t){switch(e){case T.topCompositionEnd:return u(t);case T.topKeyPress:var r=t.which;return r!==M?null:(O=!0,A);case T.topTextInput:var n=t.data;return n===A&&O?null:n;default:return null}}function h(e,t){if(P){if(e===T.topCompositionEnd||s(e,t)){var r=P.getData();return v.release(P),P=null,r}return null}switch(e){case T.topPaste:return null;case T.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case T.topCompositionEnd:return C?null:t.data;default:return null}}function p(e,t,r,n,i){var o;if(o=S?l(e,n):h(e,n),!o)return null;var a=y.getPooled(R.beforeInput,r,n,i);return a.data=o,f.accumulateTwoPhaseDispatches(a),a}var d=r(41),f=r(86),m=r(19),v=r(552),g=r(582),y=r(585),b=r(40),_=[9,13,27,32],x=229,w=m.canUseDOM&&"CompositionEvent"in window,E=null;m.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var S=m.canUseDOM&&"TextEvent"in window&&!E&&!n(),C=m.canUseDOM&&(!w||E&&E>8&&11>=E),M=32,A=String.fromCharCode(M),T=d.topLevelTypes,R={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[T.topCompositionEnd,T.topKeyPress,T.topTextInput,T.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[T.topBlur,T.topCompositionEnd,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[T.topBlur,T.topCompositionStart,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[T.topBlur,T.topCompositionUpdate,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]}},O=!1,P=null,D={eventTypes:R,extractEvents:function(e,t,r,n,i){return[c(e,t,r,n,i),p(e,t,r,n,i)]}};e.exports=D},function(e,t,r){"use strict";var n=r(276),i=r(19),o=r(34),a=(r(389),r(590)),s=r(394),u=r(398),c=(r(8),u(function(e){return s(e)})),l=!1,h="cssFloat";if(i.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(d){l=!0}void 0===document.documentElement.style.cssFloat&&(h="styleFloat")}var f={createMarkupForStyles:function(e){var t="";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];null!=n&&(t+=c(r)+":",t+=a(r,n)+";")}return t||null},setValueForStyles:function(e,t){var r=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=a(i,t[i]);if("float"===i&&(i=h),o)r[i]=o;else{var s=l&&n.shorthandPropertyExpansions[i];if(s)for(var u in s)r[u]="";else r[i]=""}}}};o.measureMethods(f,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),e.exports=f},function(e,t,r){"use strict";function n(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=E.getPooled(R.change,P,e,S(e));_.accumulateTwoPhaseDispatches(t),w.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){O=e,P=t,O.attachEvent("onchange",i)}function s(){O&&(O.detachEvent("onchange",i),O=null,P=null)}function u(e,t,r){return e===T.topChange?r:void 0}function c(e,t,r){e===T.topFocus?(s(),a(t,r)):e===T.topBlur&&s()}function l(e,t){O=e,P=t,D=e.value,I=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(O,"value",L),O.attachEvent("onpropertychange",p)}function h(){O&&(delete O.value,O.detachEvent("onpropertychange",p),O=null,P=null,D=null,I=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==D&&(D=t,i(e))}}function d(e,t,r){return e===T.topInput?r:void 0}function f(e,t,r){e===T.topFocus?(h(),l(t,r)):e===T.topBlur&&h()}function m(e,t,r){return e!==T.topSelectionChange&&e!==T.topKeyUp&&e!==T.topKeyDown||!O||O.value===D?void 0:(D=O.value,P)}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t,r){return e===T.topClick?r:void 0}var y=r(41),b=r(85),_=r(86),x=r(19),w=r(35),E=r(58),S=r(175),C=r(178),M=r(303),A=r(40),T=y.topLevelTypes,R={change:{phasedRegistrationNames:{bubbled:A({onChange:null}),captured:A({onChangeCapture:null})},dependencies:[T.topBlur,T.topChange,T.topClick,T.topFocus,T.topInput,T.topKeyDown,T.topKeyUp,T.topSelectionChange]}},O=null,P=null,D=null,I=null,N=!1;x.canUseDOM&&(N=C("change")&&(!("documentMode"in document)||document.documentMode>8));var k=!1;x.canUseDOM&&(k=C("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return I.get.call(this)},set:function(e){D=""+e,I.set.call(this,e)}},F={eventTypes:R,extractEvents:function(e,t,r,i,o){var a,s;if(n(t)?N?a=u:s=c:M(t)?k?a=d:(a=m,s=f):v(t)&&(a=g),a){var l=a(e,t,r);if(l){var h=E.getPooled(R.change,l,i,o);return h.type="change",_.accumulateTwoPhaseDispatches(h),h}}s&&s(e,t,r)}};e.exports=F},function(e,t){"use strict";var r=0,n={createReactRootIndex:function(){return r++}};e.exports=n},function(e,t,r){"use strict";function n(e){return e.substring(1,e.indexOf(" "))}var i=r(19),o=r(391),a=r(37),s=r(225),u=r(6),c=/^(<[^ \/>]+)/,l="data-danger-index",h={dangerouslyRenderMarkup:function(e){i.canUseDOM?void 0:u(!1);for(var t,r={},h=0;h<e.length;h++)e[h]?void 0:u(!1),t=n(e[h]),t=s(t)?t:"*",r[t]=r[t]||[],r[t][h]=e[h];var p=[],d=0;for(t in r)if(r.hasOwnProperty(t)){var f,m=r[t];for(f in m)if(m.hasOwnProperty(f)){var v=m[f];m[f]=v.replace(c,"$1 "+l+'="'+f+'" ')}for(var g=o(m.join(""),a),y=0;y<g.length;++y){var b=g[y];b.hasAttribute&&b.hasAttribute(l)&&(f=+b.getAttribute(l),b.removeAttribute(l),p.hasOwnProperty(f)?u(!1):void 0,p[f]=b,d+=1)}}return d!==p.length?u(!1):void 0,p.length!==e.length?u(!1):void 0,p},dangerouslyReplaceNodeWithMarkup:function(e,t){i.canUseDOM?void 0:u(!1),t?void 0:u(!1),"html"===e.tagName.toLowerCase()?u(!1):void 0;var r;r="string"==typeof t?o(t,a)[0]:t,e.parentNode.replaceChild(r,e)}};e.exports=h},function(e,t,r){"use strict";var n=r(40),i=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null})];e.exports=i},function(e,t,r){"use strict";var n=r(41),i=r(86),o=r(115),a=r(25),s=r(40),u=n.topLevelTypes,c=a.getFirstReactDOM,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},h=[null,null],p={eventTypes:l,extractEvents:function(e,t,r,n,s){if(e===u.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var p;if(t.window===t)p=t;else{var d=t.ownerDocument;p=d?d.defaultView||d.parentWindow:window}var f,m,v="",g="";if(e===u.topMouseOut?(f=t,v=r,m=c(n.relatedTarget||n.toElement),m?g=a.getID(m):m=p,m=m||p):(f=p,m=t,g=r),f===m)return null;var y=o.getPooled(l.mouseLeave,v,n,s);y.type="mouseleave",y.target=f,y.relatedTarget=m;var b=o.getPooled(l.mouseEnter,g,n,s);return b.type="mouseenter",b.target=m,b.relatedTarget=f,i.accumulateEnterLeaveDispatches(y,b,v,g),h[0]=y,h[1]=b,h}};e.exports=p},function(e,t,r){"use strict";function n(e){return e===v.topMouseUp||e===v.topTouchEnd||e===v.topTouchCancel}function i(e){return e===v.topMouseMove||e===v.topTouchMove}function o(e){return e===v.topMouseDown||e===v.topTouchStart}function a(e,t,r,n){var i=e.type||"unknown-event";e.currentTarget=m.Mount.getNode(n),t?d.invokeGuardedCallbackWithCatch(i,r,e,n):d.invokeGuardedCallback(i,r,e,n),e.currentTarget=null}function s(e,t){var r=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(r))for(var i=0;i<r.length&&!e.isPropagationStopped();i++)a(e,t,r[i],n[i]);else r&&a(e,t,r,n);e._dispatchListeners=null,e._dispatchIDs=null}function u(e){var t=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(t)){for(var n=0;n<t.length&&!e.isPropagationStopped();n++)if(t[n](e,r[n]))return r[n]}else if(t&&t(e,r))return r;return null}function c(e){var t=u(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function l(e){var t=e._dispatchListeners,r=e._dispatchIDs;Array.isArray(t)?f(!1):void 0;var n=t?t(e,r):null;return e._dispatchListeners=null,e._dispatchIDs=null,n}function h(e){return!!e._dispatchListeners}var p=r(41),d=r(291),f=r(6),m=(r(8),{Mount:null,injectMount:function(e){m.Mount=e}}),v=p.topLevelTypes,g={isEndish:n,isMoveish:i,isStartish:o,executeDirectDispatch:l,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,getNode:function(e){return m.Mount.getNode(e)},getID:function(e){return m.Mount.getID(e)},injection:m};e.exports=g},function(e,t,r){"use strict";function n(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=r(48),o=r(7),a=r(302);o(n.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,r=this._startText,n=r.length,i=this.getText(),o=i.length;for(e=0;n>e&&r[e]===i[e];e++);var a=n-e;for(t=1;a>=t&&r[n-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),i.addPoolingTo(n),e.exports=n},function(e,t,r){"use strict";var n,i=r(72),o=r(19),a=i.injection.MUST_USE_ATTRIBUTE,s=i.injection.MUST_USE_PROPERTY,u=i.injection.HAS_BOOLEAN_VALUE,c=i.injection.HAS_SIDE_EFFECTS,l=i.injection.HAS_NUMERIC_VALUE,h=i.injection.HAS_POSITIVE_NUMERIC_VALUE,p=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var d=document.implementation;n=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|u,allowTransparency:a,alt:null,async:u,autoComplete:null,autoPlay:u,capture:a|u,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:s|u,classID:a,className:n?a:s,cols:a|h,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|u,coords:null,crossOrigin:null,data:null,dateTime:a,"default":u,defer:u,dir:null,disabled:a|u,download:p,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:u,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,lang:null,list:a,loop:s|u,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:s|u,muted:s|u,name:null,nonce:a,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|u,rel:null,required:u,reversed:u,role:a,rows:a|h,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:a|u,selected:s|u,shape:null,size:a|h,sizes:a,span:h,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:a,start:l,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|c,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,"typeof":a,vocab:a,autoCapitalize:a,autoCorrect:a,autoSave:null,color:null,itemProp:a,itemScope:a|u,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=f},function(e,t,r){"use strict";var n=r(282),i=r(564),o=r(569),a=r(7),s=r(591),u={};a(u,o),a(u,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",n,n.findDOMNode),render:s("render","ReactDOM","react-dom",n,n.render),unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",n,n.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",i,i.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",i,i.renderToStaticMarkup)}),u.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n,u.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,e.exports=u},function(e,t,r){"use strict";var n=(r(87),r(172)),i=(r(8),"_getDOMNodeDidWarn"),o={getDOMNode:function(){return this.constructor[i]=!0,n(this)}};e.exports=o},function(e,t,r){"use strict";function n(e,t,r){var n=void 0===e[r];null!=t&&n&&(e[r]=o(t,null))}var i=r(57),o=r(177),a=r(180),s=r(181),u=(r(8),{instantiateChildren:function(e,t,r){if(null==e)return null;var i={};return s(e,n,i),i},updateChildren:function(e,t,r,n){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var u=e&&e[s],c=u&&u._currentElement,l=t[s];if(null!=u&&a(c,l))i.receiveComponent(u,l,r,n),t[s]=u;else{u&&i.unmountComponent(u,s);var h=o(l,null);t[s]=h}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||i.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];i.unmountComponent(r)}}});e.exports=u},function(e,t,r){"use strict";function n(e){var t=e._currentElement._owner||null;if(t){var r=t.getName();if(r)return" Check the render method of `"+r+"`."}return""}function i(e){}var o=r(168),a=r(42),s=r(29),u=r(87),c=r(34),l=r(114),h=(r(113),r(57)),p=r(170),d=r(7),f=r(79),m=r(6),v=r(180);r(8);i.prototype.render=function(){var e=u.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var g=1,y={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,
this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,r){this._context=r,this._mountOrder=g++,this._rootNodeID=e;var n,o,a=this._processProps(this._currentElement.props),c=this._processContext(r),l=this._currentElement.type,d="prototype"in l;d&&(n=new l(a,c,p)),(!d||null===n||n===!1||s.isValidElement(n))&&(o=n,n=new i(l)),n.props=a,n.context=c,n.refs=f,n.updater=p,this._instance=n,u.set(n,this);var v=n.state;void 0===v&&(n.state=v=null),"object"!=typeof v||Array.isArray(v)?m(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,n.componentWillMount&&(n.componentWillMount(),this._pendingStateQueue&&(n.state=this._processPendingState(n.props,n.context))),void 0===o&&(o=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(o);var y=h.mountComponent(this._renderedComponent,e,t,this._processChildContext(r));return n.componentDidMount&&t.getReactMountReady().enqueue(n.componentDidMount,n),y},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),h.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,u.remove(e)},_maskContext:function(e){var t=null,r=this._currentElement.type,n=r.contextTypes;if(!n)return f;t={};for(var i in n)t[i]=e[i];return t},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,r=this._instance,n=r.getChildContext&&r.getChildContext();if(n){"object"!=typeof t.childContextTypes?m(!1):void 0;for(var i in n)i in t.childContextTypes?void 0:m(!1);return d({},e,n)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,r){var i=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]?m(!1):void 0,a=e[o](t,o,i,r)}catch(s){a=s}if(a instanceof Error){n(this);r===l.prop}}},receiveComponent:function(e,t,r){var n=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,n,e,i,r)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&h.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,r,n,i){var o,a=this._instance,s=this._context===i?a.context:this._processContext(i);t===r?o=r.props:(o=this._processProps(r.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(o,s));var u=this._processPendingState(o,s),c=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(o,u,s);c?(this._pendingForceUpdate=!1,this._performComponentUpdate(r,o,u,s,e,i)):(this._currentElement=r,this._context=i,a.props=o,a.state=u,a.context=s)},_processPendingState:function(e,t){var r=this._instance,n=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!n)return r.state;if(i&&1===n.length)return n[0];for(var o=d({},i?n[0]:r.state),a=i?1:0;a<n.length;a++){var s=n[a];d(o,"function"==typeof s?s.call(r,o,e,t):s)}return o},_performComponentUpdate:function(e,t,r,n,i,o){var a,s,u,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(a=c.props,s=c.state,u=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,r,n),this._currentElement=e,this._context=o,c.props=t,c.state=r,c.context=n,this._updateRenderedComponent(i,o),l&&i.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,s,u),c)},_updateRenderedComponent:function(e,t){var r=this._renderedComponent,n=r._currentElement,i=this._renderValidatedComponent();if(v(n,i))h.receiveComponent(r,i,e,this._processChildContext(t));else{var o=this._rootNodeID,a=r._rootNodeID;h.unmountComponent(r),this._renderedComponent=this._instantiateReactComponent(i);var s=h.mountComponent(this._renderedComponent,o,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(e,t){o.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;a.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===e||e===!1||s.isValidElement(e)?void 0:m(!1),e},attachRef:function(e,t){var r=this.getPublicInstance();null==r?m(!1):void 0;var n=t.getPublicInstance(),i=r.refs===f?r.refs={}:r.refs;i[e]=n},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof i?null:e},_instantiateReactComponent:null};c.measureMethods(y,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var b={Mixin:y};e.exports=b},function(e,t){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},n={getNativeProps:function(e,t,n){if(!t.disabled)return t;var i={};for(var o in t)t.hasOwnProperty(o)&&!r[o]&&(i[o]=t[o]);return i}};e.exports=n},function(e,t,r){"use strict";function n(){return this}function i(){var e=this._reactInternalComponent;return!!e}function o(){}function a(e,t){var r=this._reactInternalComponent;r&&(D.enqueueSetPropsInternal(r,e),t&&D.enqueueCallbackInternal(r,t))}function s(e,t){var r=this._reactInternalComponent;r&&(D.enqueueReplacePropsInternal(r,e),t&&D.enqueueCallbackInternal(r,t))}function u(e,t){t&&(null!=t.dangerouslySetInnerHTML&&(null!=t.children?L(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&q in t.dangerouslySetInnerHTML?void 0:L(!1)),null!=t.style&&"object"!=typeof t.style?L(!1):void 0)}function c(e,t,r,n){var i=R.findReactContainerForID(e);if(i){var o=i.nodeType===Q?i.ownerDocument:i;V(t,o)}n.getReactMountReady().enqueue(l,{id:e,registrationName:t,listener:r})}function l(){var e=this;w.putListener(e.id,e.registrationName,e.listener)}function h(){var e=this;e._rootNodeID?void 0:L(!1);var t=R.getNode(e._rootNodeID);switch(t?void 0:L(!1),e._tag){case"iframe":e._wrapperState.listeners=[w.trapBubbledEvent(x.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var r in X)X.hasOwnProperty(r)&&e._wrapperState.listeners.push(w.trapBubbledEvent(x.topLevelTypes[r],X[r],t));break;case"img":e._wrapperState.listeners=[w.trapBubbledEvent(x.topLevelTypes.topError,"error",t),w.trapBubbledEvent(x.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[w.trapBubbledEvent(x.topLevelTypes.topReset,"reset",t),w.trapBubbledEvent(x.topLevelTypes.topSubmit,"submit",t)]}}function p(){C.mountReadyWrapper(this)}function d(){A.postUpdateWrapper(this)}function f(e){$.call(J,e)||(Z.test(e)?void 0:L(!1),J[e]=!0)}function m(e,t){return e.indexOf("-")>=0||null!=t.is}function v(e){f(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var g=r(543),y=r(545),b=r(72),_=r(165),x=r(41),w=r(112),E=r(167),S=r(558),C=r(561),M=r(562),A=r(284),T=r(565),R=r(25),O=r(570),P=r(34),D=r(170),I=r(7),N=r(117),k=r(118),L=r(6),F=(r(178),r(40)),j=r(119),U=r(179),B=(r(226),r(182),r(8),w.deleteListener),V=w.listenTo,z=w.registrationNameModules,H={string:!0,number:!0},G=F({children:null}),W=F({style:null}),q=F({__html:null}),Q=1,X={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Y={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},K={listing:!0,pre:!0,textarea:!0},Z=(I({menuitem:!0},Y),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),J={},$={}.hasOwnProperty;v.displayName="ReactDOMComponent",v.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,r){this._rootNodeID=e;var n=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(h,this);break;case"button":n=S.getNativeProps(this,n,r);break;case"input":C.mountWrapper(this,n,r),n=C.getNativeProps(this,n,r);break;case"option":M.mountWrapper(this,n,r),n=M.getNativeProps(this,n,r);break;case"select":A.mountWrapper(this,n,r),n=A.getNativeProps(this,n,r),r=A.processChildContext(this,n,r);break;case"textarea":T.mountWrapper(this,n,r),n=T.getNativeProps(this,n,r)}u(this,n);var i;if(t.useCreateElement){var o=r[R.ownerDocumentContextKey],a=o.createElement(this._currentElement.type);_.setAttributeForID(a,this._rootNodeID),R.getID(a),this._updateDOMProperties({},n,t,a),this._createInitialChildren(t,n,r,a),i=a}else{var s=this._createOpenTagMarkupAndPutListeners(t,n),c=this._createContentMarkup(t,n,r);i=!c&&Y[this._tag]?s+"/>":s+">"+c+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(p,this);case"button":case"select":case"textarea":n.autoFocus&&t.getReactMountReady().enqueue(g.focusDOMComponent,this)}return i},_createOpenTagMarkupAndPutListeners:function(e,t){var r="<"+this._currentElement.type;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(null!=i)if(z.hasOwnProperty(n))i&&c(this._rootNodeID,n,i,e);else{n===W&&(i&&(i=this._previousStyleCopy=I({},t.style)),i=y.createMarkupForStyles(i));var o=null;null!=this._tag&&m(this._tag,t)?n!==G&&(o=_.createMarkupForCustomAttribute(n,i)):o=_.createMarkupForProperty(n,i),o&&(r+=" "+o)}}if(e.renderToStaticMarkup)return r;var a=_.createMarkupForID(this._rootNodeID);return r+" "+a},_createContentMarkup:function(e,t,r){var n="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(n=i.__html);else{var o=H[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)n=k(o);else if(null!=a){var s=this.mountChildren(a,e,r);n=s.join("")}}return K[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(e,t,r,n){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&j(n,i.__html);else{var o=H[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)U(n,o);else if(null!=a)for(var s=this.mountChildren(a,e,r),u=0;u<s.length;u++)n.appendChild(s[u])}},receiveComponent:function(e,t,r){var n=this._currentElement;this._currentElement=e,this.updateComponent(t,n,e,r)},updateComponent:function(e,t,r,n){var i=t.props,o=this._currentElement.props;switch(this._tag){case"button":i=S.getNativeProps(this,i),o=S.getNativeProps(this,o);break;case"input":C.updateWrapper(this),i=C.getNativeProps(this,i),o=C.getNativeProps(this,o);break;case"option":i=M.getNativeProps(this,i),o=M.getNativeProps(this,o);break;case"select":i=A.getNativeProps(this,i),o=A.getNativeProps(this,o);break;case"textarea":T.updateWrapper(this),i=T.getNativeProps(this,i),o=T.getNativeProps(this,o)}u(this,o),this._updateDOMProperties(i,o,e,null),this._updateDOMChildren(i,o,e,n),!N&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=o),"select"===this._tag&&e.getReactMountReady().enqueue(d,this)},_updateDOMProperties:function(e,t,r,n){var i,o,a;for(i in e)if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i))if(i===W){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else z.hasOwnProperty(i)?e[i]&&B(this._rootNodeID,i):(b.properties[i]||b.isCustomAttribute(i))&&(n||(n=R.getNode(this._rootNodeID)),_.deleteValueForProperty(n,i));for(i in t){var u=t[i],l=i===W?this._previousStyleCopy:e[i];if(t.hasOwnProperty(i)&&u!==l)if(i===W)if(u?u=this._previousStyleCopy=I({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else z.hasOwnProperty(i)?u?c(this._rootNodeID,i,u,r):l&&B(this._rootNodeID,i):m(this._tag,t)?(n||(n=R.getNode(this._rootNodeID)),i===G&&(u=null),_.setValueForAttribute(n,i,u)):(b.properties[i]||b.isCustomAttribute(i))&&(n||(n=R.getNode(this._rootNodeID)),null!=u?_.setValueForProperty(n,i,u):_.deleteValueForProperty(n,i))}a&&(n||(n=R.getNode(this._rootNodeID)),y.setValueForStyles(n,a))},_updateDOMChildren:function(e,t,r,n){var i=H[typeof e.children]?e.children:null,o=H[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=i?null:e.children,c=null!=o?null:t.children,l=null!=i||null!=a,h=null!=o||null!=s;null!=u&&null==c?this.updateChildren(null,r,n):l&&!h&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,r,n)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":C.unmountWrapper(this);break;case"html":case"head":case"body":L(!1)}if(this.unmountChildren(),w.deleteAllListeners(this._rootNodeID),E.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var r=this._nodeWithLegacyProperties;r._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=R.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=n,e.isMounted=i,e.setState=o,e.replaceState=o,e.forceUpdate=o,e.setProps=a,e.replaceProps=s,e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},P.measureMethods(v,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),I(v.prototype,v.Mixin,O.Mixin),e.exports=v},function(e,t,r){"use strict";function n(e){return i.createFactory(e)}var i=r(29),o=(r(288),r(397)),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},n);e.exports=a},function(e,t,r){"use strict";function n(){this._rootNodeID&&p.updateWrapper(this)}function i(e){var t=this._currentElement.props,r=a.executeOnChange(t,e);u.asap(n,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=s.getNode(this._rootNodeID),c=o;c.parentNode;)c=c.parentNode;for(var p=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),d=0;d<p.length;d++){var f=p[d];if(f!==o&&f.form===o.form){var m=s.getID(f);m?void 0:l(!1);var v=h[m];v?void 0:l(!1),u.asap(n,v)}}}return r}var o=r(169),a=r(166),s=r(25),u=r(35),c=r(7),l=r(6),h={},p={getNativeProps:function(e,t,r){var n=a.getValue(t),i=a.getChecked(t),o=c({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=i?i:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var r=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=r?r:null,onChange:i.bind(e)}},mountReadyWrapper:function(e){h[e._rootNodeID]=e},unmountWrapper:function(e){delete h[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,r=t.checked;null!=r&&o.updatePropertyByID(e._rootNodeID,"checked",r||!1);var n=a.getValue(t);null!=n&&o.updatePropertyByID(e._rootNodeID,"value",""+n)}};e.exports=p},function(e,t,r){"use strict";var n=r(279),i=r(284),o=r(7),a=(r(8),i.valueContextKey),s={mountWrapper:function(e,t,r){var n=r[a],i=null;if(null!=n)if(i=!1,Array.isArray(n)){for(var o=0;o<n.length;o++)if(""+n[o]==""+t.value){i=!0;break}}else i=""+n==""+t.value;e._wrapperState={selected:i}},getNativeProps:function(e,t,r){var i=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(i.selected=e._wrapperState.selected);var a="";return n.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e)&&(a+=e)}),a&&(i.children=a),i}};e.exports=s},function(e,t,r){"use strict";function n(e,t,r,n){return e===r&&t===n}function i(e){var t=document.selection,r=t.createRange(),n=r.text.length,i=r.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",r);var o=i.text.length,a=o+n;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var r=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var c=n(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=c?0:s.toString().length,h=s.cloneRange();h.selectNodeContents(e),h.setEnd(s.startContainer,s.startOffset);var p=n(h.startContainer,h.startOffset,h.endContainer,h.endOffset),d=p?0:h.toString().length,f=d+l,m=document.createRange();m.setStart(r,i),m.setEnd(o,a);var v=m.collapsed;return{start:v?f:d,end:v?d:f}}function a(e,t){var r,n,i=document.selection.createRange().duplicate();"undefined"==typeof t.end?(r=t.start,n=r):t.start>t.end?(r=t.end,n=t.start):(r=t.start,n=t.end),i.moveToElementText(e),i.moveStart("character",r),i.setEndPoint("EndToStart",i),i.moveEnd("character",n-r),i.select()}function s(e,t){if(window.getSelection){var r=window.getSelection(),n=e[l()].length,i=Math.min(t.start,n),o="undefined"==typeof t.end?i:Math.min(t.end,n);if(!r.extend&&i>o){var a=o;o=i,i=a}var s=c(e,i),u=c(e,o);if(s&&u){var h=document.createRange();h.setStart(s.node,s.offset),r.removeAllRanges(),i>o?(r.addRange(h),r.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),r.addRange(h))}}}var u=r(19),c=r(594),l=r(302),h=u.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:h?i:o,setOffsets:h?a:s};e.exports=p},function(e,t,r){"use strict";var n=r(287),i=r(575),o=r(171);n.inject();var a={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:o};e.exports=a},function(e,t,r){"use strict";function n(){this._rootNodeID&&l.updateWrapper(this)}function i(e){var t=this._currentElement.props,r=o.executeOnChange(t,e);return s.asap(n,this),r}var o=r(166),a=r(169),s=r(35),u=r(7),c=r(6),l=(r(8),{getNativeProps:function(e,t,r){null!=t.dangerouslySetInnerHTML?c(!1):void 0;var n=u({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var r=t.defaultValue,n=t.children;null!=n&&(null!=r?c(!1):void 0,Array.isArray(n)&&(n.length<=1?void 0:c(!1),n=n[0]),r=""+n),null==r&&(r="");var a=o.getValue(t);e._wrapperState={initialValue:""+(null!=a?a:r),onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,r=o.getValue(t);null!=r&&a.updatePropertyByID(e._rootNodeID,"value",""+r)}});e.exports=l},function(e,t,r){"use strict";function n(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=r(85),o={handleTopLevel:function(e,t,r,o,a){var s=i.extractEvents(e,t,r,o,a);n(s)}};e.exports=o},function(e,t,r){"use strict";function n(e){var t=p.getID(e),r=h.getReactRootIDFromNodeID(t),n=p.findReactContainerForID(r),i=p.getFirstReactDOM(n);return i}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){a(e)}function a(e){for(var t=p.getFirstReactDOM(m(e.nativeEvent))||window,r=t;r;)e.ancestors.push(r),r=n(r);for(var i=0;i<e.ancestors.length;i++){t=e.ancestors[i];var o=p.getID(t)||"";g._handleTopLevel(e.topLevelType,t,o,e.nativeEvent,m(e.nativeEvent))}}function s(e){var t=v(window);e(t)}var u=r(221),c=r(19),l=r(48),h=r(73),p=r(25),d=r(35),f=r(7),m=r(175),v=r(392);f(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,r){var n=r;return n?u.listen(n,t,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,r){var n=r;return n?u.capture(n,t,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(g._enabled){var r=i.getPooled(e,t);try{d.batchedUpdates(o,r)}finally{i.release(r)}}}};e.exports=g},function(e,t,r){"use strict";var n=r(72),i=r(85),o=r(168),a=r(280),s=r(289),u=r(112),c=r(295),l=r(34),h=r(298),p=r(35),d={Component:o.injection,Class:a.injection,DOMProperty:n.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventEmitter:u.injection,NativeComponent:c.injection,Perf:l.injection,RootIndex:h.injection,Updates:p.injection};e.exports=d},function(e,t,r){"use strict";var n=r(279),i=r(281),o=r(280),a=r(560),s=r(29),u=(r(288),r(297)),c=r(171),l=r(7),h=r(595),p=s.createElement,d=s.createFactory,f=s.cloneElement,m={Children:{map:n.map,forEach:n.forEach,count:n.count,toArray:n.toArray,only:h},Component:i,createElement:p,cloneElement:f,isValidElement:s.isValidElement,PropTypes:u,createClass:o.createClass,createFactory:d,createMixin:function(e){return e},DOM:a,version:c,__spread:l};e.exports=m},function(e,t,r){"use strict";function n(e,t,r){v.push({parentID:e,parentNode:null,type:h.INSERT_MARKUP,markupIndex:g.push(t)-1,content:null,fromIndex:null,toIndex:r})}function i(e,t,r){v.push({parentID:e,parentNode:null,type:h.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:r})}function o(e,t){v.push({parentID:e,parentNode:null,type:h.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function a(e,t){v.push({parentID:e,parentNode:null,type:h.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(e,t){v.push({parentID:e,parentNode:null,type:h.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function u(){v.length&&(l.processChildrenUpdates(v,g),c())}function c(){v.length=0,g.length=0}var l=r(168),h=r(294),p=(r(42),r(57)),d=r(556),f=r(592),m=0,v=[],g=[],y={Mixin:{_reconcilerInstantiateChildren:function(e,t,r){return d.instantiateChildren(e,t,r)},_reconcilerUpdateChildren:function(e,t,r,n){var i;return i=f(t),d.updateChildren(e,i,r,n)},mountChildren:function(e,t,r){var n=this._reconcilerInstantiateChildren(e,t,r);this._renderedChildren=n;var i=[],o=0;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=this._rootNodeID+a,c=p.mountComponent(s,u,t,r);s._mountIndex=o++,i.push(c)}return i},updateTextContent:function(e){m++;var t=!0;try{var r=this._renderedChildren;d.unmountChildren(r);for(var n in r)r.hasOwnProperty(n)&&this._unmountChild(r[n]);this.setTextContent(e),t=!1}finally{m--,m||(t?c():u())}},updateMarkup:function(e){m++;var t=!0;try{var r=this._renderedChildren;d.unmountChildren(r);for(var n in r)r.hasOwnProperty(n)&&this._unmountChildByName(r[n],n);this.setMarkup(e),t=!1}finally{m--,m||(t?c():u())}},updateChildren:function(e,t,r){m++;var n=!0;try{this._updateChildren(e,t,r),n=!1}finally{m--,m||(n?c():u())}},_updateChildren:function(e,t,r){var n=this._renderedChildren,i=this._reconcilerUpdateChildren(n,e,t,r);if(this._renderedChildren=i,i||n){var o,a=0,s=0;for(o in i)if(i.hasOwnProperty(o)){var u=n&&n[o],c=i[o];u===c?(this.moveChild(u,s,a),a=Math.max(u._mountIndex,a),u._mountIndex=s):(u&&(a=Math.max(u._mountIndex,a),this._unmountChild(u)),this._mountChildByNameAtIndex(c,o,s,t,r)),s++}for(o in n)!n.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||this._unmountChild(n[o])}},unmountChildren:function(){var e=this._renderedChildren;d.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,r){e._mountIndex<r&&i(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){n(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){o(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},setMarkup:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,r,n,i){var o=this._rootNodeID+t,a=p.mountComponent(e,o,n,i);e._mountIndex=r,this.createChild(e,a)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};e.exports=y},function(e,t,r){"use strict";var n=r(6),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,r){i.isValidOwner(r)?void 0:n(!1),r.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,r){i.isValidOwner(r)?void 0:n(!1),r.getPublicInstance().refs[t]===e.getPublicInstance()&&r.detachRef(t)}};e.exports=i},function(e,t,r){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=!e&&s.useCreateElement}var i=r(164),o=r(48),a=r(112),s=r(283),u=r(292),c=r(116),l=r(7),h={initialize:u.getSelectionInformation,close:u.restoreSelection},p={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[h,p,d],m={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};l(n.prototype,c.Mixin,m),o.addPoolingTo(n),e.exports=n},function(e,t,r){"use strict";function n(e,t,r){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,r)}function i(e,t,r){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,r)}var o=r(571),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var r=t.ref;null!=r&&n(r,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var r=null===e||e===!1,n=null===t||t===!1;return r||n||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var r=t.ref;null!=r&&i(r,e,t._owner)}},e.exports=a},function(e,t){"use strict";var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=r},function(e,t,r){"use strict";function n(e){a.isValidElement(e)?void 0:f(!1);var t;try{h.injection.injectBatchingStrategy(c);var r=s.createReactRootID();return t=l.getPooled(!1),t.perform(function(){var n=d(e,null),i=n.mountComponent(r,t,p);return u.addChecksumToMarkup(i)},null)}finally{l.release(t),h.injection.injectBatchingStrategy(o)}}function i(e){a.isValidElement(e)?void 0:f(!1);var t;try{h.injection.injectBatchingStrategy(c);var r=s.createReactRootID();return t=l.getPooled(!0),t.perform(function(){var n=d(e,null);return n.mountComponent(r,t,p)},null)}finally{l.release(t),h.injection.injectBatchingStrategy(o)}}var o=r(286),a=r(29),s=r(73),u=r(293),c=r(574),l=r(576),h=r(35),p=r(79),d=r(177),f=r(6);e.exports={renderToString:n,renderToStaticMarkup:i}},function(e,t,r){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.useCreateElement=!1}var i=r(48),o=r(164),a=r(116),s=r(7),u=r(37),c={initialize:function(){this.reactMountReady.reset()},close:u},l=[c],h={getTransactionWrappers:function(){return l},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};s(n.prototype,a.Mixin,h),i.addPoolingTo(n),e.exports=n},function(e,t,r){"use strict";var n=r(72),i=n.injection.MUST_USE_ATTRIBUTE,o={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,xlinkActuate:i,xlinkArcrole:i,xlinkHref:i,xlinkRole:i,xlinkShow:i,xlinkTitle:i,xlinkType:i,xmlBase:i,xmlLang:i,xmlSpace:i,y1:i,y2:i,y:i},DOMAttributeNamespaces:{xlinkActuate:o.xlink,xlinkArcrole:o.xlink,xlinkHref:o.xlink,xlinkRole:o.xlink,xlinkShow:o.xlink,xlinkTitle:o.xlink,xlinkType:o.xlink,xmlBase:o.xml,xmlLang:o.xml,xmlSpace:o.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};e.exports=a},function(e,t,r){"use strict";function n(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var r=document.selection.createRange();return{parentElement:r.parentElement(),text:r.text,top:r.boundingTop,left:r.boundingLeft}}}function i(e,t){if(_||null==g||g!==l())return null;var r=n(g);if(!b||!d(b,r)){b=r;var i=c.getPooled(v.select,y,e,t);return i.type="select",
i.target=g,a.accumulateTwoPhaseDispatches(i),i}return null}var o=r(41),a=r(86),s=r(19),u=r(292),c=r(58),l=r(224),h=r(303),p=r(40),d=r(226),f=o.topLevelTypes,m=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,v={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},g=null,y=null,b=null,_=!1,x=!1,w=p({onSelect:null}),E={eventTypes:v,extractEvents:function(e,t,r,n,o){if(!x)return null;switch(e){case f.topFocus:(h(t)||"true"===t.contentEditable)&&(g=t,y=r,b=null);break;case f.topBlur:g=null,y=null,b=null;break;case f.topMouseDown:_=!0;break;case f.topContextMenu:case f.topMouseUp:return _=!1,i(n,o);case f.topSelectionChange:if(m)break;case f.topKeyDown:case f.topKeyUp:return i(n,o)}return null},didPutListener:function(e,t,r){t===w&&(x=!0)}};e.exports=E},function(e,t){"use strict";var r=Math.pow(2,53),n={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};e.exports=n},function(e,t,r){"use strict";var n=r(41),i=r(221),o=r(86),a=r(25),s=r(581),u=r(58),c=r(584),l=r(586),h=r(115),p=r(583),d=r(587),f=r(88),m=r(588),v=r(37),g=r(173),y=r(6),b=r(40),_=n.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},w={topAbort:x.abort,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var E in w)w[E].dependencies=[E];var S=b({onClick:null}),C={},M={eventTypes:x,extractEvents:function(e,t,r,n,i){var a=w[e];if(!a)return null;var v;switch(e){case _.topAbort:case _.topCanPlay:case _.topCanPlayThrough:case _.topDurationChange:case _.topEmptied:case _.topEncrypted:case _.topEnded:case _.topError:case _.topInput:case _.topLoad:case _.topLoadedData:case _.topLoadedMetadata:case _.topLoadStart:case _.topPause:case _.topPlay:case _.topPlaying:case _.topProgress:case _.topRateChange:case _.topReset:case _.topSeeked:case _.topSeeking:case _.topStalled:case _.topSubmit:case _.topSuspend:case _.topTimeUpdate:case _.topVolumeChange:case _.topWaiting:v=u;break;case _.topKeyPress:if(0===g(n))return null;case _.topKeyDown:case _.topKeyUp:v=l;break;case _.topBlur:case _.topFocus:v=c;break;case _.topClick:if(2===n.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:v=h;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:v=p;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:v=d;break;case _.topScroll:v=f;break;case _.topWheel:v=m;break;case _.topCopy:case _.topCut:case _.topPaste:v=s}v?void 0:y(!1);var b=v.getPooled(a,r,n,i);return o.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,r){if(t===S){var n=a.getNode(e);C[e]||(C[e]=i.listen(n,"click",v))}},willDeleteListener:function(e,t){t===S&&(C[e].remove(),delete C[e])}};e.exports=M},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(58),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(n,o),e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(58),o={data:null};i.augmentClass(n,o),e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(115),o={dataTransfer:null};i.augmentClass(n,o),e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(88),o={relatedTarget:null};i.augmentClass(n,o),e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(58),o={data:null};i.augmentClass(n,o),e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(88),o=r(173),a=r(593),s=r(174),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(n,u),e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(88),o=r(174),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(n,a),e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(115),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(n,o),e.exports=n},function(e,t){"use strict";function r(e){for(var t=1,r=0,i=0,o=e.length,a=-4&o;a>i;){for(;i<Math.min(i+4096,a);i+=4)r+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=n,r%=n}for(;o>i;i++)r+=t+=e.charCodeAt(i);return t%=n,r%=n,t|r<<16}var n=65521;e.exports=r},function(e,t,r){"use strict";function n(e,t){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var n=isNaN(t);return n||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=r(276),o=i.isUnitlessNumber;e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,i){return i}r(7),r(8);e.exports=n},function(e,t,r){"use strict";function n(e,t,r){var n=e,i=void 0===n[r];i&&null!=t&&(n[r]=t)}function i(e){if(null==e)return e;var t={};return o(e,n,t),t}var o=r(181);r(8);e.exports=i},function(e,t,r){"use strict";function n(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var r=i(e);return 13===r?"Enter":String.fromCharCode(r)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=r(173),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=n},function(e,t){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function n(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=r(e),o=0,a=0;i;){if(3===i.nodeType){if(a=o+i.textContent.length,t>=o&&a>=t)return{node:i,offset:t-o};o=a}i=r(n(i))}}e.exports=i},function(e,t,r){"use strict";function n(e){return i.isValidElement(e)?void 0:o(!1),e}var i=r(29),o=r(6);e.exports=n},function(e,t,r){"use strict";function n(e){return'"'+i(e)+'"'}var i=r(118);e.exports=n},function(e,t,r){"use strict";var n=r(25);e.exports=n.renderSubtreeIntoContainer},function(e,t,r){"use strict";function n(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?a(new e.constructor,e):e}function i(e,t,r){Array.isArray(e)?void 0:u(!1);var n=t[r];Array.isArray(n)?void 0:u(!1)}function o(e,t){if("object"!=typeof t?u(!1):void 0,c.call(t,d))return 1!==Object.keys(t).length?u(!1):void 0,t[d];var r=n(e);if(c.call(t,f)){var s=t[f];s&&"object"==typeof s?void 0:u(!1),r&&"object"==typeof r?void 0:u(!1),a(r,t[f])}c.call(t,l)&&(i(e,t,l),t[l].forEach(function(e){r.push(e)})),c.call(t,h)&&(i(e,t,h),t[h].forEach(function(e){r.unshift(e)})),c.call(t,p)&&(Array.isArray(e)?void 0:u(!1),Array.isArray(t[p])?void 0:u(!1),t[p].forEach(function(e){Array.isArray(e)?void 0:u(!1),r.splice.apply(r,e)})),c.call(t,m)&&("function"!=typeof t[m]?u(!1):void 0,r=t[m](r));for(var v in t)g.hasOwnProperty(v)&&g[v]||(r[v]=o(e[v],t[v]));return r}var a=r(7),s=r(40),u=r(6),c={}.hasOwnProperty,l=s({$push:null}),h=s({$unshift:null}),p=s({$splice:null}),d=s({$set:null}),f=s({$merge:null}),m=s({$apply:null}),v=[l,h,p,d,f,m],g={};v.forEach(function(e){g[e]=!0}),e.exports=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(2),o=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return n(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(i.Subscriber);t.InnerSubscriber=o},function(e,t){"use strict";t.empty={isUnsubscribed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,r){"use strict";var n=r(1),i=r(706);n.Observable.bindCallback=i.BoundCallbackObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(707);n.Observable.bindNodeCallback=i.BoundNodeCallbackObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(186);n.Observable.combineLatest=i.combineLatestStatic},function(e,t,r){"use strict";var n=r(1),i=r(187);n.Observable.concat=i.concatStatic},function(e,t,r){"use strict";var n=r(1),i=r(708);n.Observable.defer=i.DeferObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(50);n.Observable.empty=i.EmptyObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(710);n.Observable.forkJoin=i.ForkJoinObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(713);n.Observable.from=i.FromObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(49);n.Observable.fromArray=i.ArrayObservable.create,n.Observable.of=i.ArrayObservable.of},function(e,t,r){"use strict";var n=r(1),i=r(711);n.Observable.fromEvent=i.FromEventObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(712);n.Observable.fromEventPattern=i.FromEventPatternObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(184);n.Observable.fromPromise=i.PromiseObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(714);n.Observable.interval=i.IntervalObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(308);n.Observable.merge=i.mergeStatic},function(e,t,r){"use strict";var n=r(1),i=r(716);n.Observable.never=i.NeverObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(312);n.Observable.race=i.raceStatic},function(e,t,r){"use strict";var n=r(1),i=r(717);n.Observable.range=i.RangeObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(709);n.Observable["throw"]=i.ErrorObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(719);n.Observable.timer=i.TimerObservable.create},function(e,t,r){"use strict";var n=r(1),i=r(189);n.Observable.zip=i.zipStatic},function(e,t,r){"use strict";var n=r(1),i=r(720);n.Observable.prototype.buffer=i.buffer},function(e,t,r){"use strict";var n=r(1),i=r(721);n.Observable.prototype.bufferCount=i.bufferCount},function(e,t,r){"use strict";var n=r(1),i=r(722);n.Observable.prototype.bufferTime=i.bufferTime},function(e,t,r){"use strict";var n=r(1),i=r(723);n.Observable.prototype.bufferToggle=i.bufferToggle},function(e,t,r){"use strict";var n=r(1),i=r(724);n.Observable.prototype.bufferWhen=i.bufferWhen},function(e,t,r){"use strict";var n=r(1),i=r(725);n.Observable.prototype.cache=i.cache},function(e,t,r){"use strict";var n=r(1),i=r(726);n.Observable.prototype["catch"]=i._catch},function(e,t,r){"use strict";var n=r(1),i=r(727);n.Observable.prototype.combineAll=i.combineAll},function(e,t,r){"use strict";var n=r(1),i=r(186);n.Observable.prototype.combineLatest=i.combineLatest},function(e,t,r){"use strict";var n=r(1),i=r(187);n.Observable.prototype.concat=i.concat},function(e,t,r){"use strict";var n=r(1),i=r(728);n.Observable.prototype.concatAll=i.concatAll},function(e,t,r){"use strict";var n=r(1),i=r(729);n.Observable.prototype.concatMap=i.concatMap},function(e,t,r){"use strict";var n=r(1),i=r(730);n.Observable.prototype.concatMapTo=i.concatMapTo},function(e,t,r){"use strict";var n=r(1),i=r(731);n.Observable.prototype.count=i.count},function(e,t,r){"use strict";var n=r(1),i=r(732);n.Observable.prototype.debounce=i.debounce},function(e,t,r){"use strict";var n=r(1),i=r(733);n.Observable.prototype.debounceTime=i.debounceTime},function(e,t,r){"use strict";var n=r(1),i=r(734);n.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},function(e,t,r){"use strict";var n=r(1),i=r(735);n.Observable.prototype.delay=i.delay},function(e,t,r){"use strict";var n=r(1),i=r(736);n.Observable.prototype.delayWhen=i.delayWhen},function(e,t,r){"use strict";var n=r(1),i=r(737);n.Observable.prototype.dematerialize=i.dematerialize},function(e,t,r){"use strict";var n=r(1),i=r(738);n.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(e,t,r){"use strict";var n=r(1),i=r(739);n.Observable.prototype["do"]=i._do},function(e,t,r){"use strict";var n=r(1),i=r(740);n.Observable.prototype.every=i.every},function(e,t,r){"use strict";var n=r(1),i=r(741);n.Observable.prototype.expand=i.expand},function(e,t,r){"use strict";var n=r(1),i=r(306);n.Observable.prototype.filter=i.filter},function(e,t,r){"use strict";var n=r(1),i=r(742);n.Observable.prototype["finally"]=i._finally},function(e,t,r){"use strict";var n=r(1),i=r(743);n.Observable.prototype.first=i.first},function(e,t,r){"use strict";var n=r(1),i=r(744);n.Observable.prototype.groupBy=i.groupBy},function(e,t,r){"use strict";var n=r(1),i=r(745);n.Observable.prototype.ignoreElements=i.ignoreElements},function(e,t,r){"use strict";var n=r(1),i=r(746);n.Observable.prototype.inspect=i.inspect},function(e,t,r){"use strict";var n=r(1),i=r(747);n.Observable.prototype.inspectTime=i.inspectTime},function(e,t,r){"use strict";var n=r(1),i=r(748);n.Observable.prototype.last=i.last},function(e,t,r){"use strict";var n=r(1),i=r(749);n.Observable.prototype.let=i.letProto,n.Observable.prototype.letBind=i.letProto},function(e,t,r){"use strict";var n=r(1),i=r(307);n.Observable.prototype.map=i.map},function(e,t,r){"use strict";var n=r(1),i=r(750);n.Observable.prototype.mapTo=i.mapTo},function(e,t,r){"use strict";var n=r(1),i=r(751);n.Observable.prototype.materialize=i.materialize},function(e,t,r){"use strict";var n=r(1),i=r(308);n.Observable.prototype.merge=i.merge},function(e,t,r){"use strict";var n=r(1),i=r(121);n.Observable.prototype.mergeAll=i.mergeAll},function(e,t,r){"use strict";var n=r(1),i=r(309);n.Observable.prototype.mergeMap=i.mergeMap,n.Observable.prototype.flatMap=i.mergeMap},function(e,t,r){"use strict";var n=r(1),i=r(310);n.Observable.prototype.mergeMapTo=i.mergeMapTo},function(e,t,r){"use strict";var n=r(1),i=r(74);n.Observable.prototype.multicast=i.multicast},function(e,t,r){"use strict";var n=r(1),i=r(188);n.Observable.prototype.observeOn=i.observeOn},function(e,t,r){"use strict";var n=r(1),i=r(752);n.Observable.prototype.partition=i.partition},function(e,t,r){"use strict";var n=r(1),i=r(753);n.Observable.prototype.pluck=i.pluck},function(e,t,r){"use strict";var n=r(1),i=r(754);n.Observable.prototype.publish=i.publish},function(e,t,r){"use strict";var n=r(1),i=r(755);n.Observable.prototype.publishBehavior=i.publishBehavior},function(e,t,r){"use strict";var n=r(1),i=r(756);n.Observable.prototype.publishLast=i.publishLast},function(e,t,r){"use strict";var n=r(1),i=r(311);n.Observable.prototype.publishReplay=i.publishReplay},function(e,t,r){"use strict";var n=r(1),i=r(312);n.Observable.prototype.race=i.race},function(e,t,r){"use strict";var n=r(1),i=r(757);n.Observable.prototype.reduce=i.reduce},function(e,t,r){"use strict";var n=r(1),i=r(758);n.Observable.prototype.repeat=i.repeat},function(e,t,r){"use strict";var n=r(1),i=r(759);n.Observable.prototype.retry=i.retry},function(e,t,r){"use strict";var n=r(1),i=r(760);n.Observable.prototype.retryWhen=i.retryWhen},function(e,t,r){"use strict";var n=r(1),i=r(761);n.Observable.prototype.sample=i.sample},function(e,t,r){"use strict";var n=r(1),i=r(762);n.Observable.prototype.sampleTime=i.sampleTime},function(e,t,r){"use strict";var n=r(1),i=r(763);n.Observable.prototype.scan=i.scan},function(e,t,r){"use strict";var n=r(1),i=r(764);n.Observable.prototype.share=i.share},function(e,t,r){"use strict";var n=r(1),i=r(765);n.Observable.prototype.single=i.single},function(e,t,r){"use strict";var n=r(1),i=r(766);n.Observable.prototype.skip=i.skip},function(e,t,r){"use strict";var n=r(1),i=r(767);n.Observable.prototype.skipUntil=i.skipUntil},function(e,t,r){"use strict";var n=r(1),i=r(768);n.Observable.prototype.skipWhile=i.skipWhile},function(e,t,r){"use strict";var n=r(1),i=r(769);n.Observable.prototype.startWith=i.startWith},function(e,t,r){"use strict";var n=r(1),i=r(770);n.Observable.prototype.subscribeOn=i.subscribeOn},function(e,t,r){"use strict";var n=r(1),i=r(771);n.Observable.prototype["switch"]=i._switch},function(e,t,r){"use strict";var n=r(1),i=r(772);n.Observable.prototype.switchMap=i.switchMap},function(e,t,r){"use strict";var n=r(1),i=r(773);n.Observable.prototype.switchMapTo=i.switchMapTo},function(e,t,r){"use strict";var n=r(1),i=r(774);n.Observable.prototype.take=i.take},function(e,t,r){"use strict";var n=r(1),i=r(775);n.Observable.prototype.takeLast=i.takeLast},function(e,t,r){"use strict";var n=r(1),i=r(776);n.Observable.prototype.takeUntil=i.takeUntil},function(e,t,r){"use strict";var n=r(1),i=r(777);n.Observable.prototype.takeWhile=i.takeWhile},function(e,t,r){"use strict";var n=r(1),i=r(778);n.Observable.prototype.throttle=i.throttle},function(e,t,r){"use strict";var n=r(1),i=r(779);n.Observable.prototype.throttleTime=i.throttleTime},function(e,t,r){"use strict";var n=r(1),i=r(780);n.Observable.prototype.timeout=i.timeout},function(e,t,r){"use strict";var n=r(1),i=r(781);n.Observable.prototype.timeoutWith=i.timeoutWith},function(e,t,r){"use strict";var n=r(1),i=r(782);n.Observable.prototype.toArray=i.toArray},function(e,t,r){"use strict";var n=r(1),i=r(783);n.Observable.prototype.toPromise=i.toPromise},function(e,t,r){"use strict";var n=r(1),i=r(784);n.Observable.prototype.window=i.window},function(e,t,r){"use strict";var n=r(1),i=r(785);n.Observable.prototype.windowCount=i.windowCount},function(e,t,r){"use strict";var n=r(1),i=r(786);n.Observable.prototype.windowTime=i.windowTime},function(e,t,r){"use strict";var n=r(1),i=r(787);n.Observable.prototype.windowToggle=i.windowToggle},function(e,t,r){"use strict";var n=r(1),i=r(788);n.Observable.prototype.windowWhen=i.windowWhen},function(e,t,r){"use strict";var n=r(1),i=r(789);n.Observable.prototype.withLatestFrom=i.withLatestFrom},function(e,t,r){"use strict";var n=r(1),i=r(189);n.Observable.prototype.zip=i.zipProto},function(e,t,r){"use strict";var n=r(1),i=r(790);n.Observable.prototype.zipAll=i.zipAll},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=r(185),a=r(50),s=function(e){function t(t,r,n,i){e.call(this),this.arrayLike=t,this.scheduler=i,r||i||1!==t.length||(this._isScalar=!0,this.value=t[0]),r&&(this.mapFn=r.bind(n))}return n(t,e),t.create=function(e,r,n,i){var s=e.length;return 0===s?new a.EmptyObservable:1!==s||r?new t(e,r,n,i):new o.ScalarObservable(e[0],i)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,n=e.length,i=e.mapFn,o=e.subscriber;if(!o.isUnsubscribed){if(r>=n)return void o.complete();var a=i?i(t[r],r):t[r];o.next(a),e.index=r+1,this.schedule(e)}},t.prototype._subscribe=function(e){var r=0,n=this,i=n.arrayLike,o=n.mapFn,a=n.scheduler,s=i.length;if(a)return a.schedule(t.dispatch,0,{arrayLike:i,index:r,length:s,mapFn:o,subscriber:e});for(var u=0;s>u&&!e.isUnsubscribed;u++){var c=o?o(i[u],u):i[u];e.next(c)}e.complete()},t}(i.Observable);t.ArrayLikeObservable=s},function(e,t,r){"use strict";function n(e){var t=this,r=e.source,n=e.subscriber,a=r.callbackFunc,s=r.args,h=r.scheduler,p=r.subject;if(!p){p=r.subject=new l.AsyncSubject;var d=function m(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=m.source,a=n.selector,s=n.subject;if(a){var l=u.tryCatch(a).apply(this,e);l===c.errorObject?t.add(h.schedule(o,0,{err:c.errorObject.e,subject:s})):t.add(h.schedule(i,0,{value:l,subject:s}))}else{var p=1===e.length?e[0]:e;t.add(h.schedule(i,0,{value:p,subject:s}))}};d.source=r;var f=u.tryCatch(a).apply(this,s.concat(d));f===c.errorObject&&p.error(c.errorObject.e)}t.add(p.subscribe(n))}function i(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function o(e){var t=e.err,r=e.subject;r.error(t)}var a=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=r(1),u=r(18),c=r(14),l=r(122),h=function(e){function t(t,r,n,i){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.scheduler=i}return a(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,n)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(n,0,{source:this,subscriber:e});if(!o){o=this.subject=new l.AsyncSubject;var a=function h(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=h.source,n=r.selector,i=r.subject;if(n){var o=u.tryCatch(n).apply(this,e);o===c.errorObject?i.error(c.errorObject.e):(i.next(o),i.complete())}else i.next(1===e.length?e[0]:e),i.complete()};a.source=this;var s=u.tryCatch(t).apply(this,r.concat(a));s===c.errorObject&&o.error(c.errorObject.e)}return o.subscribe(e)},t}(s.Observable);t.BoundCallbackObservable=h},function(e,t,r){"use strict";function n(e){var t=this,r=e.source,n=e.subscriber,a=r.callbackFunc,s=r.args,h=r.scheduler,p=r.subject;if(!p){p=r.subject=new l.AsyncSubject;var d=function m(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=m.source,a=n.selector,s=n.subject,l=e.shift();if(l)s.error(l);else if(a){var p=u.tryCatch(a).apply(this,e);p===c.errorObject?t.add(h.schedule(o,0,{err:c.errorObject.e,subject:s})):t.add(h.schedule(i,0,{value:p,subject:s}))}else{var d=1===e.length?e[0]:e;t.add(h.schedule(i,0,{value:d,subject:s}))}};d.source=r;var f=u.tryCatch(a).apply(this,s.concat(d));f===c.errorObject&&p.error(c.errorObject.e)}t.add(p.subscribe(n))}function i(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function o(e){var t=e.err,r=e.subject;r.error(t)}var a=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=r(1),u=r(18),c=r(14),l=r(122),h=function(e){function t(t,r,n,i){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.scheduler=i}return a(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,n)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(n,0,{source:this,subscriber:e});if(!o){o=this.subject=new l.AsyncSubject;var a=function h(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=h.source,n=r.selector,i=r.subject,o=e.shift();if(o)i.error(o);else if(n){var a=u.tryCatch(n).apply(this,e);a===c.errorObject?i.error(c.errorObject.e):(i.next(a),i.complete())}else i.next(1===e.length?e[0]:e),i.complete()};a.source=this;var s=u.tryCatch(t).apply(this,r.concat(a));s===c.errorObject&&o.error(c.errorObject.e)}return o.subscribe(e)},t}(s.Observable);t.BoundNodeCallbackObservable=h},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=r(18),a=r(14),s=function(e){function t(t){e.call(this),this.observableFactory=t}return n(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){var t=o.tryCatch(this.observableFactory)();t===a.errorObject?e.error(a.errorObject.e):t.subscribe(e)},t}(i.Observable);t.DeferObservable=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=function(e){function t(t,r){e.call(this),this.error=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.error,r=e.subscriber;r.error(t)},t.prototype._subscribe=function(e){var r=this.error,n=this.scheduler;return n?n.schedule(t.dispatch,0,{error:r,subscriber:e}):void e.error(r)},t}(i.Observable);t.ErrorObservable=o},function(e,t,r){"use strict";function n(e){return null!==e}function i(e){for(var t=[],r=0;e>r;r++)t.push(null);return t}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,
new r)},a=r(1),s=r(2),u=r(184),c=r(50),l=r(194),h=r(51),p=function(e){function t(t,r){e.call(this),this.sources=t,this.resultSelector=r}return o(t,e),t.create=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(null===e||0===arguments.length)return new c.EmptyObservable;var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&h.isArray(e[0])&&(e=e[0]),0===e.length?new c.EmptyObservable:new t(e,n)},t.prototype._subscribe=function(e){for(var t=this.sources,r=t.length,n={completed:0,total:r,values:i(r),selector:this.resultSelector},o=0;r>o;o++){var a=t[o];l.isPromise(a)&&(a=new u.PromiseObservable(a)),a.subscribe(new d(e,o,n))}},t}(a.Observable);t.ForkJoinObservable=p;var d=function(e){function t(t,r,n){e.call(this,t),this.index=r,this.context=n,this._value=null}return o(t,e),t.prototype._next=function(e){this._value=e},t.prototype._complete=function(){var e=this.destination;null==this._value&&e.complete();var t=this.context;t.completed++,t.values[this.index]=this._value;var r=t.values;if(t.completed===r.length){if(r.every(n)){var i=t.selector?t.selector.apply(this,r):r;e.next(i)}e.complete()}},t}(s.Subscriber)},function(e,t,r){"use strict";function n(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function i(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}function o(e){return!!e&&"[object NodeList]"===e.toString()}function a(e){return!!e&&"[object HTMLCollection]"===e.toString()}function s(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}var u=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},c=r(1),l=r(18),h=r(14),p=r(31),d=function(e){function t(t,r,n){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=n}return u(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.setupSubscription=function(e,r,u,c){var l;if(o(e)||a(e))for(var h=0,d=e.length;d>h;h++)t.setupSubscription(e[h],r,u,c);else s(e)?(e.addEventListener(r,u),l=function(){return e.removeEventListener(r,u)}):i(e)?(e.on(r,u),l=function(){return e.off(r,u)}):n(e)&&(e.addListener(r,u),l=function(){return e.removeListener(r,u)});c.add(new p.Subscription(l))},t.prototype._subscribe=function(e){var r=this.sourceObj,n=this.eventName,i=this.selector,o=i?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=l.tryCatch(i).apply(void 0,t);n===h.errorObject?e.error(h.errorObject.e):e.next(n)}:function(t){return e.next(t)};t.setupSubscription(r,n,o,e)},t}(c.Observable);t.FromEventObservable=d},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=r(31),a=r(18),s=r(14),u=function(e){function t(t,r,n){e.call(this),this.addHandler=t,this.removeHandler=r,this.selector=n}return n(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this.addHandler,r=this.removeHandler,n=this.selector,i=n?function(t){var r=a.tryCatch(n).apply(null,arguments);r===s.errorObject?e.error(r.e):e.next(r)}:function(t){e.next(t)},u=a.tryCatch(t)(i);u===s.errorObject&&e.error(u.e),e.add(new o.Subscription(function(){r(i)}))},t}(i.Observable);t.FromEventPatternObservable=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(51),o=r(126),a=r(194),s=r(59),u=r(184),c=r(715),l=r(49),h=r(705),p=r(75),d=r(1),f=r(188),m=function(e){return e&&"number"==typeof e.length},v=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return n(t,e),t.create=function(e,r,n,f){var v=null,g=null;if(o.isFunction(r)?(v=f||null,g=r):s.isScheduler(v)&&(v=r),null!=e){if("function"==typeof e[p.SymbolShim.observable])return e instanceof d.Observable&&!v?e:new t(e,v);if(i.isArray(e))return new l.ArrayObservable(e,v);if(a.isPromise(e))return new u.PromiseObservable(e,v);if("function"==typeof e[p.SymbolShim.iterator]||"string"==typeof e)return new c.IteratorObservable(e,null,null,v);if(m(e))return new h.ArrayLikeObservable(e,g,n,v)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[p.SymbolShim.observable]().subscribe(e):t[p.SymbolShim.observable]().subscribe(new f.ObserveOnSubscriber(e,r,0))},t}(d.Observable);t.FromObservable=v},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(193),o=r(1),a=r(32),s=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=a.asap),e.call(this),this.period=t,this.scheduler=r,(!i.isNumeric(t)||0>t)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=a.asap)}return n(t,e),t.create=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=a.asap),new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.subscriber,n=e.period;r.next(t),r.isUnsubscribed||(e.index+=1,this.schedule(e,n))},t.prototype._subscribe=function(e){var r=0,n=this.period,i=this.scheduler;e.add(i.schedule(t.dispatch,n,{index:r,subscriber:e,period:n}))},t}(o.Observable);t.IntervalObservable=s},function(e,t,r){"use strict";function n(e){var t=e[d.SymbolShim.iterator];if(!t&&"string"==typeof e)return new v(e);if(!t&&void 0!==e.length)return new g(e);if(!t)throw new TypeError("Object is not iterable");return e[d.SymbolShim.iterator]()}function i(e){var t=+e.length;return isNaN(t)?0:0!==t&&o(t)?(t=a(t)*Math.floor(Math.abs(t)),0>=t?0:t>y?y:t):t}function o(e){return"number"==typeof e&&u.root.isFinite(e)}function a(e){var t=+e;return 0===t?t:isNaN(t)?t:0>t?-1:1}var s=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},u=r(43),c=r(317),l=r(18),h=r(1),p=r(126),d=r(75),f=r(14),m=function(e){function t(t,r,i,o){if(e.call(this),null==t)throw new Error("iterator cannot be null.");if(c.isObject(r))this.thisArg=r,this.scheduler=i;else if(p.isFunction(r))this.project=r,this.thisArg=i,this.scheduler=o;else if(null!=r)throw new Error("When provided, `project` must be a function.");this.iterator=n(t)}return s(t,e),t.create=function(e,r,n,i){return new t(e,r,n,i)},t.dispatch=function(e){var t=e.index,r=e.hasError,n=e.thisArg,i=e.project,o=e.iterator,a=e.subscriber;if(r)return void a.error(e.error);var s=o.next();return s.done?void a.complete():(i?(s=l.tryCatch(i).call(n,s.value,t),s===f.errorObject?(e.error=f.errorObject.e,e.hasError=!0):(a.next(s),e.index=t+1)):(a.next(s.value),e.index=t+1),void(a.isUnsubscribed||this.schedule(e)))},t.prototype._subscribe=function(e){var r=0,n=this,i=n.iterator,o=n.project,a=n.thisArg,s=n.scheduler;if(s)return s.schedule(t.dispatch,0,{index:r,thisArg:a,project:o,iterator:i,subscriber:e});for(;;){var u=i.next();if(u.done){e.complete();break}if(o){if(u=l.tryCatch(o).call(a,u.value,r++),u===f.errorObject){e.error(f.errorObject.e);break}e.next(u)}else e.next(u.value);if(e.isUnsubscribed)break}},t}(h.Observable);t.IteratorObservable=m;var v=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[d.SymbolShim.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),g=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=i(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[d.SymbolShim.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),y=Math.pow(2,53)-1},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=r(195),a=function(e){function t(){e.call(this)}return n(t,e),t.create=function(){return new t},t.prototype._subscribe=function(e){o.noop()},t}(i.Observable);t.NeverObservable=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=function(e){function t(t,r,n){e.call(this),this.start=t,this.end=r,this.scheduler=n}return n(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),void 0===r&&(r=0),new t(e,r,n)},t.dispatch=function(e){var t=e.start,r=e.index,n=e.end,i=e.subscriber;return r>=n?void i.complete():(i.next(t),void(i.isUnsubscribed||(e.index=r+1,e.start=t+1,this.schedule(e))))},t.prototype._subscribe=function(e){var r=0,n=this.start,i=this.end,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:r,end:i,start:n,subscriber:e});for(;;){if(r++>=i){e.complete();break}if(e.next(n++),e.isUnsubscribed)break}},t}(i.Observable);t.RangeObservable=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),o=r(32),a=r(193),s=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=o.asap),e.call(this),this.source=t,this.delayTime=r,this.scheduler=n,(!a.isNumeric(r)||0>r)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=o.asap)}return n(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=o.asap),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return t.subscribe(r)},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source,i=this.scheduler;return i.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(i.Observable);t.SubscribeOnObservable=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(193),o=r(1),a=r(32),s=r(59),u=r(125),c=function(e){function t(t,r,n){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,i.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):s.isScheduler(r)&&(n=r),s.isScheduler(n)||(n=a.asap),this.scheduler=n,this.dueTime=u.isDate(t)?+t-this.scheduler.now():t}return n(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),new t(e,r,n)},t.dispatch=function(e){var t=e.index,r=e.period,n=e.subscriber,i=this;if(n.next(t),!n.isUnsubscribed){if(-1===r)return n.complete();e.index=t+1,i.schedule(e,r)}},t.prototype._subscribe=function(e){var r=0,n=this,i=n.period,o=n.dueTime,a=n.scheduler;return a.schedule(t.dispatch,o,{index:r,period:i,subscriber:e})},t}(o.Observable);t.TimerObservable=c},function(e,t,r){"use strict";function n(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.buffer=n;var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e){return new u(e,this.closingNotifier)},e}(),u=function(e){function t(t,r){e.call(this,t),this.buffer=[],this.add(a.subscribeToResult(this,r))}return i(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(o.OuterSubscriber)},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=null),this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.bufferCount=n;var a=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t}return e.prototype.call=function(e){return new s(e,this.bufferSize,this.startBufferEvery)},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[[]],this.count=0}return i(t,e),t.prototype._next=function(e){var t=this.count+=1,r=this.destination,n=this.bufferSize,i=null==this.startBufferEvery?n:this.startBufferEvery,o=this.buffers,a=o.length,s=-1;t%i===0&&o.push([]);for(var u=0;a>u;u++){var c=o[u];c.push(e),c.length===n&&(s=u,r.next(c))}-1!==s&&o.splice(s,1)},t.prototype._complete=function(){for(var t=this.destination,r=this.buffers;r.length>0;){var n=r.shift();n.length>0&&t.next(n)}e.prototype._complete.call(this)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=c.asap),this.lift(new l(e,t,r))}function i(e){var t=e.subscriber,r=e.buffer;r&&t.closeBuffer(r),e.buffer=t.openBuffer(),t.isUnsubscribed||this.schedule(e,e.bufferTimeSpan)}function o(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,o=n.openBuffer(),s=this;n.isUnsubscribed||(s.add(i.schedule(a,r,{subscriber:n,buffer:o})),s.schedule(e,t))}function a(e){var t=e.subscriber,r=e.buffer;t.closeBuffer(r)}var s=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},u=r(2),c=r(32);t.bufferTime=n;var l=function(){function e(e,t,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.scheduler=r}return e.prototype.call=function(e){return new h(e,this.bufferTimeSpan,this.bufferCreationInterval,this.scheduler)},e}(),h=function(e){function t(t,r,n,s){e.call(this,t),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.scheduler=s,this.buffers=[];var u=this.openBuffer();if(null!==n&&n>=0){var c={subscriber:this,buffer:u},l={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:s};this.add(s.schedule(a,r,c)),this.add(s.schedule(o,n,l))}else{var h={subscriber:this,buffer:u,bufferTimeSpan:r};this.add(s.schedule(i,r,h))}}return s(t,e),t.prototype._next=function(e){for(var t=this.buffers,r=t.length,n=0;r>n;n++)t[n].push(e)},t.prototype._error=function(t){this.buffers.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this,r=t.buffers,n=t.destination;r.length>0;)n.next(r.shift());e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffers=null},t.prototype.openBuffer=function(){var e=[];return this.buffers.push(e),e},t.prototype.closeBuffer=function(e){this.destination.next(e);var t=this.buffers;t.splice(t.indexOf(e),1)},t}(u.Subscriber)},function(e,t,r){"use strict";function n(e,t){return this.lift(new c(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(31),s=r(18),u=r(14);t.bufferToggle=n;var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e){return new l(e,this.openings,this.closingSelector)},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openings.subscribe(new h(this)))}return i(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;r>n;n++)t[n].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.openBuffer=function(e){var t=this.closingSelector,r=this.contexts,n=s.tryCatch(t)(e);if(n===u.errorObject)this._error(u.errorObject.e);else{var i={buffer:[],subscription:new a.Subscription};r.push(i);var o=new p(this,i),c=n.subscribe(o);i.subscription.add(c),this.add(c)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(null!==t){var r=e.buffer,n=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(n),n.unsubscribe()}},t}(o.Subscriber),h=function(e){function t(t){e.call(this,null),this.parent=t}return i(t,e),t.prototype._next=function(e){this.parent.openBuffer(e)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){},t}(o.Subscriber),p=function(e){function t(t,r){e.call(this,null),this.parent=t,this.context=r}return i(t,e),t.prototype._next=function(){this.parent.closeBuffer(this.context)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){this.parent.closeBuffer(this.context)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new l(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(31),a=r(18),s=r(14),u=r(9),c=r(10);t.bufferWhen=n;var l=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e){return new h(e,this.closingSelector)},e}(),h=function(e){function t(t,r){e.call(this,t),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return i(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,r,n,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var r=a.tryCatch(this.closingSelector)();r===s.errorObject?this.error(s.errorObject.e):(e=new o.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(c.subscribeToResult(this,r)),this.subscribing=!1)},t}(u.OuterSubscriber)},function(e,t,r){"use strict";function n(e,t,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),i.publishReplay.call(this,e,t,r).refCount()}var i=r(311);t.cache=n},function(e,t,r){"use strict";function n(e){var t=new a(e),r=this.lift(t);return t.caught=r}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t._catch=n;var a=function(){function e(e){this.selector=e}return e.prototype.call=function(e){return new s(e,this.selector,this.caught)},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.selector=r,this.caught=n}return i(t,e),t.prototype.error=function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(e){return void this.destination.error(e)}this._innerSub(t)}},t.prototype._innerSub=function(e){this.unsubscribe(),this.destination.remove(this),e.subscribe(this.destination)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new i.CombineLatestOperator(e))}var i=r(186);t.combineAll=n},function(e,t,r){"use strict";function n(){return this.lift(new i.MergeAllOperator(1))}var i=r(121);t.concatAll=n},function(e,t,r){"use strict";function n(e,t){return this.lift(new i.MergeMapOperator(e,t,1))}var i=r(309);t.concatMap=n},function(e,t,r){"use strict";function n(e,t){return this.lift(new i.MergeMapToOperator(e,t,1))}var i=r(310);t.concatMapTo=n},function(e,t,r){"use strict";function n(e){return this.lift(new a(e,this))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.count=n;var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e){return new s(e,this.predicate,this.source)},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.count=0,this.index=0}return i(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(r){return void this.destination.error(r)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.debounce=n;var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e){return new u(e,this.durationSelector)},e}(),u=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return i(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=a.subscribeToResult(this,t),r.isUnsubscribed||this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(o.OuterSubscriber)},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=s.asap),this.lift(new u(e,t))}function i(e){e.debouncedNext()}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(2),s=r(32);t.debounceTime=n;var u=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e){return new c(e,this.dueTime,this.scheduler)},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(a.Subscriber)},function(e,t,r){"use strict";function n(e){return void 0===e&&(e=null),this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.defaultIfEmpty=n;var a=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e){return new s(e,this.defaultValue)},e}(),s=function(e){function t(t,r){e.call(this,t),this.defaultValue=r,this.isEmpty=!0}return i(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=o.asap);var r=a.isDate(e),n=r?+e-t.now():Math.abs(e);return this.lift(new c(n,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(32),a=r(125),s=r(2),u=r(120);t.delay=n;var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e){return new l(e,this.delay,this.scheduler)},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return i(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,i=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(e,o)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(this.errored!==!0){var t=this.scheduler,r=new h(t.now()+this.delay,e);this.queue.push(r),this.active===!1&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(u.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},t}(s.Subscriber),h=function(){function e(e,t){this.time=e,this.notification=t}return e}()},function(e,t,r){"use strict";function n(e,t){return t?new h(this,t).lift(new c(e)):this.lift(new c(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(1),s=r(9),u=r(10);t.delayWhen=n;var c=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e){return new l(e,this.delayDurationSelector)},e}(),l=function(e){function t(t,r){e.call(this,t),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return i(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),r=null;return-1!==t&&(r=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),r},t.prototype.tryDelay=function(e,t){var r=u.subscribeToResult(this,e,t);this.add(r),this.delayNotifierSubscriptions.push(r),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.OuterSubscriber),h=function(e){function t(t,r){e.call(this),this.source=t,this.subscriptionDelay=r}return i(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new p(e,this.source))},t}(a.Observable),p=function(e){function t(t,r){e.call(this),this.parent=t,this.source=r,this.sourceSubscribed=!1}return i(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(o.Subscriber)},function(e,t,r){"use strict";function n(){return this.lift(new a)}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.dematerialize=n;var a=function(){function e(){}return e.prototype.call=function(e){return new s(e)},e}(),s=function(e){function t(t){e.call(this,t)}return i(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t){return this.lift(new u(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(18),s=r(14);t.distinctUntilChanged=n;var u=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e){return new c(e,this.compare,this.keySelector)},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return i(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=this.keySelector,r=e;if(t&&(r=a.tryCatch(this.keySelector)(e),r===s.errorObject))return this.destination.error(s.errorObject.e);var n=!1;if(this.hasKey){if(n=a.tryCatch(this.compare)(this.key,r),n===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;Boolean(n)===!1&&(this.key=r,this.destination.next(e))},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t,r){var n;return e&&"object"==typeof e?(n=e.next,t=e.error,r=e.complete):n=e,this.lift(new s(n||a.noop,t||a.noop,r||a.noop))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(195);t._do=n;var s=function(){function e(e,t,r){this.next=e,this.error=t,this.complete=r}return e.prototype.call=function(e){return new u(e,this.next,this.error,this.complete)},e}(),u=function(e){function t(t,r,n,i){e.call(this,t),this.__next=r,this.__error=n,this.__complete=i}return i(t,e),t.prototype._next=function(e){try{this.__next(e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this.__error(e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this.__complete()}catch(e){return void this.destination.error(e)}this.destination.complete()},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t){var r=this;return r.lift(new a(e,t,r))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.every=n;var a=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e){return new s(e,this.predicate,this.thisArg,this.source)},e}(),s=function(e){function t(t,r,n,i){e.call(this,t),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return i(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(r){return void this.destination.error(r)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=1>(t||0)?Number.POSITIVE_INFINITY:t,this.lift(new c(e,t,r))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);
e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(18),a=r(14),s=r(9),u=r(10);t.expand=n;var c=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e){return new l(e,this.project,this.concurrent,this.scheduler)},e}();t.ExpandOperator=c;var l=function(e){function t(t,r,n,i){e.call(this,t),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return i(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,i=e.index;t.subscribeToProjection(r,n,i)},t.prototype._next=function(e){var r=this.destination;if(r.isUnsubscribed)return void this._complete();var n=this.index++;if(this.active<this.concurrent){r.next(e);var i=o.tryCatch(this.project)(e,n);if(i===a.errorObject)r.error(a.errorObject.e);else if(this.scheduler){var s={subscriber:this,result:i,value:e,index:n};this.add(this.scheduler.schedule(t.dispatch,0,s))}else this.subscribeToProjection(i,e,n)}else this.buffer.push(e)},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.add(u.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(s.OuterSubscriber);t.ExpandSubscriber=l},function(e,t,r){"use strict";function n(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(31);t._finally=n;var s=function(){function e(e){this.finallySelector=e}return e.prototype.call=function(e){return new u(e,this.finallySelector)},e}(),u=function(e){function t(t,r){e.call(this,t),this.add(new a.Subscription(r))}return i(t,e),t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t,r){return this.lift(new s(e,t,r,this))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(124);t.first=n;var s=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e){return new u(e,this.predicate,this.resultSelector,this.defaultValue,this.source)},e}(),u=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1}return i(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(n){return void this.destination.error(n)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){return this.resultSelector?void this._tryResultSelector(e,t):void this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(n){return void this.destination.error(n)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;t.next(e),t.complete(),this.hasCompleted=!0},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||e.error(new a.EmptyError):(e.next(this.defaultValue),e.complete())},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t,r){return this.lift(new p(this,e,t,r))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(31),s=r(1),u=r(304),c=r(30),l=r(797),h=r(795);t.groupBy=n;var p=function(e){function t(t,r,n,i){e.call(this),this.source=t,this.keySelector=r,this.elementSelector=n,this.durationSelector=i}return i(t,e),t.prototype.call=function(e){return new d(e,this.keySelector,this.elementSelector,this.durationSelector)},t}(u.Operator),d=function(e){function t(t,r,n,i){e.call(this),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0,this.destination=t,this.add(t)}return i(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups="string"==typeof t?new h.FastMap:new l.Map);var n=r.get(t);if(!n){r.set(t,n=new c.Subject);var i=new m(t,n,this);this.durationSelector&&this._selectDuration(t,n),this.destination.next(i)}this.elementSelector?this._selectElement(e,n):this.tryGroupNext(e,n)},t.prototype._selectElement=function(e,t){var r;try{r=this.elementSelector(e)}catch(n){return void this.error(n)}this.tryGroupNext(r,t)},t.prototype._selectDuration=function(e,t){var r;try{r=this.durationSelector(new m(e,t))}catch(n){return void this.error(n)}this.add(r.subscribe(new f(e,t,this)))},t.prototype.tryGroupNext=function(e,t){t.isUnsubscribed||t.next(e)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,r){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups["delete"](e)},t.prototype.unsubscribe=function(){this.isUnsubscribed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(o.Subscriber),f=function(e){function t(t,r,n){e.call(this),this.key=t,this.group=r,this.parent=n}return i(t,e),t.prototype._next=function(e){this.tryComplete()},t.prototype._error=function(e){this.tryError(e)},t.prototype._complete=function(){this.tryComplete()},t.prototype.tryError=function(e){var t=this.group;t.isUnsubscribed||t.error(e),this.parent.removeGroup(this.key)},t.prototype.tryComplete=function(){var e=this.group;e.isUnsubscribed||e.complete(),this.parent.removeGroup(this.key)},t}(o.Subscriber),m=function(e){function t(t,r,n){e.call(this),this.key=t,this.groupSubject=r,this.refCountSubscription=n}return i(t,e),t.prototype._subscribe=function(e){var t=new a.Subscription,r=this,n=r.refCountSubscription,i=r.groupSubject;return n&&!n.isUnsubscribed&&t.add(new v(n)),t.add(i.subscribe(e)),t},t}(s.Observable);t.GroupedObservable=m;var v=function(e){function t(t){e.call(this),this.parent=t,t.count++}return i(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.isUnsubscribed||this.isUnsubscribed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(a.Subscription)},function(e,t,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(195);t.ignoreElements=n;var s=function(){function e(){}return e.prototype.call=function(e){return new u(e)},e}(),u=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype._next=function(e){a.noop()},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new c(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(18),a=r(14),s=r(9),u=r(10);t.inspect=n;var c=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e){return new l(e,this.durationSelector)},e}(),l=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1}return i(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=o.tryCatch(this.durationSelector)(e);t===a.errorObject?this.destination.error(a.errorObject.e):this.add(this.throttled=u.subscribeToResult(this,t))}},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,n=e.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(e,t,r,n){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(s.OuterSubscriber)},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=a.asap),this.lift(new u(e,t))}function i(e){e.clearThrottle()}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(32),s=r(2);t.inspectTime=n;var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e){return new c(e,this.delay,this.scheduler)},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(i,this.delay,this))},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,n=e.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t}(s.Subscriber)},function(e,t,r){"use strict";function n(e,t,r){return this.lift(new s(e,t,r,this))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(124);t.last=n;var s=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e){return new u(e,this.predicate,this.resultSelector,this.defaultValue,this.source)},e}(),u=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return i(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(n){return void this.destination.error(n)}if(r){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(n){return void this.destination.error(n)}this.lastValue=r,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new a.EmptyError)},t}(o.Subscriber)},function(e,t){"use strict";function r(e){return e(this)}t.letProto=r},function(e,t,r){"use strict";function n(e){return this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.mapTo=n;var a=function(){function e(e){this.value=e}return e.prototype.call=function(e){return new s(e,this.value)},e}(),s=function(e){function t(t,r){e.call(this,t),this.value=r}return i(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(120);t.materialize=n;var s=function(){function e(){}return e.prototype.call=function(e){return new u(e)},e}(),u=function(e){function t(t){e.call(this,t)}return i(t,e),t.prototype._next=function(e){this.destination.next(a.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(a.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(a.Notification.createComplete()),e.complete()},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t){return[o.filter.call(this,e),o.filter.call(this,i.not(e,t))]}var i=r(799),o=r(306);t.partition=n},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("List of properties cannot be empty.");return o.map.call(this,i(e,r))}function i(e,t){var r=function(r){for(var n=r,i=0;t>i;i++){var o=n[e[i]];if("undefined"==typeof o)return;n=o}return n};return r}var o=r(307);t.pluck=n},function(e,t,r){"use strict";function n(){return o.multicast.call(this,new i.Subject)}var i=r(30),o=r(74);t.publish=n},function(e,t,r){"use strict";function n(e){return o.multicast.call(this,new i.BehaviorSubject(e))}var i=r(315),o=r(74);t.publishBehavior=n},function(e,t,r){"use strict";function n(){return o.multicast.call(this,new i.AsyncSubject)}var i=r(122),o=r(74);t.publishLast=n},function(e,t,r){"use strict";function n(e,t){return this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.reduce=n;var a=function(){function e(e,t){this.project=e,this.seed=t}return e.prototype.call=function(e){return new s(e,this.project,this.seed)},e}();t.ReduceOperator=a;var s=function(e){function t(t,r,n){e.call(this,t),this.hasValue=!1,this.acc=n,this.project=r,this.hasSeed="undefined"!=typeof n}return i(t,e),t.prototype._next=function(e){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(e):(this.acc=e,this.hasValue=!0)},t.prototype._tryReduce=function(e){var t;try{t=this.project(this.acc,e)}catch(r){return void this.destination.error(r)}this.acc=t},t.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},t}(o.Subscriber);t.ReduceSubscriber=s},function(e,t,r){"use strict";function n(e){return void 0===e&&(e=-1),0===e?new a.EmptyObservable:0>e?this.lift(new s(-1,this)):this.lift(new s(e-1,this))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(50);t.repeat=n;var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e){return new u(e,this.count,this.source)},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return i(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this,r=t.source,n=t.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,r.subscribe(this)}},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return void 0===e&&(e=-1),this.lift(new a(e,this))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.retry=n;var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e){return new s(e,this.count,this.source)},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return i(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,n.subscribe(this)}},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new l(e,this))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(30),a=r(18),s=r(14),u=r(9),c=r(10);t.retryWhen=n;var l=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e){return new h(e,this.notifier,this.source)},e}(),h=function(e){function t(t,r,n){e.call(this,t),this.notifier=r,this.source=n}return i(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new o.Subject,n=a.tryCatch(this.notifier)(r),n===s.errorObject)return e.prototype.error.call(this,s.errorObject.e);i=c.subscribeToResult(this,n)}this.unsubscribe(),this.isUnsubscribed=!1,this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(t)}},t.prototype._unsubscribe=function(){var e=this,t=e.errors,r=e.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,r,n,i){var o=this,a=o.errors,s=o.retries,u=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,this.errors=a,this.retries=s,this.retriesSubscription=u,this.source.subscribe(this)},t}(u.OuterSubscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.sample=n;var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e){return new u(e,this.notifier)},e}(),u=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.add(a.subscribeToResult(this,r))}return i(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(o.OuterSubscriber)},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=s.asap),this.lift(new u(e,t))}function i(e){var t=e.subscriber,r=e.delay;t.notifyNext(),this.schedule(e,r)}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(2),s=r(32);t.sampleTime=n;var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e){return new c(e,this.delay,this.scheduler)},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(i,r,{subscriber:this,delay:r}))}return o(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(a.Subscriber)},function(e,t,r){"use strict";function n(e,t){return this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.scan=n;var a=function(){function e(e,t){this.accumulator=e,this.seed=t}return e.prototype.call=function(e){return new s(e,this.accumulator,this.seed)},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.accumulator=r,this.accumulatorSet=!1,this.seed=n,this.accumulator=r,this.accumulatorSet="undefined"!=typeof n}return i(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.accumulatorSet=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){return this.accumulatorSet?this._tryNext(e):(this.seed=e,void this.destination.next(e))},t.prototype._tryNext=function(e){var t;try{t=this.accumulator(this.seed,e)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(){return new a.Subject}function i(){return o.multicast.call(this,n).refCount()}var o=r(74),a=r(30);t.share=i},function(e,t,r){"use strict";function n(e){return this.lift(new s(e,this))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(124);t.single=n;var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e){return new u(e,this.predicate,this.source)},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return i(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.predicate;this.index++,t?this.tryNext(e):this.applySingleValue(e)},t.prototype.tryNext=function(e){try{var t=this.predicate(e,this.index,this.source);t&&this.applySingleValue(e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new a.EmptyError)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.skip=n;var a=function(){function e(e){this.total=e}return e.prototype.call=function(e){return new s(e,this.total)},e}(),s=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return i(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.skipUntil=n;var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e){return new u(e,this.notifier)},e}(),u=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(a.subscribeToResult(this,r))}return i(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(o.OuterSubscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.skipWhile=n;var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e){return new s(e,this.predicate)},e}(),s=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.skipping=!0,this.index=0}return i(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(r){this.destination.error(r)}},t}(o.Subscriber)},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];u.isScheduler(r)?e.pop():r=null;var n=e.length;return 1===n?s.concatStatic(new o.ScalarObservable(e[0],r),this):n>1?s.concatStatic(new i.ArrayObservable(e,r),this):s.concatStatic(new a.EmptyObservable(r),this)}var i=r(49),o=r(185),a=r(50),s=r(187),u=r(59);t.startWith=n},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=0),new i.SubscribeOnObservable(this,t,e)}var i=r(718);t.subscribeOn=n},function(e,t,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t._switch=n;var s=function(){function e(){}return e.prototype.call=function(e){return new u(e)},e}(),u=function(e){function t(t){e.call(this,t),this.active=0,this.hasCompleted=!1}return i(t,e),t.prototype._next=function(e){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=a.subscribeToResult(this,e))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},t.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var e=this.innerSubscription;e&&(e.unsubscribe(),this.remove(e))},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(o.OuterSubscriber)},function(e,t,r){"use strict";function n(e,t){return this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.switchMap=n;var s=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e){return new u(e,this.project,this.resultSelector)},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.index=0}return i(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){var t=this.innerSubscription;(!t||t.isUnsubscribed)&&e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._tryNotifyNext(e,t,r,n):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(o){return void this.destination.error(o)}this.destination.next(i)},t}(o.OuterSubscriber)},function(e,t,r){"use strict";function n(e,t){return this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.switchMapTo=n;var s=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e){return new u(e,this.observable,this.resultSelector)},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.inner=r,this.resultSelector=n,this.index=0}return i(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;(!t||t.isUnsubscribed)&&e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this,a=o.resultSelector,s=o.destination;a?this.tryResultSelector(e,t,r,n):s.next(t)},t.prototype.tryResultSelector=function(e,t,r,n){var i,o=this,a=o.resultSelector,s=o.destination;try{i=a(e,t,r,n)}catch(u){return void s.error(u)}s.next(i)},t}(o.OuterSubscriber)},function(e,t,r){"use strict";function n(e){return 0===e?new s.EmptyObservable:this.lift(new u(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(191),s=r(50);t.take=n;var u=function(){function e(e){if(this.total=e,this.total<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e){return new c(e,this.total)},e}(),c=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return i(t,e),t.prototype._next=function(e){var t=this.total;++this.count<=t&&(this.destination.next(e),this.count===t&&this.destination.complete())},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return 0===e?new s.EmptyObservable:this.lift(new u(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(191),s=r(50);t.takeLast=n;var u=function(){function e(e){if(this.total=e,this.total<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e){return new c(e,this.total)},e}(),c=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0,this.index=0,this.ring=new Array(r)}return i(t,e),t.prototype._next=function(e){var t=this.index,r=this.ring,n=this.total,i=this.count;n>1?n>i?(this.count=i+1,this.index=t+1):0===t?this.index=++t:n>t?this.index=t+1:this.index=t=0:n>i&&(this.count=n),r[t]=e},t.prototype._complete=function(){for(var e=-1,t=this,r=t.ring,n=t.count,i=t.total,o=t.destination,a=1===i||i>n?0:this.index-1;++e<n;)e+a===i&&(a=i-e),o.next(r[e+a]);o.complete()},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.takeUntil=n;var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e){return new u(e,this.notifier)},e}(),u=function(e){function t(t,r){e.call(this,t),this.notifier=r,this.add(a.subscribeToResult(this,r))}return i(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.complete()},t.prototype.notifyComplete=function(){},t}(o.OuterSubscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.takeWhile=n;var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e){return new s(e,this.predicate)},e}(),s=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return i(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(n){return void r.error(n)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.throttle=n;var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e){return new u(e,this.durationSelector)},e}(),u=function(e){function t(t,r){e.call(this,t),
this.destination=t,this.durationSelector=r}return i(t,e),t.prototype._next=function(e){this.throttled||this.tryDurationSelector(e)},t.prototype.tryDurationSelector=function(e){var t=null;try{t=this.durationSelector(e)}catch(r){return void this.destination.error(r)}this.emitAndThrottle(e,t)},t.prototype.emitAndThrottle=function(e,t){this.add(this.throttled=a.subscribeToResult(this,t)),this.destination.next(e)},t.prototype._unsubscribe=function(){var e=this.throttled;e&&(this.remove(e),this.throttled=null,e.unsubscribe())},t.prototype.notifyNext=function(e,t,r,n,i){this._unsubscribe()},t.prototype.notifyComplete=function(){this._unsubscribe()},t}(o.OuterSubscriber)},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=s.asap),this.lift(new u(e,t))}function i(e){var t=e.subscriber;t.clearThrottle()}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(2),s=r(32);t.throttleTime=n;var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e){return new c(e,this.delay,this.scheduler)},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n}return o(t,e),t.prototype._next=function(e){this.throttled||(this.add(this.throttled=this.scheduler.schedule(i,this.delay,{subscriber:this})),this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(e.unsubscribe(),this.remove(e),this.throttled=null)},t}(a.Subscriber)},function(e,t,r){"use strict";function n(e,t,r){void 0===t&&(t=null),void 0===r&&(r=o.asap);var n=a.isDate(e),i=n?+e-r.now():Math.abs(e);return this.lift(new u(i,n,t,r))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(32),a=r(125),s=r(2);t.timeout=n;var u=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.errorToSend=r,this.scheduler=n}return e.prototype.call=function(e){return new c(e,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler)},e}(),c=function(e){function t(t,r,n,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.errorToSend=i,this.scheduler=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return i(t,e),Object.defineProperty(t.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),t.dispatchTimeout=function(e){var t=e.subscriber,r=e.index;t.hasCompleted||t.previousIndex!==r||t.notifyTimeout()},t.prototype.scheduleTimeout=function(){var e=this.index;this.scheduler.schedule(t.dispatchTimeout,this.waitFor,{subscriber:this,index:e}),this.index++,this._previousIndex=e},t.prototype._next=function(e){this.destination.next(e),this.absoluteTimeout||this.scheduleTimeout()},t.prototype._error=function(e){this.destination.error(e),this._hasCompleted=!0},t.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},t.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))},t}(s.Subscriber)},function(e,t,r){"use strict";function n(e,t,r){void 0===r&&(r=o.asap);var n=a.isDate(e),i=n?+e-r.now():Math.abs(e);return this.lift(new c(i,n,t,r))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(32),a=r(125),s=r(9),u=r(10);t.timeoutWith=n;var c=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return e.prototype.call=function(e){return new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler)},e}(),l=function(e){function t(t,r,n,i,o){e.call(this),this.destination=t,this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,t.add(this),this.scheduleTimeout()}return i(t,e),Object.defineProperty(t.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),t.dispatchTimeout=function(e){var t=e.subscriber,r=e.index;t.hasCompleted||t.previousIndex!==r||t.handleTimeout()},t.prototype.scheduleTimeout=function(){var e=this.index,r={subscriber:this,index:e};this.scheduler.schedule(t.dispatchTimeout,this.waitFor,r),this.index++,this._previousIndex=e},t.prototype._next=function(e){this.destination.next(e),this.absoluteTimeout||this.scheduleTimeout()},t.prototype._error=function(e){this.destination.error(e),this._hasCompleted=!0},t.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},t.prototype.handleTimeout=function(){if(!this.isUnsubscribed){var e=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=u.subscribeToResult(this,e))}},t}(s.OuterSubscriber)},function(e,t,r){"use strict";function n(){return this.lift(new a)}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2);t.toArray=n;var a=function(){function e(){}return e.prototype.call=function(e){return new s(e)},e}(),s=function(e){function t(t){e.call(this,t),this.array=[]}return i(t,e),t.prototype._next=function(e){this.array.push(e)},t.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e){var t=this;if(e||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?e=i.root.Rx.config.Promise:i.root.Promise&&(e=i.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})}var i=r(43);t.toPromise=n},function(e,t,r){"use strict";function n(e){return this.lift(new u(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(30),a=r(9),s=r(10);t.window=n;var u=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e){return new c(e,this.closingNotifier)},e}(),c=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingNotifier=r,this.add(s.subscribeToResult(this,r)),this.openWindow()}return i(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new o.Subject;t.add(r),t.next(r)},t}(a.OuterSubscriber)},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=0),this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(2),a=r(30);t.windowCount=n;var s=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e){return new u(e,this.windowSize,this.startWindowEvery)},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.destination=t,this.windowSize=r,this.startWindowEvery=n,this.windows=[new a.Subject],this.count=0;var i=this.windows[0];t.add(i),t.next(i)}return i(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,s=0;o>s;s++)i[s].next(e);var u=this.count-n+1;if(u>=0&&u%t===0&&i.shift().complete(),++this.count%t===0){var c=new a.Subject;i.push(c),r.add(c),r.next(c)}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;)e.shift().complete();this.destination.complete()},t}(o.Subscriber)},function(e,t,r){"use strict";function n(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=l.asap),this.lift(new h(e,t,r))}function i(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&n.complete(),e.window=t.openWindow(),this.schedule(e,r)}function o(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,o=r.openWindow(),s=this,u={action:s,subscription:null},c={subscriber:r,window:o,context:u};u.subscription=n.schedule(a,t,c),s.add(u.subscription),s.schedule(e,i)}function a(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}var s=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},u=r(2),c=r(30),l=r(32);t.windowTime=n;var h=function(){function e(e,t,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.scheduler=r}return e.prototype.call=function(e){return new p(e,this.windowTimeSpan,this.windowCreationInterval,this.scheduler)},e}(),p=function(e){function t(t,r,n,s){if(e.call(this,t),this.destination=t,this.windowTimeSpan=r,this.windowCreationInterval=n,this.scheduler=s,this.windows=[],null!==n&&n>=0){var u=this.openWindow(),c={subscriber:this,window:u,context:null},l={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:s};this.add(s.schedule(a,r,c)),this.add(s.schedule(o,n,l))}else{var h=this.openWindow(),p={subscriber:this,window:h,windowTimeSpan:r};this.add(s.schedule(i,r,p))}}return s(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;r>n;n++){var i=t[n];i.isUnsubscribed||i.next(e)}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.isUnsubscribed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new c.Subject;this.windows.push(e);var t=this.destination;return t.add(e),t.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(u.Subscriber)},function(e,t,r){"use strict";function n(e,t){return this.lift(new h(e,t))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(30),a=r(31),s=r(18),u=r(14),c=r(9),l=r(10);t.windowToggle=n;var h=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e){return new p(e,this.openings,this.closingSelector)},e}(),p=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=l.subscribeToResult(this,r,r))}return i(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;r>n;n++)t[n].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,n=-1;++n<r;){var i=t[n];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,r,n,i){if(e===this.openings){var c=this.closingSelector,h=s.tryCatch(c)(t);if(h===u.errorObject)return this.error(u.errorObject.e);var p=new o.Subject,d=new a.Subscription,f={window:p,subscription:d};this.contexts.push(f);var m=l.subscribeToResult(this,h,f);m.context=f,d.add(m),this.destination.next(p)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){var t=this.contexts,r=t[e],n=r.window,i=r.subscription;t.splice(e,1),n.complete(),i.unsubscribe()},t}(c.OuterSubscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new l(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(30),a=r(18),s=r(14),u=r(9),c=r(10);t.windowWhen=n;var l=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e){return new h(e,this.closingSelector)},e}(),h=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingSelector=r,this.openWindow()}return i(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r=this.window=new o.Subject;this.destination.next(r);var n=a.tryCatch(this.closingSelector)();if(n===s.errorObject){var i=s.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=c.subscribeToResult(this,n)),this.add(r)},t}(u.OuterSubscriber)},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return this.lift(new s(n,r))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(9),a=r(10);t.withLatestFrom=n;var s=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e){return new u(e,this.observables,this.project)},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var o=0;i>o;o++)this.toRespond.push(o);for(var o=0;i>o;o++){var s=r[o];this.add(a.subscribeToResult(this,s,s,o))}}return i(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(r);-1!==a&&o.splice(a,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(o.OuterSubscriber)},function(e,t,r){"use strict";function n(e){return this.lift(new i.ZipOperator(e))}var i=r(189);t.zipAll=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(796),o=r(190),a=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype._schedule=function(t,r){if(void 0===r&&(r=0),r>0)return e.prototype._schedule.call(this,t,r);this.delay=r,this.state=t;var n=this.scheduler;return n.actions.push(this),n.scheduledId||(n.scheduledId=i.Immediate.setImmediate(function(){n.scheduledId=null,n.flush()})),this},t.prototype._unsubscribe=function(){var t=this.scheduler,r=t.scheduledId,n=t.actions;e.prototype._unsubscribe.call(this),0===n.length&&(t.active=!1,null!=r&&(t.scheduledId=null,i.Immediate.clearImmediate(r)))},t}(o.FutureAction);t.AsapAction=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(791),o=r(313),a=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.scheduleNow=function(e,t){return new i.AsapAction(this,e).schedule(t)},t}(o.QueueScheduler);t.AsapScheduler=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(190),o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype._schedule=function(t,r){if(void 0===r&&(r=0),r>0)return e.prototype._schedule.call(this,t,r);this.delay=r,this.state=t;var n=this.scheduler;return n.actions.push(this),n.flush(),this},t}(i.FutureAction);t.QueueAction=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(31),o=function(e){function t(t,r){e.call(this),this.subject=t,this.observer=r,this.isUnsubscribed=!1}return n(t,e),t.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isUnsubscribed){var r=t.indexOf(this.observer);-1!==r&&t.splice(r,1)}}},t}(i.Subscription);t.SubjectSubscription=o},function(e,t){"use strict";var r=function(){function e(){this.values={}}return e.prototype["delete"]=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&e.call(t,r[n],n)},e.prototype.clear=function(){this.values={}},e}();t.FastMap=r},function(e,t,r){(function(e,n){"use strict";var i=r(43),o=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function r(e){delete r.instance.tasksByHandle[e]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=function i(){var e=i,t=e.handler,r=e.args;"function"==typeof t?t.apply(void 0,r):new Function(""+t)()};return n.handler=e,n.args=t,n},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function t(){var e=t.instance,r=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,r)),r};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",r=function i(r){var n=i.instance;r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&n.runIfPresent(+r.data.slice(t.length))};r.instance=this,e.addEventListener("message",r,!1);var n=function o(){var e=o,t=e.messagePrefix,r=e.instance,n=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(t+n,"*"),n};return n.instance=this,n.messagePrefix=t,n},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var r=t.data;e.runIfPresent(r)};var r=function n(){var e=n,t=e.channel,r=e.instance,i=r.addFromSetImmediateArguments(arguments);return t.port2.postMessage(i),i};return r.channel=t,r.instance=this,r},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function t(){var e=t.instance,r=e.root,n=r.document,i=n.documentElement,o=e.addFromSetImmediateArguments(arguments),a=n.createElement("script");return a.onreadystatechange=function(){e.runIfPresent(o),a.onreadystatechange=null,i.removeChild(a),a=null},i.appendChild(a),o};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function t(){var e=t.instance,r=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,r),0),r};return e.instance=this,e},e}();t.ImmediateDefinition=o,t.Immediate=new o(i.root)}).call(t,r(89).clearImmediate,r(89).setImmediate)},function(e,t,r){"use strict";var n=r(43),i=r(798);t.Map=n.root.Map||function(){return i.MapPolyfill}()},function(e,t){"use strict";var r=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},e.prototype.set=function(e,t){var r=this._keys.indexOf(e);return-1===r?(this._keys.push(e),this._values.push(t),this.size++):this._values[r]=t,this},e.prototype["delete"]=function(e){var t=this._keys.indexOf(e);return-1===t?!1:(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var r=0;r<this.size;r++)e.call(t,this._values[r],this._keys[r])},e}();t.MapPolyfill=r},function(e,t){"use strict";function r(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}t.not=r},function(e,t,r){"use strict";function n(e,t,r){if(e&&"object"==typeof e){if(e instanceof i.Subscriber)return e;if("function"==typeof e[o.rxSubscriber])return e[o.rxSubscriber]()}return new i.Subscriber(e,t,r)}var i=r(2),o=r(123);t.toSubscriber=n},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t){function r(e){var t=function(e){return e.trim()},r={};return n(e).map(t).filter(Boolean).forEach(function(e){var t=e.indexOf(":"),n=e.substr(0,t).trim(),i=e.substr(t+1).trim();r[n]=i}),r}function n(e){for(var t,r=[],n=0,i=";",o=/url\([^\)]+$/,a="";n<e.length;)t=e.indexOf(i,n),-1===t&&(t=e.length),a+=e.substring(n,t),o.test(a)?(a+=";",n=t+1):(r.push(a),a="",n=t+1);return r}function i(e){return Object.keys(e).map(function(t){return t+":"+e[t]}).join(";")}function o(e){return i(r(e))}e.exports.parse=r,e.exports.stringify=i,e.exports.normalize=o},function(e,t,r){function n(e){h.call(this),"string"==typeof e&&(e={text:e}),this._opt=u({},e),e&&this.update(e)}var i=r(412),o=r(408),a=r(429),s=r(806),u=r(416),c=r(805),l=r(804),h=THREE.BufferGeometry;e.exports=function(e){return new n(e)},o(n,h),n.prototype.update=function(e){if("string"==typeof e&&(e={text:e}),e=u({},this._opt,e),!e.font)throw new TypeError("must specify a { font } in options");this.layout=i(e);var t=e.flipY!==!1,r=e.font,n=r.common.scaleW,o=r.common.scaleH,l=this.layout.glyphs.filter(function(e){var t=e.data;return t.width*t.height>0});this.visibleGlyphs=l;var h=c.positions(l),p=c.uvs(l,n,o,t),d=a({clockwise:!0,type:"uint16",count:l.length});if(s.index(this,d,1,"uint16"),s.attr(this,"position",h,2),s.attr(this,"uv",p,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var f=c.pages(l);s.attr(this,"page",f,1)}},n.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;return!e||!t||e.length<2?(this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0)):(l.computeSphere(e,this.boundingSphere),void(isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')))},n.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,r=this.attributes.position.itemSize;return!t||!r||t.length<2?void e.makeEmpty():void l.computeBox(t,e)}},function(e,t){function r(e){var t=e.length/n;i.min[0]=e[0],i.min[1]=e[1],i.max[0]=e[0],i.max[1]=e[1];for(var r=0;t>r;r++){var o=e[r*n+0],a=e[r*n+1];i.min[0]=Math.min(o,i.min[0]),i.min[1]=Math.min(a,i.min[1]),i.max[0]=Math.max(o,i.max[0]),i.max[1]=Math.max(a,i.max[1])}}var n=2,i={min:[0,0],max:[0,0]};e.exports.computeBox=function(e,t){r(e),t.min.set(i.min[0],i.min[1],0),t.max.set(i.max[0],i.max[1],0)},e.exports.computeSphere=function(e,t){r(e);var n=i.min[0],o=i.min[1],a=i.max[0],s=i.max[1],u=a-n,c=s-o,l=Math.sqrt(u*u+c*c);t.center.set(n+u/2,o+c/2,0),t.radius=l/2}},function(e,t){e.exports.pages=function r(e){var r=new Float32Array(4*e.length*1),t=0;return e.forEach(function(e){var n=e.data.page||0;r[t++]=n,r[t++]=n,r[t++]=n,r[t++]=n}),r},e.exports.uvs=function n(e,t,r,i){var n=new Float32Array(4*e.length*2),o=0;return e.forEach(function(e){var a=e.data,s=a.x+a.width,u=a.y+a.height,c=a.x/t,l=a.y/r,h=s/t,p=u/r;i&&(l=(r-a.y)/r,p=(r-u)/r),n[o++]=c,n[o++]=l,n[o++]=c,n[o++]=p,n[o++]=h,n[o++]=p,n[o++]=h,n[o++]=l}),n},e.exports.positions=function i(e){var i=new Float32Array(4*e.length*2),t=0;return e.forEach(function(e){var r=e.data,n=e.position[0]+r.xoffset,o=e.position[1]+r.yoffset,a=r.width,s=r.height;i[t++]=n,i[t++]=o,i[t++]=n,i[t++]=o+s,i[t++]=n+a,i[t++]=o+s,i[t++]=n+a,i[t++]=o}),i}},function(e,t,r){function n(e,t,r,n){"number"!=typeof r&&(r=1),"number"!=typeof n&&(n="uint16");var i=!e.index&&"function"!=typeof e.setIndex,a=i?e.getAttribute("index"):e.index,s=o(a,t,r,n);s&&(i?e.addAttribute("index",s):e.index=s)}function i(e,t,r,n,i){if("number"!=typeof n&&(n=3),"number"!=typeof i&&(i="float32"),Array.isArray(r)&&Array.isArray(r[0])&&r[0].length!==n)throw new Error("Nested vertex array has unexpected size; expected "+n+" but found "+r[0].length);var a=e.getAttribute(t),s=o(a,r,n,i);s&&e.addAttribute(t,s)}function o(e,t,r,n){return t=t||[],!e||a(e,t,r)?(t=s(t,n),e=new THREE.BufferAttribute(t,r),e.needsUpdate=!0,e):(s(t,e.array),e.needsUpdate=!0,null)}function a(e,t,r){if(e.itemSize!==r)return!0;if(!e.array)return!0;var n=e.array.length;return Array.isArray(t)&&Array.isArray(t[0])?n!==t.length*r:n!==t.length}var s=r(400);e.exports.attr=i,e.exports.index=n},function(e,t){function r(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=r,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function r(e,t,r,n){var i=e.indexOf(t,r);return-1===i||i>n?n:i}function n(e){return c.test(e)}function i(e,t,r,n,i){for(var o=[],a=r,u=r;n>u&&u<t.length;u++){var c=t.charAt(u),l=s.test(c);if(l||u===n-1){var h=l?u:u+1,p=e(t,a,h,i);o.push(p),a=u+1}}return o}function o(e,t,i,o,a,s){var c=[],l=a;for("nowrap"===s&&(l=Number.MAX_VALUE);o>i&&i<t.length;){for(var h=r(t,u,i,o);h>i&&n(t.charAt(i));)i++;var p=e(t,i,h,l),d=i+(p.end-p.start),f=d+u.length;if(h>d){for(;d>i&&!n(t.charAt(d));)d--;if(d===i)f>i+u.length&&f--,d=f;else for(f=d;d>i&&n(t.charAt(d-u.length));)d--}if(d>=i){var m=e(t,i,d,l);c.push(m)}i=f}return c}function a(e,t,r,n){var i=Math.min(n,r-t);return{start:t,end:t+i}}var s=/\n/,u="\n",c=/\s/;e.exports=function(t,r){var n=e.exports.lines(t,r);return n.map(function(e){return t.substring(e.start,e.end)}).join("\n")},e.exports.lines=function(e,t){if(t=t||{},0===t.width&&"nowrap"!==t.mode)return[];e=e||"";var r="number"==typeof t.width?t.width:Number.MAX_VALUE,n=Math.max(0,t.start||0),s="number"==typeof t.end?t.end:e.length,u=t.mode,c=t.measure||a;return"pre"===u?i(c,e,n,s,r):o(c,e,n,s,r,u)}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<e.length;r++)t(e[r])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t,r){var n=e;return h(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=d(t,{uri:e}),n.callback=r,n}function a(e,t,r){return t=o(e,t,r),s(t)}function s(e){function t(){4===c.readyState&&o()}function r(){var e=void 0;if(c.response?e=c.response:"text"!==c.responseType&&c.responseType||(e=c.responseText||c.responseXML),_)try{e=JSON.parse(e)}catch(t){}return e}function n(e){clearTimeout(f),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,u)}function o(){if(!d){var t;clearTimeout(f),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var n=u,i=null;0!==t?(n={body:r(),statusCode:t,method:v,headers:{},url:m,rawRequest:c},c.getAllResponseHeaders&&(n.headers=p(c.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),s(i,n,n.body)}}var s=e.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=l(s);var u={body:void 0,headers:{},statusCode:0,method:v,url:m,rawRequest:c},c=e.xhr||null;c||(c=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var h,d,f,m=c.url=e.uri||e.url,v=c.method=e.method||"GET",g=e.body||e.data||null,y=c.headers=e.headers||{},b=!!e.sync,_=!1;if("json"in e&&(_=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),g=JSON.stringify(e.json))),c.onreadystatechange=t,c.onload=o,c.onerror=n,c.onprogress=function(){},c.ontimeout=n,c.open(v,m,!b,e.username,e.password),b||(c.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(f=setTimeout(function(){d=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)},e.timeout)),c.setRequestHeader)for(h in y)y.hasOwnProperty(h)&&c.setRequestHeader(h,y[h]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(g),c}function u(){}var c=r(402),l=r(811),h=r(233),p=r(421),d=r(196);
e.exports=a,a.XMLHttpRequest=c.XMLHttpRequest||u,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:c.XDomainRequest,n(["get","put","post","patch","head","delete"],function(e){a["delete"===e?"del":e]=function(t,r,n){return r=o(t,r,n),r.method=e.toUpperCase(),s(r)}})},function(e,t){function r(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}e.exports=r,r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0})})},function(e,t){e.exports=function(){return"undefined"!=typeof window.DOMParser?function(e){var t=new window.DOMParser;return t.parseFromString(e,"application/xml")}:"undefined"!=typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}}()}]);
//# sourceMappingURL=bundle.js.map